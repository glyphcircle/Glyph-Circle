function B3(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var hM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gb={exports:{}},t0={},zb={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=Symbol.for("react.element"),N3=Symbol.for("react.portal"),S3=Symbol.for("react.fragment"),E3=Symbol.for("react.strict_mode"),_3=Symbol.for("react.profiler"),F3=Symbol.for("react.provider"),k3=Symbol.for("react.context"),U3=Symbol.for("react.forward_ref"),I3=Symbol.for("react.suspense"),j3=Symbol.for("react.memo"),L3=Symbol.for("react.lazy"),I1=Symbol.iterator;function Q3(t){return t===null||typeof t!="object"?null:(t=I1&&t[I1]||t["@@iterator"],typeof t=="function"?t:null)}var qb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$b=Object.assign,Wb={};function Dl(t,e,r){this.props=t,this.context=e,this.refs=Wb,this.updater=r||qb}Dl.prototype.isReactComponent={};Dl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jb(){}Jb.prototype=Dl.prototype;function Lw(t,e,r){this.props=t,this.context=e,this.refs=Wb,this.updater=r||qb}var Qw=Lw.prototype=new Jb;Qw.constructor=Lw;$b(Qw,Dl.prototype);Qw.isPureReactComponent=!0;var j1=Array.isArray,Yb=Object.prototype.hasOwnProperty,Tw={current:null},Xb={key:!0,ref:!0,__self:!0,__source:!0};function Zb(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Yb.call(e,n)&&!Xb.hasOwnProperty(n)&&(s[n]=e[n]);var A=arguments.length-2;if(A===1)s.children=r;else if(1<A){for(var l=Array(A),c=0;c<A;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in A=t.defaultProps,A)s[n]===void 0&&(s[n]=A[n]);return{$$typeof:Mu,type:t,key:i,ref:a,props:s,_owner:Tw.current}}function T3(t,e){return{$$typeof:Mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mu}function P3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var L1=/\/+/g;function bp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?P3(""+t.key):e.toString(36)}function Mh(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Mu:case N3:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+bp(a,0):n,j1(s)?(r="",t!=null&&(r=t.replace(L1,"$&/")+"/"),Mh(s,e,r,"",function(c){return c})):s!=null&&(Pw(s)&&(s=T3(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(L1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",j1(t))for(var A=0;A<t.length;A++){i=t[A];var l=n+bp(i,A);a+=Mh(i,e,r,l,s)}else if(l=Q3(t),typeof l=="function")for(t=l.call(t),A=0;!(i=t.next()).done;)i=i.value,l=n+bp(i,A++),a+=Mh(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Md(t,e,r){if(t==null)return t;var n=[],s=0;return Mh(t,n,"","",function(i){return e.call(r,i,s++)}),n}function R3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var En={current:null},Hh={transition:null},D3={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:Hh,ReactCurrentOwner:Tw};function e5(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:Md,forEach:function(t,e,r){Md(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Md(t,function(){e++}),e},toArray:function(t){return Md(t,function(e){return e})||[]},only:function(t){if(!Pw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mt.Component=Dl;mt.Fragment=S3;mt.Profiler=_3;mt.PureComponent=Lw;mt.StrictMode=E3;mt.Suspense=I3;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D3;mt.act=e5;mt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=$b({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Tw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var A=t.type.defaultProps;for(l in e)Yb.call(e,l)&&!Xb.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&A!==void 0?A[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){A=Array(l);for(var c=0;c<l;c++)A[c]=arguments[c+2];n.children=A}return{$$typeof:Mu,type:t.type,key:s,ref:i,props:n,_owner:a}};mt.createContext=function(t){return t={$$typeof:k3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:F3,_context:t},t.Consumer=t};mt.createElement=Zb;mt.createFactory=function(t){var e=Zb.bind(null,t);return e.type=t,e};mt.createRef=function(){return{current:null}};mt.forwardRef=function(t){return{$$typeof:U3,render:t}};mt.isValidElement=Pw;mt.lazy=function(t){return{$$typeof:L3,_payload:{_status:-1,_result:t},_init:R3}};mt.memo=function(t,e){return{$$typeof:j3,type:t,compare:e===void 0?null:e}};mt.startTransition=function(t){var e=Hh.transition;Hh.transition={};try{t()}finally{Hh.transition=e}};mt.unstable_act=e5;mt.useCallback=function(t,e){return En.current.useCallback(t,e)};mt.useContext=function(t){return En.current.useContext(t)};mt.useDebugValue=function(){};mt.useDeferredValue=function(t){return En.current.useDeferredValue(t)};mt.useEffect=function(t,e){return En.current.useEffect(t,e)};mt.useId=function(){return En.current.useId()};mt.useImperativeHandle=function(t,e,r){return En.current.useImperativeHandle(t,e,r)};mt.useInsertionEffect=function(t,e){return En.current.useInsertionEffect(t,e)};mt.useLayoutEffect=function(t,e){return En.current.useLayoutEffect(t,e)};mt.useMemo=function(t,e){return En.current.useMemo(t,e)};mt.useReducer=function(t,e,r){return En.current.useReducer(t,e,r)};mt.useRef=function(t){return En.current.useRef(t)};mt.useState=function(t){return En.current.useState(t)};mt.useSyncExternalStore=function(t,e,r){return En.current.useSyncExternalStore(t,e,r)};mt.useTransition=function(){return En.current.useTransition()};mt.version="18.3.1";zb.exports=mt;var F=zb.exports;const t5=C3(F),r5=B3({__proto__:null,default:t5},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O3=F,M3=Symbol.for("react.element"),H3=Symbol.for("react.fragment"),K3=Object.prototype.hasOwnProperty,V3=O3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G3={key:!0,ref:!0,__self:!0,__source:!0};function n5(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)K3.call(e,n)&&!G3.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:M3,type:t,key:i,ref:a,props:s,_owner:V3.current}}t0.Fragment=H3;t0.jsx=n5;t0.jsxs=n5;Gb.exports=t0;var o=Gb.exports,Rg={},s5={exports:{}},is={},i5={exports:{}},a5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,z){var se=q.length;q.push(z);e:for(;0<se;){var ue=se-1>>>1,_=q[ue];if(0<s(_,z))q[ue]=z,q[se]=_,se=ue;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var z=q[0],se=q.pop();if(se!==z){q[0]=se;e:for(var ue=0,_=q.length,I=_>>>1;ue<I;){var V=2*(ue+1)-1,Y=q[V],ee=V+1,re=q[ee];if(0>s(Y,se))ee<_&&0>s(re,Y)?(q[ue]=re,q[ee]=se,ue=ee):(q[ue]=Y,q[V]=se,ue=V);else if(ee<_&&0>s(re,se))q[ue]=re,q[ee]=se,ue=ee;else break e}}return z}function s(q,z){var se=q.sortIndex-z.sortIndex;return se!==0?se:q.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,A=a.now();t.unstable_now=function(){return a.now()-A}}var l=[],c=[],u=1,h=null,p=3,f=!1,m=!1,w=!1,B=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(q){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=q)n(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(c)}}function k(q){if(w=!1,C(q),!m)if(r(l)!==null)m=!0,ie(R);else{var z=r(c);z!==null&&Z(k,z.startTime-q)}}function R(q,z){m=!1,w&&(w=!1,x(U),U=-1),f=!0;var se=p;try{for(C(z),h=r(l);h!==null&&(!(h.expirationTime>z)||q&&!L());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,p=h.priorityLevel;var _=ue(h.expirationTime<=z);z=t.unstable_now(),typeof _=="function"?h.callback=_:h===r(l)&&n(l),C(z)}else n(l);h=r(l)}if(h!==null)var I=!0;else{var V=r(c);V!==null&&Z(k,V.startTime-z),I=!1}return I}finally{h=null,p=se,f=!1}}var P=!1,M=null,U=-1,H=5,$=-1;function L(){return!(t.unstable_now()-$<H)}function T(){if(M!==null){var q=t.unstable_now();$=q;var z=!0;try{z=M(!0,q)}finally{z?W():(P=!1,M=null)}}else P=!1}var W;if(typeof y=="function")W=function(){y(T)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,le=J.port2;J.port1.onmessage=T,W=function(){le.postMessage(null)}}else W=function(){B(T,0)};function ie(q){M=q,P||(P=!0,W())}function Z(q,z){U=B(function(){q(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,ie(R))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var se=p;p=z;try{return q()}finally{p=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=p;p=q;try{return z()}finally{p=se}},t.unstable_scheduleCallback=function(q,z,se){var ue=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ue+se:ue):se=ue,q){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=se+_,q={id:u++,callback:z,priorityLevel:q,startTime:se,expirationTime:_,sortIndex:-1},se>ue?(q.sortIndex=se,e(c,q),r(l)===null&&q===r(c)&&(w?(x(U),U=-1):w=!0,Z(k,se-ue))):(q.sortIndex=_,e(l,q),m||f||(m=!0,ie(R))),q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(q){var z=p;return function(){var se=p;p=z;try{return q.apply(this,arguments)}finally{p=se}}}})(a5);i5.exports=a5;var z3=i5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q3=F,ns=z3;function Fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o5=new Set,cu={};function Zo(t,e){Ul(t,e),Ul(t+"Capture",e)}function Ul(t,e){for(cu[t]=e,t=0;t<e.length;t++)o5.add(e[t])}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dg=Object.prototype.hasOwnProperty,$3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q1={},T1={};function W3(t){return Dg.call(T1,t)?!0:Dg.call(Q1,t)?!1:$3.test(t)?T1[t]=!0:(Q1[t]=!0,!1)}function J3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y3(t,e,r,n){if(e===null||typeof e>"u"||J3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rw=/[\-:]([a-z])/g;function Dw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rw,Dw);an[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rw,Dw);an[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rw,Dw);an[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ow(t,e,r,n){var s=an.hasOwnProperty(e)?an[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y3(e,r,s,n)&&(r=null),n||s===null?W3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var sa=q3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hd=Symbol.for("react.element"),tl=Symbol.for("react.portal"),rl=Symbol.for("react.fragment"),Mw=Symbol.for("react.strict_mode"),Og=Symbol.for("react.profiler"),A5=Symbol.for("react.provider"),l5=Symbol.for("react.context"),Hw=Symbol.for("react.forward_ref"),Mg=Symbol.for("react.suspense"),Hg=Symbol.for("react.suspense_list"),Kw=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),c5=Symbol.for("react.offscreen"),P1=Symbol.iterator;function yc(t){return t===null||typeof t!="object"?null:(t=P1&&t[P1]||t["@@iterator"],typeof t=="function"?t:null)}var or=Object.assign,Bp;function Qc(t){if(Bp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Bp=e&&e[1]||""}return`
`+Bp+t}var Cp=!1;function Np(t,e){if(!t||Cp)return"";Cp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,A=i.length-1;1<=a&&0<=A&&s[a]!==i[A];)A--;for(;1<=a&&0<=A;a--,A--)if(s[a]!==i[A]){if(a!==1||A!==1)do if(a--,A--,0>A||s[a]!==i[A]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=A);break}}}finally{Cp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Qc(t):""}function X3(t){switch(t.tag){case 5:return Qc(t.type);case 16:return Qc("Lazy");case 13:return Qc("Suspense");case 19:return Qc("SuspenseList");case 0:case 2:case 15:return t=Np(t.type,!1),t;case 11:return t=Np(t.type.render,!1),t;case 1:return t=Np(t.type,!0),t;default:return""}}function Kg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rl:return"Fragment";case tl:return"Portal";case Og:return"Profiler";case Mw:return"StrictMode";case Mg:return"Suspense";case Hg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case l5:return(t.displayName||"Context")+".Consumer";case A5:return(t._context.displayName||"Context")+".Provider";case Hw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kw:return e=t.displayName||null,e!==null?e:Kg(t.type)||"Memo";case Fa:e=t._payload,t=t._init;try{return Kg(t(e))}catch{}}return null}function Z3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kg(e);case 8:return e===Mw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eS(t){var e=u5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kd(t){t._valueTracker||(t._valueTracker=eS(t))}function d5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=u5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function uf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vg(t,e){var r=e.checked;return or({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function R1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=eo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function h5(t,e){e=e.checked,e!=null&&Ow(t,"checked",e,!1)}function Gg(t,e){h5(t,e);var r=eo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zg(t,e.type,r):e.hasOwnProperty("defaultValue")&&zg(t,e.type,eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function D1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function zg(t,e,r){(e!=="number"||uf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Tc=Array.isArray;function ml(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+eo(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return or({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Fe(92));if(Tc(r)){if(1<r.length)throw Error(Fe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:eo(r)}}function f5(t,e){var r=eo(e.value),n=eo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function M1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function p5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $g(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?p5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vd,g5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vd=Vd||document.createElement("div"),Vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var qc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tS=["Webkit","ms","Moz","O"];Object.keys(qc).forEach(function(t){tS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qc[e]=qc[t]})});function m5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||qc.hasOwnProperty(t)&&qc[t]?(""+e).trim():e+"px"}function w5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=m5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var rS=or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(t,e){if(e){if(rS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function Jg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yg=null;function Vw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xg=null,wl=null,vl=null;function H1(t){if(t=Vu(t)){if(typeof Xg!="function")throw Error(Fe(280));var e=t.stateNode;e&&(e=a0(e),Xg(t.stateNode,t.type,e))}}function v5(t){wl?vl?vl.push(t):vl=[t]:wl=t}function x5(){if(wl){var t=wl,e=vl;if(vl=wl=null,H1(t),e)for(t=0;t<e.length;t++)H1(e[t])}}function y5(t,e){return t(e)}function b5(){}var Sp=!1;function B5(t,e,r){if(Sp)return t(e,r);Sp=!0;try{return y5(t,e,r)}finally{Sp=!1,(wl!==null||vl!==null)&&(b5(),x5())}}function du(t,e){var r=t.stateNode;if(r===null)return null;var n=a0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Fe(231,e,typeof r));return r}var Zg=!1;if(Xi)try{var bc={};Object.defineProperty(bc,"passive",{get:function(){Zg=!0}}),window.addEventListener("test",bc,bc),window.removeEventListener("test",bc,bc)}catch{Zg=!1}function nS(t,e,r,n,s,i,a,A,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var $c=!1,df=null,hf=!1,em=null,sS={onError:function(t){$c=!0,df=t}};function iS(t,e,r,n,s,i,a,A,l){$c=!1,df=null,nS.apply(sS,arguments)}function aS(t,e,r,n,s,i,a,A,l){if(iS.apply(this,arguments),$c){if($c){var c=df;$c=!1,df=null}else throw Error(Fe(198));hf||(hf=!0,em=c)}}function eA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function C5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function K1(t){if(eA(t)!==t)throw Error(Fe(188))}function oS(t){var e=t.alternate;if(!e){if(e=eA(t),e===null)throw Error(Fe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return K1(s),t;if(i===n)return K1(s),e;i=i.sibling}throw Error(Fe(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,A=s.child;A;){if(A===r){a=!0,r=s,n=i;break}if(A===n){a=!0,n=s,r=i;break}A=A.sibling}if(!a){for(A=i.child;A;){if(A===r){a=!0,r=i,n=s;break}if(A===n){a=!0,n=i,r=s;break}A=A.sibling}if(!a)throw Error(Fe(189))}}if(r.alternate!==n)throw Error(Fe(190))}if(r.tag!==3)throw Error(Fe(188));return r.stateNode.current===r?t:e}function N5(t){return t=oS(t),t!==null?S5(t):null}function S5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=S5(t);if(e!==null)return e;t=t.sibling}return null}var E5=ns.unstable_scheduleCallback,V1=ns.unstable_cancelCallback,AS=ns.unstable_shouldYield,lS=ns.unstable_requestPaint,br=ns.unstable_now,cS=ns.unstable_getCurrentPriorityLevel,Gw=ns.unstable_ImmediatePriority,_5=ns.unstable_UserBlockingPriority,ff=ns.unstable_NormalPriority,uS=ns.unstable_LowPriority,F5=ns.unstable_IdlePriority,r0=null,Ni=null;function dS(t){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(r0,t,void 0,(t.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:pS,hS=Math.log,fS=Math.LN2;function pS(t){return t>>>=0,t===0?32:31-(hS(t)/fS|0)|0}var Gd=64,zd=4194304;function Pc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var A=a&~s;A!==0?n=Pc(A):(i&=a,i!==0&&(n=Pc(i)))}else a=r&~s,a!==0?n=Pc(a):i!==0&&(n=Pc(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Zs(e),s=1<<r,n|=t[r],e&=~s;return n}function gS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mS(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Zs(i),A=1<<a,l=s[a];l===-1?(!(A&r)||A&n)&&(s[a]=gS(A,e)):l<=e&&(t.expiredLanes|=A),i&=~A}}function tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function k5(){var t=Gd;return Gd<<=1,!(Gd&4194240)&&(Gd=64),t}function Ep(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zs(e),t[e]=r}function wS(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Zs(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function zw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Zs(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Qt=0;function U5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var I5,qw,j5,L5,Q5,rm=!1,qd=[],Ha=null,Ka=null,Va=null,hu=new Map,fu=new Map,ja=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G1(t,e){switch(t){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(e.pointerId)}}function Bc(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vu(e),e!==null&&qw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xS(t,e,r,n,s){switch(e){case"focusin":return Ha=Bc(Ha,t,e,r,n,s),!0;case"dragenter":return Ka=Bc(Ka,t,e,r,n,s),!0;case"mouseover":return Va=Bc(Va,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return hu.set(i,Bc(hu.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,fu.set(i,Bc(fu.get(i)||null,t,e,r,n,s)),!0}return!1}function T5(t){var e=Po(t.target);if(e!==null){var r=eA(e);if(r!==null){if(e=r.tag,e===13){if(e=C5(r),e!==null){t.blockedOn=e,Q5(t.priority,function(){j5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Yg=n,r.target.dispatchEvent(n),Yg=null}else return e=Vu(r),e!==null&&qw(e),t.blockedOn=r,!1;e.shift()}return!0}function z1(t,e,r){Kh(t)&&r.delete(e)}function yS(){rm=!1,Ha!==null&&Kh(Ha)&&(Ha=null),Ka!==null&&Kh(Ka)&&(Ka=null),Va!==null&&Kh(Va)&&(Va=null),hu.forEach(z1),fu.forEach(z1)}function Cc(t,e){t.blockedOn===e&&(t.blockedOn=null,rm||(rm=!0,ns.unstable_scheduleCallback(ns.unstable_NormalPriority,yS)))}function pu(t){function e(s){return Cc(s,t)}if(0<qd.length){Cc(qd[0],t);for(var r=1;r<qd.length;r++){var n=qd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ha!==null&&Cc(Ha,t),Ka!==null&&Cc(Ka,t),Va!==null&&Cc(Va,t),hu.forEach(e),fu.forEach(e),r=0;r<ja.length;r++)n=ja[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ja.length&&(r=ja[0],r.blockedOn===null);)T5(r),r.blockedOn===null&&ja.shift()}var xl=sa.ReactCurrentBatchConfig,gf=!0;function bS(t,e,r,n){var s=Qt,i=xl.transition;xl.transition=null;try{Qt=1,$w(t,e,r,n)}finally{Qt=s,xl.transition=i}}function BS(t,e,r,n){var s=Qt,i=xl.transition;xl.transition=null;try{Qt=4,$w(t,e,r,n)}finally{Qt=s,xl.transition=i}}function $w(t,e,r,n){if(gf){var s=nm(t,e,r,n);if(s===null)Pp(t,e,n,mf,r),G1(t,n);else if(xS(s,t,e,r,n))n.stopPropagation();else if(G1(t,n),e&4&&-1<vS.indexOf(t)){for(;s!==null;){var i=Vu(s);if(i!==null&&I5(i),i=nm(t,e,r,n),i===null&&Pp(t,e,n,mf,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Pp(t,e,n,null,r)}}var mf=null;function nm(t,e,r,n){if(mf=null,t=Vw(n),t=Po(t),t!==null)if(e=eA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=C5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mf=t,null}function P5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cS()){case Gw:return 1;case _5:return 4;case ff:case uS:return 16;case F5:return 536870912;default:return 16}default:return 16}}var Ta=null,Ww=null,Vh=null;function R5(){if(Vh)return Vh;var t,e=Ww,r=e.length,n,s="value"in Ta?Ta.value:Ta.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Vh=s.slice(t,1<n?1-n:void 0)}function Gh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $d(){return!0}function q1(){return!1}function as(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(i):i[A]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$d:q1,this.isPropagationStopped=q1,this}return or(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$d)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$d)},persist:function(){},isPersistent:$d}),e}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jw=as(Ol),Ku=or({},Ol,{view:0,detail:0}),CS=as(Ku),_p,Fp,Nc,n0=or({},Ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nc&&(Nc&&t.type==="mousemove"?(_p=t.screenX-Nc.screenX,Fp=t.screenY-Nc.screenY):Fp=_p=0,Nc=t),_p)},movementY:function(t){return"movementY"in t?t.movementY:Fp}}),$1=as(n0),NS=or({},n0,{dataTransfer:0}),SS=as(NS),ES=or({},Ku,{relatedTarget:0}),kp=as(ES),_S=or({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),FS=as(_S),kS=or({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),US=as(kS),IS=or({},Ol,{data:0}),W1=as(IS),jS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QS[t])?!!e[t]:!1}function Yw(){return TS}var PS=or({},Ku,{key:function(t){if(t.key){var e=jS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yw,charCode:function(t){return t.type==="keypress"?Gh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RS=as(PS),DS=or({},n0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J1=as(DS),OS=or({},Ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yw}),MS=as(OS),HS=or({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),KS=as(HS),VS=or({},n0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GS=as(VS),zS=[9,13,27,32],Xw=Xi&&"CompositionEvent"in window,Wc=null;Xi&&"documentMode"in document&&(Wc=document.documentMode);var qS=Xi&&"TextEvent"in window&&!Wc,D5=Xi&&(!Xw||Wc&&8<Wc&&11>=Wc),Y1=" ",X1=!1;function O5(t,e){switch(t){case"keyup":return zS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nl=!1;function $S(t,e){switch(t){case"compositionend":return M5(e);case"keypress":return e.which!==32?null:(X1=!0,Y1);case"textInput":return t=e.data,t===Y1&&X1?null:t;default:return null}}function WS(t,e){if(nl)return t==="compositionend"||!Xw&&O5(t,e)?(t=R5(),Vh=Ww=Ta=null,nl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D5&&e.locale!=="ko"?null:e.data;default:return null}}var JS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JS[t.type]:e==="textarea"}function H5(t,e,r,n){v5(n),e=wf(e,"onChange"),0<e.length&&(r=new Jw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Jc=null,gu=null;function YS(t){Z5(t,0)}function s0(t){var e=al(t);if(d5(e))return t}function XS(t,e){if(t==="change")return e}var K5=!1;if(Xi){var Up;if(Xi){var Ip="oninput"in document;if(!Ip){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),Ip=typeof ex.oninput=="function"}Up=Ip}else Up=!1;K5=Up&&(!document.documentMode||9<document.documentMode)}function tx(){Jc&&(Jc.detachEvent("onpropertychange",V5),gu=Jc=null)}function V5(t){if(t.propertyName==="value"&&s0(gu)){var e=[];H5(e,gu,t,Vw(t)),B5(YS,e)}}function ZS(t,e,r){t==="focusin"?(tx(),Jc=e,gu=r,Jc.attachEvent("onpropertychange",V5)):t==="focusout"&&tx()}function eE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return s0(gu)}function tE(t,e){if(t==="click")return s0(e)}function rE(t,e){if(t==="input"||t==="change")return s0(e)}function nE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ti=typeof Object.is=="function"?Object.is:nE;function mu(t,e){if(ti(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Dg.call(e,s)||!ti(t[s],e[s]))return!1}return!0}function rx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nx(t,e){var r=rx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rx(r)}}function G5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function z5(){for(var t=window,e=uf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=uf(t.document)}return e}function Zw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sE(t){var e=z5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&G5(r.ownerDocument.documentElement,r)){if(n!==null&&Zw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=nx(r,i);var a=nx(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iE=Xi&&"documentMode"in document&&11>=document.documentMode,sl=null,sm=null,Yc=null,im=!1;function sx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;im||sl==null||sl!==uf(n)||(n=sl,"selectionStart"in n&&Zw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yc&&mu(Yc,n)||(Yc=n,n=wf(sm,"onSelect"),0<n.length&&(e=new Jw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=sl)))}function Wd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var il={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionend:Wd("Transition","TransitionEnd")},jp={},q5={};Xi&&(q5=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function i0(t){if(jp[t])return jp[t];if(!il[t])return t;var e=il[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in q5)return jp[t]=e[r];return t}var $5=i0("animationend"),W5=i0("animationiteration"),J5=i0("animationstart"),Y5=i0("transitionend"),X5=new Map,ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){X5.set(t,e),Zo(e,[t])}for(var Lp=0;Lp<ix.length;Lp++){var Qp=ix[Lp],aE=Qp.toLowerCase(),oE=Qp[0].toUpperCase()+Qp.slice(1);io(aE,"on"+oE)}io($5,"onAnimationEnd");io(W5,"onAnimationIteration");io(J5,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io(Y5,"onTransitionEnd");Ul("onMouseEnter",["mouseout","mouseover"]);Ul("onMouseLeave",["mouseout","mouseover"]);Ul("onPointerEnter",["pointerout","pointerover"]);Ul("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rc));function ax(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,aS(n,e,void 0,t),t.currentTarget=null}function Z5(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var A=n[a],l=A.instance,c=A.currentTarget;if(A=A.listener,l!==i&&s.isPropagationStopped())break e;ax(s,A,c),i=l}else for(a=0;a<n.length;a++){if(A=n[a],l=A.instance,c=A.currentTarget,A=A.listener,l!==i&&s.isPropagationStopped())break e;ax(s,A,c),i=l}}}if(hf)throw t=em,hf=!1,em=null,t}function Wt(t,e){var r=e[cm];r===void 0&&(r=e[cm]=new Set);var n=t+"__bubble";r.has(n)||(eB(e,t,2,!1),r.add(n))}function Tp(t,e,r){var n=0;e&&(n|=4),eB(r,t,n,e)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function wu(t){if(!t[Jd]){t[Jd]=!0,o5.forEach(function(r){r!=="selectionchange"&&(AE.has(r)||Tp(r,!1,t),Tp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jd]||(e[Jd]=!0,Tp("selectionchange",!1,e))}}function eB(t,e,r,n){switch(P5(e)){case 1:var s=bS;break;case 4:s=BS;break;default:s=$w}r=s.bind(null,e,r,t),s=void 0,!Zg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Pp(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var A=n.stateNode.containerInfo;if(A===s||A.nodeType===8&&A.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;A!==null;){if(a=Po(A),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}A=A.parentNode}}n=n.return}B5(function(){var c=i,u=Vw(r),h=[];e:{var p=X5.get(t);if(p!==void 0){var f=Jw,m=t;switch(t){case"keypress":if(Gh(r)===0)break e;case"keydown":case"keyup":f=RS;break;case"focusin":m="focus",f=kp;break;case"focusout":m="blur",f=kp;break;case"beforeblur":case"afterblur":f=kp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=SS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=MS;break;case $5:case W5:case J5:f=FS;break;case Y5:f=KS;break;case"scroll":f=CS;break;case"wheel":f=GS;break;case"copy":case"cut":case"paste":f=US;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=J1}var w=(e&4)!==0,B=!w&&t==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var y=c,C;y!==null;){C=y;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,x!==null&&(k=du(y,x),k!=null&&w.push(vu(y,k,C)))),B)break;y=y.return}0<w.length&&(p=new f(p,m,null,r,u),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==Yg&&(m=r.relatedTarget||r.fromElement)&&(Po(m)||m[Zi]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=c,m=m?Po(m):null,m!==null&&(B=eA(m),m!==B||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(w=$1,k="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=J1,k="onPointerLeave",x="onPointerEnter",y="pointer"),B=f==null?p:al(f),C=m==null?p:al(m),p=new w(k,y+"leave",f,r,u),p.target=B,p.relatedTarget=C,k=null,Po(u)===c&&(w=new w(x,y+"enter",m,r,u),w.target=C,w.relatedTarget=B,k=w),B=k,f&&m)t:{for(w=f,x=m,y=0,C=w;C;C=IA(C))y++;for(C=0,k=x;k;k=IA(k))C++;for(;0<y-C;)w=IA(w),y--;for(;0<C-y;)x=IA(x),C--;for(;y--;){if(w===x||x!==null&&w===x.alternate)break t;w=IA(w),x=IA(x)}w=null}else w=null;f!==null&&ox(h,p,f,w,!1),m!==null&&B!==null&&ox(h,B,m,w,!0)}}e:{if(p=c?al(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var R=XS;else if(Z1(p))if(K5)R=rE;else{R=eE;var P=ZS}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=tE);if(R&&(R=R(t,c))){H5(h,R,r,u);break e}P&&P(t,p,c),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&zg(p,"number",p.value)}switch(P=c?al(c):window,t){case"focusin":(Z1(P)||P.contentEditable==="true")&&(sl=P,sm=c,Yc=null);break;case"focusout":Yc=sm=sl=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,sx(h,r,u);break;case"selectionchange":if(iE)break;case"keydown":case"keyup":sx(h,r,u)}var M;if(Xw)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else nl?O5(t,r)&&(U="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(D5&&r.locale!=="ko"&&(nl||U!=="onCompositionStart"?U==="onCompositionEnd"&&nl&&(M=R5()):(Ta=u,Ww="value"in Ta?Ta.value:Ta.textContent,nl=!0)),P=wf(c,U),0<P.length&&(U=new W1(U,t,null,r,u),h.push({event:U,listeners:P}),M?U.data=M:(M=M5(r),M!==null&&(U.data=M)))),(M=qS?$S(t,r):WS(t,r))&&(c=wf(c,"onBeforeInput"),0<c.length&&(u=new W1("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=M))}Z5(h,e)})}function vu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function wf(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=du(t,r),i!=null&&n.unshift(vu(t,i,s)),i=du(t,e),i!=null&&n.push(vu(t,i,s))),t=t.return}return n}function IA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ox(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var A=r,l=A.alternate,c=A.stateNode;if(l!==null&&l===n)break;A.tag===5&&c!==null&&(A=c,s?(l=du(r,i),l!=null&&a.unshift(vu(r,l,A))):s||(l=du(r,i),l!=null&&a.push(vu(r,l,A)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var lE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function Ax(t){return(typeof t=="string"?t:""+t).replace(lE,`
`).replace(cE,"")}function Yd(t,e,r){if(e=Ax(e),Ax(t)!==e&&r)throw Error(Fe(425))}function vf(){}var am=null,om=null;function Am(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,lx=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof lx<"u"?function(t){return lx.resolve(null).then(t).catch(hE)}:lm;function hE(t){setTimeout(function(){throw t})}function Rp(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),pu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);pu(e)}function Ga(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ml=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Ml,xu="__reactProps$"+Ml,Zi="__reactContainer$"+Ml,cm="__reactEvents$"+Ml,fE="__reactListeners$"+Ml,pE="__reactHandles$"+Ml;function Po(t){var e=t[Bi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Zi]||r[Bi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=cx(t);t!==null;){if(r=t[Bi])return r;t=cx(t)}return e}t=r,r=t.parentNode}return null}function Vu(t){return t=t[Bi]||t[Zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function al(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Fe(33))}function a0(t){return t[xu]||null}var um=[],ol=-1;function ao(t){return{current:t}}function Yt(t){0>ol||(t.current=um[ol],um[ol]=null,ol--)}function zt(t,e){ol++,um[ol]=t.current,t.current=e}var to={},xn=ao(to),Dn=ao(!1),qo=to;function Il(t,e){var r=t.type.contextTypes;if(!r)return to;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function On(t){return t=t.childContextTypes,t!=null}function xf(){Yt(Dn),Yt(xn)}function ux(t,e,r){if(xn.current!==to)throw Error(Fe(168));zt(xn,e),zt(Dn,r)}function tB(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Fe(108,Z3(t)||"Unknown",s));return or({},r,n)}function yf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||to,qo=xn.current,zt(xn,t),zt(Dn,Dn.current),!0}function dx(t,e,r){var n=t.stateNode;if(!n)throw Error(Fe(169));r?(t=tB(t,e,qo),n.__reactInternalMemoizedMergedChildContext=t,Yt(Dn),Yt(xn),zt(xn,t)):Yt(Dn),zt(Dn,r)}var qi=null,o0=!1,Dp=!1;function rB(t){qi===null?qi=[t]:qi.push(t)}function gE(t){o0=!0,rB(t)}function oo(){if(!Dp&&qi!==null){Dp=!0;var t=0,e=Qt;try{var r=qi;for(Qt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qi=null,o0=!1}catch(s){throw qi!==null&&(qi=qi.slice(t+1)),E5(Gw,oo),s}finally{Qt=e,Dp=!1}}return null}var Al=[],ll=0,bf=null,Bf=0,ms=[],ws=0,$o=null,$i=1,Wi="";function Fo(t,e){Al[ll++]=Bf,Al[ll++]=bf,bf=t,Bf=e}function nB(t,e,r){ms[ws++]=$i,ms[ws++]=Wi,ms[ws++]=$o,$o=t;var n=$i;t=Wi;var s=32-Zs(n)-1;n&=~(1<<s),r+=1;var i=32-Zs(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,$i=1<<32-Zs(e)+s|r<<s|n,Wi=i+t}else $i=1<<i|r<<s|n,Wi=t}function ev(t){t.return!==null&&(Fo(t,1),nB(t,1,0))}function tv(t){for(;t===bf;)bf=Al[--ll],Al[ll]=null,Bf=Al[--ll],Al[ll]=null;for(;t===$o;)$o=ms[--ws],ms[ws]=null,Wi=ms[--ws],ms[ws]=null,$i=ms[--ws],ms[ws]=null}var rs=null,es=null,tr=!1,Ys=null;function sB(t,e){var r=xs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function hx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rs=t,es=Ga(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rs=t,es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=$o!==null?{id:$i,overflow:Wi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=xs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,rs=t,es=null,!0):!1;default:return!1}}function dm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hm(t){if(tr){var e=es;if(e){var r=e;if(!hx(t,e)){if(dm(t))throw Error(Fe(418));e=Ga(r.nextSibling);var n=rs;e&&hx(t,e)?sB(n,r):(t.flags=t.flags&-4097|2,tr=!1,rs=t)}}else{if(dm(t))throw Error(Fe(418));t.flags=t.flags&-4097|2,tr=!1,rs=t}}}function fx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rs=t}function Xd(t){if(t!==rs)return!1;if(!tr)return fx(t),tr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Am(t.type,t.memoizedProps)),e&&(e=es)){if(dm(t))throw iB(),Error(Fe(418));for(;e;)sB(t,e),e=Ga(e.nextSibling)}if(fx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){es=Ga(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}es=null}}else es=rs?Ga(t.stateNode.nextSibling):null;return!0}function iB(){for(var t=es;t;)t=Ga(t.nextSibling)}function jl(){es=rs=null,tr=!1}function rv(t){Ys===null?Ys=[t]:Ys.push(t)}var mE=sa.ReactCurrentBatchConfig;function Sc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Fe(309));var n=r.stateNode}if(!n)throw Error(Fe(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var A=s.refs;a===null?delete A[i]:A[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Fe(284));if(!r._owner)throw Error(Fe(290,t))}return t}function Zd(t,e){throw t=Object.prototype.toString.call(e),Error(Fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function px(t){var e=t._init;return e(t._payload)}function aB(t){function e(x,y){if(t){var C=x.deletions;C===null?(x.deletions=[y],x.flags|=16):C.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Wa(x,y),x.index=0,x.sibling=null,x}function i(x,y,C){return x.index=C,t?(C=x.alternate,C!==null?(C=C.index,C<y?(x.flags|=2,y):C):(x.flags|=2,y)):(x.flags|=1048576,y)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function A(x,y,C,k){return y===null||y.tag!==6?(y=zp(C,x.mode,k),y.return=x,y):(y=s(y,C),y.return=x,y)}function l(x,y,C,k){var R=C.type;return R===rl?u(x,y,C.props.children,k,C.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Fa&&px(R)===y.type)?(k=s(y,C.props),k.ref=Sc(x,y,C),k.return=x,k):(k=Xh(C.type,C.key,C.props,null,x.mode,k),k.ref=Sc(x,y,C),k.return=x,k)}function c(x,y,C,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=qp(C,x.mode,k),y.return=x,y):(y=s(y,C.children||[]),y.return=x,y)}function u(x,y,C,k,R){return y===null||y.tag!==7?(y=Ko(C,x.mode,k,R),y.return=x,y):(y=s(y,C),y.return=x,y)}function h(x,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=zp(""+y,x.mode,C),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hd:return C=Xh(y.type,y.key,y.props,null,x.mode,C),C.ref=Sc(x,null,y),C.return=x,C;case tl:return y=qp(y,x.mode,C),y.return=x,y;case Fa:var k=y._init;return h(x,k(y._payload),C)}if(Tc(y)||yc(y))return y=Ko(y,x.mode,C,null),y.return=x,y;Zd(x,y)}return null}function p(x,y,C,k){var R=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return R!==null?null:A(x,y,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Hd:return C.key===R?l(x,y,C,k):null;case tl:return C.key===R?c(x,y,C,k):null;case Fa:return R=C._init,p(x,y,R(C._payload),k)}if(Tc(C)||yc(C))return R!==null?null:u(x,y,C,k,null);Zd(x,C)}return null}function f(x,y,C,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(C)||null,A(y,x,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Hd:return x=x.get(k.key===null?C:k.key)||null,l(y,x,k,R);case tl:return x=x.get(k.key===null?C:k.key)||null,c(y,x,k,R);case Fa:var P=k._init;return f(x,y,C,P(k._payload),R)}if(Tc(k)||yc(k))return x=x.get(C)||null,u(y,x,k,R,null);Zd(y,k)}return null}function m(x,y,C,k){for(var R=null,P=null,M=y,U=y=0,H=null;M!==null&&U<C.length;U++){M.index>U?(H=M,M=null):H=M.sibling;var $=p(x,M,C[U],k);if($===null){M===null&&(M=H);break}t&&M&&$.alternate===null&&e(x,M),y=i($,y,U),P===null?R=$:P.sibling=$,P=$,M=H}if(U===C.length)return r(x,M),tr&&Fo(x,U),R;if(M===null){for(;U<C.length;U++)M=h(x,C[U],k),M!==null&&(y=i(M,y,U),P===null?R=M:P.sibling=M,P=M);return tr&&Fo(x,U),R}for(M=n(x,M);U<C.length;U++)H=f(M,x,U,C[U],k),H!==null&&(t&&H.alternate!==null&&M.delete(H.key===null?U:H.key),y=i(H,y,U),P===null?R=H:P.sibling=H,P=H);return t&&M.forEach(function(L){return e(x,L)}),tr&&Fo(x,U),R}function w(x,y,C,k){var R=yc(C);if(typeof R!="function")throw Error(Fe(150));if(C=R.call(C),C==null)throw Error(Fe(151));for(var P=R=null,M=y,U=y=0,H=null,$=C.next();M!==null&&!$.done;U++,$=C.next()){M.index>U?(H=M,M=null):H=M.sibling;var L=p(x,M,$.value,k);if(L===null){M===null&&(M=H);break}t&&M&&L.alternate===null&&e(x,M),y=i(L,y,U),P===null?R=L:P.sibling=L,P=L,M=H}if($.done)return r(x,M),tr&&Fo(x,U),R;if(M===null){for(;!$.done;U++,$=C.next())$=h(x,$.value,k),$!==null&&(y=i($,y,U),P===null?R=$:P.sibling=$,P=$);return tr&&Fo(x,U),R}for(M=n(x,M);!$.done;U++,$=C.next())$=f(M,x,U,$.value,k),$!==null&&(t&&$.alternate!==null&&M.delete($.key===null?U:$.key),y=i($,y,U),P===null?R=$:P.sibling=$,P=$);return t&&M.forEach(function(T){return e(x,T)}),tr&&Fo(x,U),R}function B(x,y,C,k){if(typeof C=="object"&&C!==null&&C.type===rl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Hd:e:{for(var R=C.key,P=y;P!==null;){if(P.key===R){if(R=C.type,R===rl){if(P.tag===7){r(x,P.sibling),y=s(P,C.props.children),y.return=x,x=y;break e}}else if(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Fa&&px(R)===P.type){r(x,P.sibling),y=s(P,C.props),y.ref=Sc(x,P,C),y.return=x,x=y;break e}r(x,P);break}else e(x,P);P=P.sibling}C.type===rl?(y=Ko(C.props.children,x.mode,k,C.key),y.return=x,x=y):(k=Xh(C.type,C.key,C.props,null,x.mode,k),k.ref=Sc(x,y,C),k.return=x,x=k)}return a(x);case tl:e:{for(P=C.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){r(x,y.sibling),y=s(y,C.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=qp(C,x.mode,k),y.return=x,x=y}return a(x);case Fa:return P=C._init,B(x,y,P(C._payload),k)}if(Tc(C))return m(x,y,C,k);if(yc(C))return w(x,y,C,k);Zd(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,C),y.return=x,x=y):(r(x,y),y=zp(C,x.mode,k),y.return=x,x=y),a(x)):r(x,y)}return B}var Ll=aB(!0),oB=aB(!1),Cf=ao(null),Nf=null,cl=null,nv=null;function sv(){nv=cl=Nf=null}function iv(t){var e=Cf.current;Yt(Cf),t._currentValue=e}function fm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yl(t,e){Nf=t,nv=cl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rn=!0),t.firstContext=null)}function Ss(t){var e=t._currentValue;if(nv!==t)if(t={context:t,memoizedValue:e,next:null},cl===null){if(Nf===null)throw Error(Fe(308));cl=t,Nf.dependencies={lanes:0,firstContext:t}}else cl=cl.next=t;return e}var Ro=null;function av(t){Ro===null?Ro=[t]:Ro.push(t)}function AB(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,av(e)):(r.next=s.next,s.next=r),e.interleaved=r,ea(t,n)}function ea(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ka=!1;function ov(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function za(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Nt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ea(t,r)}return s=n.interleaved,s===null?(e.next=e,av(n)):(e.next=s.next,s.next=e),n.interleaved=e,ea(t,r)}function zh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zw(t,r)}}function gx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Sf(t,e,r,n){var s=t.updateQueue;ka=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,A=s.shared.pending;if(A!==null){s.shared.pending=null;var l=A,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,A=u.lastBaseUpdate,A!==a&&(A===null?u.firstBaseUpdate=c:A.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,u=c=l=null,A=i;do{var p=A.lane,f=A.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var m=t,w=A;switch(p=e,f=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){h=m.call(f,h,p);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,p=typeof m=="function"?m.call(f,h,p):m,p==null)break e;h=or({},h,p);break e;case 2:ka=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[A]:p.push(A))}else f={eventTime:f,lane:p,tag:A.tag,payload:A.payload,callback:A.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,a|=p;if(A=A.next,A===null){if(A=s.shared.pending,A===null)break;p=A,A=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Jo|=a,t.lanes=a,t.memoizedState=h}}function mx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Fe(191,s));s.call(n)}}}var Gu={},Si=ao(Gu),yu=ao(Gu),bu=ao(Gu);function Do(t){if(t===Gu)throw Error(Fe(174));return t}function Av(t,e){switch(zt(bu,e),zt(yu,t),zt(Si,Gu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$g(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$g(e,t)}Yt(Si),zt(Si,e)}function Ql(){Yt(Si),Yt(yu),Yt(bu)}function cB(t){Do(bu.current);var e=Do(Si.current),r=$g(e,t.type);e!==r&&(zt(yu,t),zt(Si,r))}function lv(t){yu.current===t&&(Yt(Si),Yt(yu))}var sr=ao(0);function Ef(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Op=[];function cv(){for(var t=0;t<Op.length;t++)Op[t]._workInProgressVersionPrimary=null;Op.length=0}var qh=sa.ReactCurrentDispatcher,Mp=sa.ReactCurrentBatchConfig,Wo=0,ar=null,Rr=null,Gr=null,_f=!1,Xc=!1,Bu=0,wE=0;function cn(){throw Error(Fe(321))}function uv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ti(t[r],e[r]))return!1;return!0}function dv(t,e,r,n,s,i){if(Wo=i,ar=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?bE:BE,t=r(n,s),Xc){i=0;do{if(Xc=!1,Bu=0,25<=i)throw Error(Fe(301));i+=1,Gr=Rr=null,e.updateQueue=null,qh.current=CE,t=r(n,s)}while(Xc)}if(qh.current=Ff,e=Rr!==null&&Rr.next!==null,Wo=0,Gr=Rr=ar=null,_f=!1,e)throw Error(Fe(300));return t}function hv(){var t=Bu!==0;return Bu=0,t}function bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?ar.memoizedState=Gr=t:Gr=Gr.next=t,Gr}function Es(){if(Rr===null){var t=ar.alternate;t=t!==null?t.memoizedState:null}else t=Rr.next;var e=Gr===null?ar.memoizedState:Gr.next;if(e!==null)Gr=e,Rr=t;else{if(t===null)throw Error(Fe(310));Rr=t,t={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Gr===null?ar.memoizedState=Gr=t:Gr=Gr.next=t}return Gr}function Cu(t,e){return typeof e=="function"?e(t):e}function Hp(t){var e=Es(),r=e.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=t;var n=Rr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var A=a=null,l=null,c=i;do{var u=c.lane;if((Wo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(A=l=h,a=n):l=l.next=h,ar.lanes|=u,Jo|=u}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=A,ti(n,e.memoizedState)||(Rn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ar.lanes|=i,Jo|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Kp(t){var e=Es(),r=e.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ti(i,e.memoizedState)||(Rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function uB(){}function dB(t,e){var r=ar,n=Es(),s=e(),i=!ti(n.memoizedState,s);if(i&&(n.memoizedState=s,Rn=!0),n=n.queue,fv(pB.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Gr!==null&&Gr.memoizedState.tag&1){if(r.flags|=2048,Nu(9,fB.bind(null,r,n,s,e),void 0,null),qr===null)throw Error(Fe(349));Wo&30||hB(r,e,s)}return s}function hB(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ar.updateQueue,e===null?(e={lastEffect:null,stores:null},ar.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function fB(t,e,r,n){e.value=r,e.getSnapshot=n,gB(e)&&mB(t)}function pB(t,e,r){return r(function(){gB(e)&&mB(t)})}function gB(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ti(t,r)}catch{return!0}}function mB(t){var e=ea(t,1);e!==null&&ei(e,t,1,-1)}function wx(t){var e=bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:t},e.queue=t,t=t.dispatch=yE.bind(null,ar,t),[e.memoizedState,t]}function Nu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ar.updateQueue,e===null?(e={lastEffect:null,stores:null},ar.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function wB(){return Es().memoizedState}function $h(t,e,r,n){var s=bi();ar.flags|=t,s.memoizedState=Nu(1|e,r,void 0,n===void 0?null:n)}function A0(t,e,r,n){var s=Es();n=n===void 0?null:n;var i=void 0;if(Rr!==null){var a=Rr.memoizedState;if(i=a.destroy,n!==null&&uv(n,a.deps)){s.memoizedState=Nu(e,r,i,n);return}}ar.flags|=t,s.memoizedState=Nu(1|e,r,i,n)}function vx(t,e){return $h(8390656,8,t,e)}function fv(t,e){return A0(2048,8,t,e)}function vB(t,e){return A0(4,2,t,e)}function xB(t,e){return A0(4,4,t,e)}function yB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bB(t,e,r){return r=r!=null?r.concat([t]):null,A0(4,4,yB.bind(null,e,t),r)}function pv(){}function BB(t,e){var r=Es();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&uv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function CB(t,e){var r=Es();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&uv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function NB(t,e,r){return Wo&21?(ti(r,e)||(r=k5(),ar.lanes|=r,Jo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rn=!0),t.memoizedState=r)}function vE(t,e){var r=Qt;Qt=r!==0&&4>r?r:4,t(!0);var n=Mp.transition;Mp.transition={};try{t(!1),e()}finally{Qt=r,Mp.transition=n}}function SB(){return Es().memoizedState}function xE(t,e,r){var n=$a(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},EB(t))_B(e,r);else if(r=AB(t,e,r,n),r!==null){var s=Sn();ei(r,t,n,s),FB(r,e,n)}}function yE(t,e,r){var n=$a(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(EB(t))_B(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,A=i(a,r);if(s.hasEagerState=!0,s.eagerState=A,ti(A,a)){var l=e.interleaved;l===null?(s.next=s,av(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=AB(t,e,s,n),r!==null&&(s=Sn(),ei(r,t,n,s),FB(r,e,n))}}function EB(t){var e=t.alternate;return t===ar||e!==null&&e===ar}function _B(t,e){Xc=_f=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function FB(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zw(t,r)}}var Ff={readContext:Ss,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},bE={readContext:Ss,useCallback:function(t,e){return bi().memoizedState=[t,e===void 0?null:e],t},useContext:Ss,useEffect:vx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$h(4194308,4,yB.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $h(4194308,4,t,e)},useInsertionEffect:function(t,e){return $h(4,2,t,e)},useMemo:function(t,e){var r=bi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=bi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xE.bind(null,ar,t),[n.memoizedState,t]},useRef:function(t){var e=bi();return t={current:t},e.memoizedState=t},useState:wx,useDebugValue:pv,useDeferredValue:function(t){return bi().memoizedState=t},useTransition:function(){var t=wx(!1),e=t[0];return t=vE.bind(null,t[1]),bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ar,s=bi();if(tr){if(r===void 0)throw Error(Fe(407));r=r()}else{if(r=e(),qr===null)throw Error(Fe(349));Wo&30||hB(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,vx(pB.bind(null,n,i,t),[t]),n.flags|=2048,Nu(9,fB.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=bi(),e=qr.identifierPrefix;if(tr){var r=Wi,n=$i;r=(n&~(1<<32-Zs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=wE++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BE={readContext:Ss,useCallback:BB,useContext:Ss,useEffect:fv,useImperativeHandle:bB,useInsertionEffect:vB,useLayoutEffect:xB,useMemo:CB,useReducer:Hp,useRef:wB,useState:function(){return Hp(Cu)},useDebugValue:pv,useDeferredValue:function(t){var e=Es();return NB(e,Rr.memoizedState,t)},useTransition:function(){var t=Hp(Cu)[0],e=Es().memoizedState;return[t,e]},useMutableSource:uB,useSyncExternalStore:dB,useId:SB,unstable_isNewReconciler:!1},CE={readContext:Ss,useCallback:BB,useContext:Ss,useEffect:fv,useImperativeHandle:bB,useInsertionEffect:vB,useLayoutEffect:xB,useMemo:CB,useReducer:Kp,useRef:wB,useState:function(){return Kp(Cu)},useDebugValue:pv,useDeferredValue:function(t){var e=Es();return Rr===null?e.memoizedState=t:NB(e,Rr.memoizedState,t)},useTransition:function(){var t=Kp(Cu)[0],e=Es().memoizedState;return[t,e]},useMutableSource:uB,useSyncExternalStore:dB,useId:SB,unstable_isNewReconciler:!1};function zs(t,e){if(t&&t.defaultProps){e=or({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function pm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:or({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var l0={isMounted:function(t){return(t=t._reactInternals)?eA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Sn(),s=$a(t),i=Ji(n,s);i.payload=e,r!=null&&(i.callback=r),e=za(t,i,s),e!==null&&(ei(e,t,s,n),zh(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Sn(),s=$a(t),i=Ji(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=za(t,i,s),e!==null&&(ei(e,t,s,n),zh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Sn(),n=$a(t),s=Ji(r,n);s.tag=2,e!=null&&(s.callback=e),e=za(t,s,n),e!==null&&(ei(e,t,n,r),zh(e,t,n))}};function xx(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!mu(r,n)||!mu(s,i):!0}function kB(t,e,r){var n=!1,s=to,i=e.contextType;return typeof i=="object"&&i!==null?i=Ss(i):(s=On(e)?qo:xn.current,n=e.contextTypes,i=(n=n!=null)?Il(t,s):to),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=l0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function yx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&l0.enqueueReplaceState(e,e.state,null)}function gm(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},ov(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ss(i):(i=On(e)?qo:xn.current,s.context=Il(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pm(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&l0.enqueueReplaceState(s,s.state,null),Sf(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Tl(t,e){try{var r="",n=e;do r+=X3(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Vp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var NE=typeof WeakMap=="function"?WeakMap:Map;function UB(t,e,r){r=Ji(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uf||(Uf=!0,Em=n),mm(t,e)},r}function IB(t,e,r){r=Ji(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){mm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){mm(t,e),typeof n!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function bx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new NE;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=DE.bind(null,t,e,r),e.then(t,t))}function Bx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cx(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ji(-1,1),e.tag=2,za(r,e,1))),r.lanes|=1),t)}var SE=sa.ReactCurrentOwner,Rn=!1;function Nn(t,e,r,n){e.child=t===null?oB(e,null,r,n):Ll(e,t.child,r,n)}function Nx(t,e,r,n,s){r=r.render;var i=e.ref;return yl(e,s),n=dv(t,e,r,n,i,s),r=hv(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ta(t,e,s)):(tr&&r&&ev(e),e.flags|=1,Nn(t,e,n,s),e.child)}function Sx(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Bv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,jB(t,e,i,n,s)):(t=Xh(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:mu,r(a,n)&&t.ref===e.ref)return ta(t,e,s)}return e.flags|=1,t=Wa(i,n),t.ref=e.ref,t.return=e,e.child=t}function jB(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(mu(i,n)&&t.ref===e.ref)if(Rn=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Rn=!0);else return e.lanes=t.lanes,ta(t,e,s)}return wm(t,e,r,n,s)}function LB(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(dl,Yn),Yn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,zt(dl,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,zt(dl,Yn),Yn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,zt(dl,Yn),Yn|=n;return Nn(t,e,s,r),e.child}function QB(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function wm(t,e,r,n,s){var i=On(r)?qo:xn.current;return i=Il(e,i),yl(e,s),r=dv(t,e,r,n,i,s),n=hv(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ta(t,e,s)):(tr&&n&&ev(e),e.flags|=1,Nn(t,e,r,s),e.child)}function Ex(t,e,r,n,s){if(On(r)){var i=!0;yf(e)}else i=!1;if(yl(e,s),e.stateNode===null)Wh(t,e),kB(e,r,n),gm(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,A=e.memoizedProps;a.props=A;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ss(c):(c=On(r)?qo:xn.current,c=Il(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==n||l!==c)&&yx(e,a,n,c),ka=!1;var p=e.memoizedState;a.state=p,Sf(e,n,a,s),l=e.memoizedState,A!==n||p!==l||Dn.current||ka?(typeof u=="function"&&(pm(e,r,u,n),l=e.memoizedState),(A=ka||xx(e,r,A,n,p,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=A):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,lB(t,e),A=e.memoizedProps,c=e.type===e.elementType?A:zs(e.type,A),a.props=c,h=e.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ss(l):(l=On(r)?qo:xn.current,l=Il(e,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A!==h||p!==l)&&yx(e,a,n,l),ka=!1,p=e.memoizedState,a.state=p,Sf(e,n,a,s);var m=e.memoizedState;A!==h||p!==m||Dn.current||ka?(typeof f=="function"&&(pm(e,r,f,n),m=e.memoizedState),(c=ka||xx(e,r,c,n,p,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return vm(t,e,r,n,i,s)}function vm(t,e,r,n,s,i){QB(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&dx(e,r,!1),ta(t,e,i);n=e.stateNode,SE.current=e;var A=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ll(e,t.child,null,i),e.child=Ll(e,null,A,i)):Nn(t,e,A,i),e.memoizedState=n.state,s&&dx(e,r,!0),e.child}function TB(t){var e=t.stateNode;e.pendingContext?ux(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ux(t,e.context,!1),Av(t,e.containerInfo)}function _x(t,e,r,n,s){return jl(),rv(s),e.flags|=256,Nn(t,e,r,n),e.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function PB(t,e,r){var n=e.pendingProps,s=sr.current,i=!1,a=(e.flags&128)!==0,A;if((A=a)||(A=t!==null&&t.memoizedState===null?!1:(s&2)!==0),A?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),zt(sr,s&1),t===null)return hm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=d0(a,n,0,null),t=Ko(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ym(r),e.memoizedState=xm,t):gv(e,a));if(s=t.memoizedState,s!==null&&(A=s.dehydrated,A!==null))return EE(t,e,a,n,A,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,A=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Wa(s,l),n.subtreeFlags=s.subtreeFlags&14680064),A!==null?i=Wa(A,i):(i=Ko(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?ym(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=xm,n}return i=t.child,t=i.sibling,n=Wa(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function gv(t,e){return e=d0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eh(t,e,r,n){return n!==null&&rv(n),Ll(e,t.child,null,r),t=gv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EE(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=Vp(Error(Fe(422))),eh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=d0({mode:"visible",children:n.children},s,0,null),i=Ko(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ll(e,t.child,null,a),e.child.memoizedState=ym(a),e.memoizedState=xm,i);if(!(e.mode&1))return eh(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var A=n.dgst;return n=A,i=Error(Fe(419)),n=Vp(i,n,void 0),eh(t,e,a,n)}if(A=(a&t.childLanes)!==0,Rn||A){if(n=qr,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ea(t,s),ei(n,t,s,-1))}return bv(),n=Vp(Error(Fe(421))),eh(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=OE.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,es=Ga(s.nextSibling),rs=e,tr=!0,Ys=null,t!==null&&(ms[ws++]=$i,ms[ws++]=Wi,ms[ws++]=$o,$i=t.id,Wi=t.overflow,$o=e),e=gv(e,n.children),e.flags|=4096,e)}function Fx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fm(t.return,e,r)}function Gp(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function RB(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Nn(t,e,n.children,r),n=sr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fx(t,r,e);else if(t.tag===19)Fx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(zt(sr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ef(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Gp(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ef(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Gp(e,!0,r,null,i);break;case"together":Gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ta(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Jo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Fe(153));if(e.child!==null){for(t=e.child,r=Wa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _E(t,e,r){switch(e.tag){case 3:TB(e),jl();break;case 5:cB(e);break;case 1:On(e.type)&&yf(e);break;case 4:Av(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;zt(Cf,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(zt(sr,sr.current&1),e.flags|=128,null):r&e.child.childLanes?PB(t,e,r):(zt(sr,sr.current&1),t=ta(t,e,r),t!==null?t.sibling:null);zt(sr,sr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return RB(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),zt(sr,sr.current),n)break;return null;case 22:case 23:return e.lanes=0,LB(t,e,r)}return ta(t,e,r)}var DB,bm,OB,MB;DB=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bm=function(){};OB=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Do(Si.current);var i=null;switch(r){case"input":s=Vg(t,s),n=Vg(t,n),i=[];break;case"select":s=or({},s,{value:void 0}),n=or({},n,{value:void 0}),i=[];break;case"textarea":s=qg(t,s),n=qg(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=vf)}Wg(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var A=s[c];for(a in A)A.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(A=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==A&&(l!=null||A!=null))if(c==="style")if(A){for(a in A)!A.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&A[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,A=A?A.__html:void 0,l!=null&&A!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Wt("scroll",t),i||A===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};MB=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ec(t,e){if(!tr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function FE(t,e,r){var n=e.pendingProps;switch(tv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return On(e.type)&&xf(),un(e),null;case 3:return n=e.stateNode,Ql(),Yt(Dn),Yt(xn),cv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ys!==null&&(km(Ys),Ys=null))),bm(t,e),un(e),null;case 5:lv(e);var s=Do(bu.current);if(r=e.type,t!==null&&e.stateNode!=null)OB(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Fe(166));return un(e),null}if(t=Do(Si.current),Xd(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Bi]=e,n[xu]=i,t=(e.mode&1)!==0,r){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(s=0;s<Rc.length;s++)Wt(Rc[s],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":R1(n,i),Wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Wt("invalid",n);break;case"textarea":O1(n,i),Wt("invalid",n)}Wg(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var A=i[a];a==="children"?typeof A=="string"?n.textContent!==A&&(i.suppressHydrationWarning!==!0&&Yd(n.textContent,A,t),s=["children",A]):typeof A=="number"&&n.textContent!==""+A&&(i.suppressHydrationWarning!==!0&&Yd(n.textContent,A,t),s=["children",""+A]):cu.hasOwnProperty(a)&&A!=null&&a==="onScroll"&&Wt("scroll",n)}switch(r){case"input":Kd(n),D1(n,i,!0);break;case"textarea":Kd(n),M1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=vf)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=p5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Bi]=e,t[xu]=n,DB(t,e,!1,!1),e.stateNode=t;e:{switch(a=Jg(r,n),r){case"dialog":Wt("cancel",t),Wt("close",t),s=n;break;case"iframe":case"object":case"embed":Wt("load",t),s=n;break;case"video":case"audio":for(s=0;s<Rc.length;s++)Wt(Rc[s],t);s=n;break;case"source":Wt("error",t),s=n;break;case"img":case"image":case"link":Wt("error",t),Wt("load",t),s=n;break;case"details":Wt("toggle",t),s=n;break;case"input":R1(t,n),s=Vg(t,n),Wt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=or({},n,{value:void 0}),Wt("invalid",t);break;case"textarea":O1(t,n),s=qg(t,n),Wt("invalid",t);break;default:s=n}Wg(r,s),A=s;for(i in A)if(A.hasOwnProperty(i)){var l=A[i];i==="style"?w5(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g5(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&uu(t,l):typeof l=="number"&&uu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Wt("scroll",t):l!=null&&Ow(t,i,l,a))}switch(r){case"input":Kd(t),D1(t,n,!1);break;case"textarea":Kd(t),M1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+eo(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ml(t,!!n.multiple,i,!1):n.defaultValue!=null&&ml(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)MB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Fe(166));if(r=Do(bu.current),Do(Si.current),Xd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bi]=e,(i=n.nodeValue!==r)&&(t=rs,t!==null))switch(t.tag){case 3:Yd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yd(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bi]=e,e.stateNode=n}return un(e),null;case 13:if(Yt(sr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tr&&es!==null&&e.mode&1&&!(e.flags&128))iB(),jl(),e.flags|=98560,i=!1;else if(i=Xd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Fe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Fe(317));i[Bi]=e}else jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),i=!1}else Ys!==null&&(km(Ys),Ys=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||sr.current&1?Or===0&&(Or=3):bv())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return Ql(),bm(t,e),t===null&&wu(e.stateNode.containerInfo),un(e),null;case 10:return iv(e.type._context),un(e),null;case 17:return On(e.type)&&xf(),un(e),null;case 19:if(Yt(sr),i=e.memoizedState,i===null)return un(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Ec(i,!1);else{if(Or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ef(t),a!==null){for(e.flags|=128,Ec(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return zt(sr,sr.current&1|2),e.child}t=t.sibling}i.tail!==null&&br()>Pl&&(e.flags|=128,n=!0,Ec(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ef(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ec(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!tr)return un(e),null}else 2*br()-i.renderingStartTime>Pl&&r!==1073741824&&(e.flags|=128,n=!0,Ec(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=br(),e.sibling=null,r=sr.current,zt(sr,n?r&1|2:r&1),e):(un(e),null);case 22:case 23:return yv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Yn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function kE(t,e){switch(tv(e),e.tag){case 1:return On(e.type)&&xf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ql(),Yt(Dn),Yt(xn),cv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lv(e),null;case 13:if(Yt(sr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(sr),null;case 4:return Ql(),null;case 10:return iv(e.type._context),null;case 22:case 23:return yv(),null;case 24:return null;default:return null}}var th=!1,wn=!1,UE=typeof WeakSet=="function"?WeakSet:Set,He=null;function ul(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(t,e,n)}else r.current=null}function Bm(t,e,r){try{r()}catch(n){fr(t,e,n)}}var kx=!1;function IE(t,e){if(am=gf,t=z5(),Zw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,A=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(A=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===r&&++c===s&&(A=a),p===i&&++u===n&&(l=a),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=A===-1||l===-1?null:{start:A,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(om={focusedElem:t,selectionRange:r},gf=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){e=He;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,B=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:zs(e.type,w),B);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(k){fr(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}return m=kx,kx=!1,m}function Zc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bm(e,r,i)}s=s.next}while(s!==n)}}function c0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Cm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function HB(t){var e=t.alternate;e!==null&&(t.alternate=null,HB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bi],delete e[xu],delete e[cm],delete e[fE],delete e[pE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KB(t){return t.tag===5||t.tag===3||t.tag===4}function Ux(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=vf));else if(n!==4&&(t=t.child,t!==null))for(Nm(t,e,r),t=t.sibling;t!==null;)Nm(t,e,r),t=t.sibling}function Sm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Sm(t,e,r),t=t.sibling;t!==null;)Sm(t,e,r),t=t.sibling}var tn=null,Ws=!1;function ba(t,e,r){for(r=r.child;r!==null;)VB(t,e,r),r=r.sibling}function VB(t,e,r){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(r0,r)}catch{}switch(r.tag){case 5:wn||ul(r,e);case 6:var n=tn,s=Ws;tn=null,ba(t,e,r),tn=n,Ws=s,tn!==null&&(Ws?(t=tn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):tn.removeChild(r.stateNode));break;case 18:tn!==null&&(Ws?(t=tn,r=r.stateNode,t.nodeType===8?Rp(t.parentNode,r):t.nodeType===1&&Rp(t,r),pu(t)):Rp(tn,r.stateNode));break;case 4:n=tn,s=Ws,tn=r.stateNode.containerInfo,Ws=!0,ba(t,e,r),tn=n,Ws=s;break;case 0:case 11:case 14:case 15:if(!wn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Bm(r,e,a),s=s.next}while(s!==n)}ba(t,e,r);break;case 1:if(!wn&&(ul(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(A){fr(r,e,A)}ba(t,e,r);break;case 21:ba(t,e,r);break;case 22:r.mode&1?(wn=(n=wn)||r.memoizedState!==null,ba(t,e,r),wn=n):ba(t,e,r);break;default:ba(t,e,r)}}function Ix(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new UE),e.forEach(function(n){var s=ME.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Os(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,A=a;e:for(;A!==null;){switch(A.tag){case 5:tn=A.stateNode,Ws=!1;break e;case 3:tn=A.stateNode.containerInfo,Ws=!0;break e;case 4:tn=A.stateNode.containerInfo,Ws=!0;break e}A=A.return}if(tn===null)throw Error(Fe(160));VB(i,a,s),tn=null,Ws=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){fr(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GB(e,t),e=e.sibling}function GB(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Os(e,t),wi(t),n&4){try{Zc(3,t,t.return),c0(3,t)}catch(w){fr(t,t.return,w)}try{Zc(5,t,t.return)}catch(w){fr(t,t.return,w)}}break;case 1:Os(e,t),wi(t),n&512&&r!==null&&ul(r,r.return);break;case 5:if(Os(e,t),wi(t),n&512&&r!==null&&ul(r,r.return),t.flags&32){var s=t.stateNode;try{uu(s,"")}catch(w){fr(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,A=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{A==="input"&&i.type==="radio"&&i.name!=null&&h5(s,i),Jg(A,a);var c=Jg(A,i);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?w5(s,h):u==="dangerouslySetInnerHTML"?g5(s,h):u==="children"?uu(s,h):Ow(s,u,h,c)}switch(A){case"input":Gg(s,i);break;case"textarea":f5(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?ml(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?ml(s,!!i.multiple,i.defaultValue,!0):ml(s,!!i.multiple,i.multiple?[]:"",!1))}s[xu]=i}catch(w){fr(t,t.return,w)}}break;case 6:if(Os(e,t),wi(t),n&4){if(t.stateNode===null)throw Error(Fe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){fr(t,t.return,w)}}break;case 3:if(Os(e,t),wi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pu(e.containerInfo)}catch(w){fr(t,t.return,w)}break;case 4:Os(e,t),wi(t);break;case 13:Os(e,t),wi(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vv=br())),n&4&&Ix(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(wn=(c=wn)||u,Os(e,t),wn=c):Os(e,t),wi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(He=t,u=t.child;u!==null;){for(h=He=u;He!==null;){switch(p=He,f=p.child,p.tag){case 0:case 11:case 14:case 15:Zc(4,p,p.return);break;case 1:ul(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){fr(n,r,w)}}break;case 5:ul(p,p.return);break;case 22:if(p.memoizedState!==null){Lx(h);continue}}f!==null?(f.return=p,He=f):Lx(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(A=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,A.style.display=m5("display",a))}catch(w){fr(t,t.return,w)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){fr(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Os(e,t),wi(t),n&4&&Ix(t);break;case 21:break;default:Os(e,t),wi(t)}}function wi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(KB(r)){var n=r;break e}r=r.return}throw Error(Fe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(uu(s,""),n.flags&=-33);var i=Ux(t);Sm(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,A=Ux(t);Nm(t,A,a);break;default:throw Error(Fe(161))}}catch(l){fr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jE(t,e,r){He=t,zB(t)}function zB(t,e,r){for(var n=(t.mode&1)!==0;He!==null;){var s=He,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||th;if(!a){var A=s.alternate,l=A!==null&&A.memoizedState!==null||wn;A=th;var c=wn;if(th=a,(wn=l)&&!c)for(He=s;He!==null;)a=He,l=a.child,a.tag===22&&a.memoizedState!==null?Qx(s):l!==null?(l.return=a,He=l):Qx(s);for(;i!==null;)He=i,zB(i),i=i.sibling;He=s,th=A,wn=c}jx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,He=i):jx(t)}}function jx(t){for(;He!==null;){var e=He;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||c0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!wn)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:zs(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mx(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mx(e,a,r)}break;case 5:var A=e.stateNode;if(r===null&&e.flags&4){r=A;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&pu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}wn||e.flags&512&&Cm(e)}catch(p){fr(e,e.return,p)}}if(e===t){He=null;break}if(r=e.sibling,r!==null){r.return=e.return,He=r;break}He=e.return}}function Lx(t){for(;He!==null;){var e=He;if(e===t){He=null;break}var r=e.sibling;if(r!==null){r.return=e.return,He=r;break}He=e.return}}function Qx(t){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{c0(4,e)}catch(l){fr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){fr(e,s,l)}}var i=e.return;try{Cm(e)}catch(l){fr(e,i,l)}break;case 5:var a=e.return;try{Cm(e)}catch(l){fr(e,a,l)}}}catch(l){fr(e,e.return,l)}if(e===t){He=null;break}var A=e.sibling;if(A!==null){A.return=e.return,He=A;break}He=e.return}}var LE=Math.ceil,kf=sa.ReactCurrentDispatcher,mv=sa.ReactCurrentOwner,Ns=sa.ReactCurrentBatchConfig,Nt=0,qr=null,Lr=null,sn=0,Yn=0,dl=ao(0),Or=0,Su=null,Jo=0,u0=0,wv=0,eu=null,Tn=null,vv=0,Pl=1/0,Gi=null,Uf=!1,Em=null,qa=null,rh=!1,Pa=null,If=0,tu=0,_m=null,Jh=-1,Yh=0;function Sn(){return Nt&6?br():Jh!==-1?Jh:Jh=br()}function $a(t){return t.mode&1?Nt&2&&sn!==0?sn&-sn:mE.transition!==null?(Yh===0&&(Yh=k5()),Yh):(t=Qt,t!==0||(t=window.event,t=t===void 0?16:P5(t.type)),t):1}function ei(t,e,r,n){if(50<tu)throw tu=0,_m=null,Error(Fe(185));Hu(t,r,n),(!(Nt&2)||t!==qr)&&(t===qr&&(!(Nt&2)&&(u0|=r),Or===4&&La(t,sn)),Mn(t,n),r===1&&Nt===0&&!(e.mode&1)&&(Pl=br()+500,o0&&oo()))}function Mn(t,e){var r=t.callbackNode;mS(t,e);var n=pf(t,t===qr?sn:0);if(n===0)r!==null&&V1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&V1(r),e===1)t.tag===0?gE(Tx.bind(null,t)):rB(Tx.bind(null,t)),dE(function(){!(Nt&6)&&oo()}),r=null;else{switch(U5(n)){case 1:r=Gw;break;case 4:r=_5;break;case 16:r=ff;break;case 536870912:r=F5;break;default:r=ff}r=eC(r,qB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function qB(t,e){if(Jh=-1,Yh=0,Nt&6)throw Error(Fe(327));var r=t.callbackNode;if(bl()&&t.callbackNode!==r)return null;var n=pf(t,t===qr?sn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=jf(t,n);else{e=n;var s=Nt;Nt|=2;var i=WB();(qr!==t||sn!==e)&&(Gi=null,Pl=br()+500,Ho(t,e));do try{PE();break}catch(A){$B(t,A)}while(!0);sv(),kf.current=i,Nt=s,Lr!==null?e=0:(qr=null,sn=0,e=Or)}if(e!==0){if(e===2&&(s=tm(t),s!==0&&(n=s,e=Fm(t,s))),e===1)throw r=Su,Ho(t,0),La(t,n),Mn(t,br()),r;if(e===6)La(t,n);else{if(s=t.current.alternate,!(n&30)&&!QE(s)&&(e=jf(t,n),e===2&&(i=tm(t),i!==0&&(n=i,e=Fm(t,i))),e===1))throw r=Su,Ho(t,0),La(t,n),Mn(t,br()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Fe(345));case 2:ko(t,Tn,Gi);break;case 3:if(La(t,n),(n&130023424)===n&&(e=vv+500-br(),10<e)){if(pf(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Sn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lm(ko.bind(null,t,Tn,Gi),e);break}ko(t,Tn,Gi);break;case 4:if(La(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Zs(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=br()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LE(n/1960))-n,10<n){t.timeoutHandle=lm(ko.bind(null,t,Tn,Gi),n);break}ko(t,Tn,Gi);break;case 5:ko(t,Tn,Gi);break;default:throw Error(Fe(329))}}}return Mn(t,br()),t.callbackNode===r?qB.bind(null,t):null}function Fm(t,e){var r=eu;return t.current.memoizedState.isDehydrated&&(Ho(t,e).flags|=256),t=jf(t,e),t!==2&&(e=Tn,Tn=r,e!==null&&km(e)),t}function km(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function QE(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ti(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function La(t,e){for(e&=~wv,e&=~u0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zs(e),n=1<<r;t[r]=-1,e&=~n}}function Tx(t){if(Nt&6)throw Error(Fe(327));bl();var e=pf(t,0);if(!(e&1))return Mn(t,br()),null;var r=jf(t,e);if(t.tag!==0&&r===2){var n=tm(t);n!==0&&(e=n,r=Fm(t,n))}if(r===1)throw r=Su,Ho(t,0),La(t,e),Mn(t,br()),r;if(r===6)throw Error(Fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ko(t,Tn,Gi),Mn(t,br()),null}function xv(t,e){var r=Nt;Nt|=1;try{return t(e)}finally{Nt=r,Nt===0&&(Pl=br()+500,o0&&oo())}}function Yo(t){Pa!==null&&Pa.tag===0&&!(Nt&6)&&bl();var e=Nt;Nt|=1;var r=Ns.transition,n=Qt;try{if(Ns.transition=null,Qt=1,t)return t()}finally{Qt=n,Ns.transition=r,Nt=e,!(Nt&6)&&oo()}}function yv(){Yn=dl.current,Yt(dl)}function Ho(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,uE(r)),Lr!==null)for(r=Lr.return;r!==null;){var n=r;switch(tv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xf();break;case 3:Ql(),Yt(Dn),Yt(xn),cv();break;case 5:lv(n);break;case 4:Ql();break;case 13:Yt(sr);break;case 19:Yt(sr);break;case 10:iv(n.type._context);break;case 22:case 23:yv()}r=r.return}if(qr=t,Lr=t=Wa(t.current,null),sn=Yn=e,Or=0,Su=null,wv=u0=Jo=0,Tn=eu=null,Ro!==null){for(e=0;e<Ro.length;e++)if(r=Ro[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Ro=null}return t}function $B(t,e){do{var r=Lr;try{if(sv(),qh.current=Ff,_f){for(var n=ar.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}_f=!1}if(Wo=0,Gr=Rr=ar=null,Xc=!1,Bu=0,mv.current=null,r===null||r.return===null){Or=1,Su=e,Lr=null;break}e:{var i=t,a=r.return,A=r,l=e;if(e=sn,A.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=A,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Bx(a);if(f!==null){f.flags&=-257,Cx(f,a,A,i,e),f.mode&1&&bx(i,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){bx(i,c,e),bv();break e}l=Error(Fe(426))}}else if(tr&&A.mode&1){var B=Bx(a);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Cx(B,a,A,i,e),rv(Tl(l,A));break e}}i=l=Tl(l,A),Or!==4&&(Or=2),eu===null?eu=[i]:eu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=UB(i,l,e);gx(i,x);break e;case 1:A=l;var y=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(qa===null||!qa.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=IB(i,A,e);gx(i,k);break e}}i=i.return}while(i!==null)}YB(r)}catch(R){e=R,Lr===r&&r!==null&&(Lr=r=r.return);continue}break}while(!0)}function WB(){var t=kf.current;return kf.current=Ff,t===null?Ff:t}function bv(){(Or===0||Or===3||Or===2)&&(Or=4),qr===null||!(Jo&268435455)&&!(u0&268435455)||La(qr,sn)}function jf(t,e){var r=Nt;Nt|=2;var n=WB();(qr!==t||sn!==e)&&(Gi=null,Ho(t,e));do try{TE();break}catch(s){$B(t,s)}while(!0);if(sv(),Nt=r,kf.current=n,Lr!==null)throw Error(Fe(261));return qr=null,sn=0,Or}function TE(){for(;Lr!==null;)JB(Lr)}function PE(){for(;Lr!==null&&!AS();)JB(Lr)}function JB(t){var e=ZB(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?YB(t):Lr=e,mv.current=null}function YB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=kE(r,e),r!==null){r.flags&=32767,Lr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Or=6,Lr=null;return}}else if(r=FE(r,e,Yn),r!==null){Lr=r;return}if(e=e.sibling,e!==null){Lr=e;return}Lr=e=t}while(e!==null);Or===0&&(Or=5)}function ko(t,e,r){var n=Qt,s=Ns.transition;try{Ns.transition=null,Qt=1,RE(t,e,r,n)}finally{Ns.transition=s,Qt=n}return null}function RE(t,e,r,n){do bl();while(Pa!==null);if(Nt&6)throw Error(Fe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Fe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(wS(t,i),t===qr&&(Lr=qr=null,sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rh||(rh=!0,eC(ff,function(){return bl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ns.transition,Ns.transition=null;var a=Qt;Qt=1;var A=Nt;Nt|=4,mv.current=null,IE(t,r),GB(r,t),sE(om),gf=!!am,om=am=null,t.current=r,jE(r),lS(),Nt=A,Qt=a,Ns.transition=i}else t.current=r;if(rh&&(rh=!1,Pa=t,If=s),i=t.pendingLanes,i===0&&(qa=null),dS(r.stateNode),Mn(t,br()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Uf)throw Uf=!1,t=Em,Em=null,t;return If&1&&t.tag!==0&&bl(),i=t.pendingLanes,i&1?t===_m?tu++:(tu=0,_m=t):tu=0,oo(),null}function bl(){if(Pa!==null){var t=U5(If),e=Ns.transition,r=Qt;try{if(Ns.transition=null,Qt=16>t?16:t,Pa===null)var n=!1;else{if(t=Pa,Pa=null,If=0,Nt&6)throw Error(Fe(331));var s=Nt;for(Nt|=4,He=t.current;He!==null;){var i=He,a=i.child;if(He.flags&16){var A=i.deletions;if(A!==null){for(var l=0;l<A.length;l++){var c=A[l];for(He=c;He!==null;){var u=He;switch(u.tag){case 0:case 11:case 15:Zc(8,u,i)}var h=u.child;if(h!==null)h.return=u,He=h;else for(;He!==null;){u=He;var p=u.sibling,f=u.return;if(HB(u),u===c){He=null;break}if(p!==null){p.return=f,He=p;break}He=f}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var B=w.sibling;w.sibling=null,w=B}while(w!==null)}}He=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,He=a;else e:for(;He!==null;){if(i=He,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,He=x;break e}He=i.return}}var y=t.current;for(He=y;He!==null;){a=He;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,He=C;else e:for(a=y;He!==null;){if(A=He,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:c0(9,A)}}catch(R){fr(A,A.return,R)}if(A===a){He=null;break e}var k=A.sibling;if(k!==null){k.return=A.return,He=k;break e}He=A.return}}if(Nt=s,oo(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(r0,t)}catch{}n=!0}return n}finally{Qt=r,Ns.transition=e}}return!1}function Px(t,e,r){e=Tl(r,e),e=UB(t,e,1),t=za(t,e,1),e=Sn(),t!==null&&(Hu(t,1,e),Mn(t,e))}function fr(t,e,r){if(t.tag===3)Px(t,t,r);else for(;e!==null;){if(e.tag===3){Px(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qa===null||!qa.has(n))){t=Tl(r,t),t=IB(e,t,1),e=za(e,t,1),t=Sn(),e!==null&&(Hu(e,1,t),Mn(e,t));break}}e=e.return}}function DE(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&r,qr===t&&(sn&r)===r&&(Or===4||Or===3&&(sn&130023424)===sn&&500>br()-vv?Ho(t,0):wv|=r),Mn(t,e)}function XB(t,e){e===0&&(t.mode&1?(e=zd,zd<<=1,!(zd&130023424)&&(zd=4194304)):e=1);var r=Sn();t=ea(t,e),t!==null&&(Hu(t,e,r),Mn(t,r))}function OE(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),XB(t,r)}function ME(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Fe(314))}n!==null&&n.delete(e),XB(t,r)}var ZB;ZB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)Rn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Rn=!1,_E(t,e,r);Rn=!!(t.flags&131072)}else Rn=!1,tr&&e.flags&1048576&&nB(e,Bf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wh(t,e),t=e.pendingProps;var s=Il(e,xn.current);yl(e,r),s=dv(null,e,n,t,s,r);var i=hv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,On(n)?(i=!0,yf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ov(e),s.updater=l0,e.stateNode=s,s._reactInternals=e,gm(e,n,t,r),e=vm(null,e,n,!0,i,r)):(e.tag=0,tr&&i&&ev(e),Nn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Wh(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=KE(n),t=zs(n,t),s){case 0:e=wm(null,e,n,t,r);break e;case 1:e=Ex(null,e,n,t,r);break e;case 11:e=Nx(null,e,n,t,r);break e;case 14:e=Sx(null,e,n,zs(n.type,t),r);break e}throw Error(Fe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:zs(n,s),wm(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:zs(n,s),Ex(t,e,n,s,r);case 3:e:{if(TB(e),t===null)throw Error(Fe(387));n=e.pendingProps,i=e.memoizedState,s=i.element,lB(t,e),Sf(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Tl(Error(Fe(423)),e),e=_x(t,e,n,r,s);break e}else if(n!==s){s=Tl(Error(Fe(424)),e),e=_x(t,e,n,r,s);break e}else for(es=Ga(e.stateNode.containerInfo.firstChild),rs=e,tr=!0,Ys=null,r=oB(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jl(),n===s){e=ta(t,e,r);break e}Nn(t,e,n,r)}e=e.child}return e;case 5:return cB(e),t===null&&hm(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Am(n,s)?a=null:i!==null&&Am(n,i)&&(e.flags|=32),QB(t,e),Nn(t,e,a,r),e.child;case 6:return t===null&&hm(e),null;case 13:return PB(t,e,r);case 4:return Av(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ll(e,null,n,r):Nn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:zs(n,s),Nx(t,e,n,s,r);case 7:return Nn(t,e,e.pendingProps,r),e.child;case 8:return Nn(t,e,e.pendingProps.children,r),e.child;case 12:return Nn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,zt(Cf,n._currentValue),n._currentValue=a,i!==null)if(ti(i.value,a)){if(i.children===s.children&&!Dn.current){e=ta(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var A=i.dependencies;if(A!==null){a=i.child;for(var l=A.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Ji(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),fm(i.return,r,e),A.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Fe(341));a.lanes|=r,A=a.alternate,A!==null&&(A.lanes|=r),fm(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Nn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,yl(e,r),s=Ss(s),n=n(s),e.flags|=1,Nn(t,e,n,r),e.child;case 14:return n=e.type,s=zs(n,e.pendingProps),s=zs(n.type,s),Sx(t,e,n,s,r);case 15:return jB(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:zs(n,s),Wh(t,e),e.tag=1,On(n)?(t=!0,yf(e)):t=!1,yl(e,r),kB(e,n,s),gm(e,n,s,r),vm(null,e,n,!0,t,r);case 19:return RB(t,e,r);case 22:return LB(t,e,r)}throw Error(Fe(156,e.tag))};function eC(t,e){return E5(t,e)}function HE(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(t,e,r,n){return new HE(t,e,r,n)}function Bv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KE(t){if(typeof t=="function")return Bv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hw)return 11;if(t===Kw)return 14}return 2}function Wa(t,e){var r=t.alternate;return r===null?(r=xs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xh(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")Bv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case rl:return Ko(r.children,s,i,e);case Mw:a=8,s|=8;break;case Og:return t=xs(12,r,e,s|2),t.elementType=Og,t.lanes=i,t;case Mg:return t=xs(13,r,e,s),t.elementType=Mg,t.lanes=i,t;case Hg:return t=xs(19,r,e,s),t.elementType=Hg,t.lanes=i,t;case c5:return d0(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A5:a=10;break e;case l5:a=9;break e;case Hw:a=11;break e;case Kw:a=14;break e;case Fa:a=16,n=null;break e}throw Error(Fe(130,t==null?t:typeof t,""))}return e=xs(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ko(t,e,r,n){return t=xs(7,t,n,e),t.lanes=r,t}function d0(t,e,r,n){return t=xs(22,t,n,e),t.elementType=c5,t.lanes=r,t.stateNode={isHidden:!1},t}function zp(t,e,r){return t=xs(6,t,null,e),t.lanes=r,t}function qp(t,e,r){return e=xs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VE(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ep(0),this.expirationTimes=Ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ep(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cv(t,e,r,n,s,i,a,A,l){return t=new VE(t,e,r,A,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ov(i),t}function GE(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function tC(t){if(!t)return to;t=t._reactInternals;e:{if(eA(t)!==t||t.tag!==1)throw Error(Fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(On(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(t.tag===1){var r=t.type;if(On(r))return tB(t,r,e)}return e}function rC(t,e,r,n,s,i,a,A,l){return t=Cv(r,n,!0,t,s,i,a,A,l),t.context=tC(null),r=t.current,n=Sn(),s=$a(r),i=Ji(n,s),i.callback=e??null,za(r,i,s),t.current.lanes=s,Hu(t,s,n),Mn(t,n),t}function h0(t,e,r,n){var s=e.current,i=Sn(),a=$a(s);return r=tC(r),e.context===null?e.context=r:e.pendingContext=r,e=Ji(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=za(s,e,a),t!==null&&(ei(t,s,a,i),zh(t,s,a)),a}function Lf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Nv(t,e){Rx(t,e),(t=t.alternate)&&Rx(t,e)}function zE(){return null}var nC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sv(t){this._internalRoot=t}f0.prototype.render=Sv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Fe(409));h0(t,e,null,null)};f0.prototype.unmount=Sv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yo(function(){h0(null,t,null,null)}),e[Zi]=null}};function f0(t){this._internalRoot=t}f0.prototype.unstable_scheduleHydration=function(t){if(t){var e=L5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ja.length&&e!==0&&e<ja[r].priority;r++);ja.splice(r,0,t),r===0&&T5(t)}};function Ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dx(){}function qE(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Lf(a);i.call(c)}}var a=rC(e,n,t,0,null,!1,!1,"",Dx);return t._reactRootContainer=a,t[Zi]=a.current,wu(t.nodeType===8?t.parentNode:t),Yo(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var A=n;n=function(){var c=Lf(l);A.call(c)}}var l=Cv(t,0,!1,null,null,!1,!1,"",Dx);return t._reactRootContainer=l,t[Zi]=l.current,wu(t.nodeType===8?t.parentNode:t),Yo(function(){h0(e,l,r,n)}),l}function g0(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var A=s;s=function(){var l=Lf(a);A.call(l)}}h0(e,a,t,s)}else a=qE(r,e,t,s,n);return Lf(a)}I5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Pc(e.pendingLanes);r!==0&&(zw(e,r|1),Mn(e,br()),!(Nt&6)&&(Pl=br()+500,oo()))}break;case 13:Yo(function(){var n=ea(t,1);if(n!==null){var s=Sn();ei(n,t,1,s)}}),Nv(t,1)}};qw=function(t){if(t.tag===13){var e=ea(t,134217728);if(e!==null){var r=Sn();ei(e,t,134217728,r)}Nv(t,134217728)}};j5=function(t){if(t.tag===13){var e=$a(t),r=ea(t,e);if(r!==null){var n=Sn();ei(r,t,e,n)}Nv(t,e)}};L5=function(){return Qt};Q5=function(t,e){var r=Qt;try{return Qt=t,e()}finally{Qt=r}};Xg=function(t,e,r){switch(e){case"input":if(Gg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=a0(n);if(!s)throw Error(Fe(90));d5(n),Gg(n,s)}}}break;case"textarea":f5(t,r);break;case"select":e=r.value,e!=null&&ml(t,!!r.multiple,e,!1)}};y5=xv;b5=Yo;var $E={usingClientEntryPoint:!1,Events:[Vu,al,a0,v5,x5,xv]},_c={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WE={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N5(t),t===null?null:t.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||zE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{r0=nh.inject(WE),Ni=nh}catch{}}is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$E;is.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ev(e))throw Error(Fe(200));return GE(t,e,null,r)};is.createRoot=function(t,e){if(!Ev(t))throw Error(Fe(299));var r=!1,n="",s=nC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Cv(t,1,!1,null,null,r,!1,n,s),t[Zi]=e.current,wu(t.nodeType===8?t.parentNode:t),new Sv(e)};is.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Fe(188)):(t=Object.keys(t).join(","),Error(Fe(268,t)));return t=N5(e),t=t===null?null:t.stateNode,t};is.flushSync=function(t){return Yo(t)};is.hydrate=function(t,e,r){if(!p0(e))throw Error(Fe(200));return g0(null,t,e,!0,r)};is.hydrateRoot=function(t,e,r){if(!Ev(t))throw Error(Fe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=nC;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=rC(e,null,t,1,r??null,s,!1,i,a),t[Zi]=e.current,wu(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new f0(e)};is.render=function(t,e,r){if(!p0(e))throw Error(Fe(200));return g0(null,t,e,!1,r)};is.unmountComponentAtNode=function(t){if(!p0(t))throw Error(Fe(40));return t._reactRootContainer?(Yo(function(){g0(null,null,t,!1,function(){t._reactRootContainer=null,t[Zi]=null})}),!0):!1};is.unstable_batchedUpdates=xv;is.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!p0(r))throw Error(Fe(200));if(t==null||t._reactInternals===void 0)throw Error(Fe(38));return g0(t,e,r,!1,n)};is.version="18.3.1-next-f1338f8080-20240426";function sC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sC)}catch(t){console.error(t)}}sC(),s5.exports=is;var JE=s5.exports,Ox=JE;Rg.createRoot=Ox.createRoot,Rg.hydrateRoot=Ox.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eu.apply(this,arguments)}var ys;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ys||(ys={}));const Mx="popstate";function YE(t){t===void 0&&(t={});let{initialEntries:e=["/"],initialIndex:r,v5Compat:n=!1}=t,s;s=e.map((f,m)=>u(f,typeof f=="string"?null:f.state,m===0?"default":void 0));let i=l(r??s.length-1),a=ys.Pop,A=null;function l(f){return Math.min(Math.max(f,0),s.length-1)}function c(){return s[i]}function u(f,m,w){m===void 0&&(m=null);let B=Qf(s?c().pathname:"/",f,m,w);return zu(B.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(f)),B}function h(f){return typeof f=="string"?f:_u(f)}return{get index(){return i},get action(){return a},get location(){return c()},createHref:h,createURL(f){return new URL(h(f),"http://localhost")},encodeLocation(f){let m=typeof f=="string"?Ao(f):f;return{pathname:m.pathname||"",search:m.search||"",hash:m.hash||""}},push(f,m){a=ys.Push;let w=u(f,m);i+=1,s.splice(i,s.length,w),n&&A&&A({action:a,location:w,delta:1})},replace(f,m){a=ys.Replace;let w=u(f,m);s[i]=w,n&&A&&A({action:a,location:w,delta:0})},go(f){a=ys.Pop;let m=l(i+f),w=s[m];i=m,A&&A({action:a,location:w,delta:f})},listen(f){return A=f,()=>{A=null}}}}function XE(t){t===void 0&&(t={});function e(s,i){let{pathname:a="/",search:A="",hash:l=""}=Ao(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Qf("",{pathname:a,search:A,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let a=s.document.querySelector("base"),A="";if(a&&a.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");A=c===-1?l:l.slice(0,c)}return A+"#"+(typeof i=="string"?i:_u(i))}function n(s,i){zu(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return e_(e,r,n,t)}function Sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZE(){return Math.random().toString(36).substr(2,8)}function Hx(t,e){return{usr:t.state,key:t.key,idx:e}}function Qf(t,e,r,n){return r===void 0&&(r=null),Eu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ao(e):e,{state:r,key:e&&e.key||n||ZE()})}function _u(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ao(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function e_(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,A=ys.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Eu({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function h(){A=ys.Pop;let B=u(),x=B==null?null:B-c;c=B,l&&l({action:A,location:w.location,delta:x})}function p(B,x){A=ys.Push;let y=Qf(w.location,B,x);r&&r(y,B),c=u()+1;let C=Hx(y,c),k=w.createHref(y);try{a.pushState(C,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(k)}i&&l&&l({action:A,location:w.location,delta:1})}function f(B,x){A=ys.Replace;let y=Qf(w.location,B,x);r&&r(y,B),c=u();let C=Hx(y,c),k=w.createHref(y);a.replaceState(C,"",k),i&&l&&l({action:A,location:w.location,delta:0})}function m(B){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof B=="string"?B:_u(B);return y=y.replace(/ $/,"%20"),Sr(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let w={get action(){return A},get location(){return t(s,a)},listen(B){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Mx,h),l=B,()=>{s.removeEventListener(Mx,h),l=null}},createHref(B){return e(s,B)},createURL:m,encodeLocation(B){let x=m(B);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:f,go(B){return a.go(B)}};return w}var Kx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kx||(Kx={}));function t_(t,e,r){return r===void 0&&(r="/"),r_(t,e,r)}function r_(t,e,r,n){let s=typeof e=="string"?Ao(e):e,i=_v(s.pathname||"/",r);if(i==null)return null;let a=iC(t);n_(a);let A=null;for(let l=0;A==null&&l<a.length;++l){let c=p_(i);A=d_(a[l],c)}return A}function iC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,A)=>{let l={relativePath:A===void 0?i.path||"":A,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Sr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ja([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Sr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),iC(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:c_(c,i.index),routesMeta:u})};return t.forEach((i,a)=>{var A;if(i.path===""||!((A=i.path)!=null&&A.includes("?")))s(i,a);else for(let l of aC(i.path))s(i,a,l)}),e}function aC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=aC(n.join("/")),A=[];return A.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&A.push(...a),A.map(l=>t.startsWith("/")&&l===""?"/":l)}function n_(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:u_(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const s_=/^:[\w-]+$/,i_=3,a_=2,o_=1,A_=10,l_=-2,Vx=t=>t==="*";function c_(t,e){let r=t.split("/"),n=r.length;return r.some(Vx)&&(n+=l_),e&&(n+=a_),r.filter(s=>!Vx(s)).reduce((s,i)=>s+(s_.test(i)?i_:i===""?o_:A_),n)}function u_(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function d_(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let A=0;A<n.length;++A){let l=n[A],c=A===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=h_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Ja([i,h.pathname]),pathnameBase:x_(Ja([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ja([i,h.pathnameBase]))}return a}function h_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=f_(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),A=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let w=A[h]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const m=A[h];return f&&!m?c[p]=void 0:c[p]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function f_(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),zu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,A,l)=>(n.push({paramName:A,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function p_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _v(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const g_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m_=t=>g_.test(t);function w_(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ao(t):t,i;if(r)if(m_(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),zu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Gx(r.substring(1),"/"):i=Gx(r,e)}else i=e;return{pathname:i,search:y_(n),hash:b_(s)}}function Gx(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function $p(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v_(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Fv(t,e){let r=v_(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function kv(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ao(t):(s=Eu({},t),Sr(!s.pathname||!s.pathname.includes("?"),$p("?","pathname","search",s)),Sr(!s.pathname||!s.pathname.includes("#"),$p("#","pathname","hash",s)),Sr(!s.search||!s.search.includes("#"),$p("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,A;if(a==null)A=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}A=h>=0?e[h]:"/"}let l=w_(s,A),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ja=t=>t.join("/").replace(/\/\/+/g,"/"),x_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function B_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oC=["post","put","patch","delete"];new Set(oC);const C_=["get",...oC];new Set(C_);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fu.apply(this,arguments)}const Uv=F.createContext(null),N_=F.createContext(null),lo=F.createContext(null),m0=F.createContext(null),ia=F.createContext({outlet:null,matches:[],isDataRoute:!1}),AC=F.createContext(null);function S_(t,e){let{relative:r}=e===void 0?{}:e;Hl()||Sr(!1);let{basename:n,navigator:s}=F.useContext(lo),{hash:i,pathname:a,search:A}=cC(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Ja([n,a])),s.createHref({pathname:l,search:A,hash:i})}function Hl(){return F.useContext(m0)!=null}function ri(){return Hl()||Sr(!1),F.useContext(m0).location}function lC(t){F.useContext(lo).static||F.useLayoutEffect(t)}function _s(){let{isDataRoute:t}=F.useContext(ia);return t?O_():E_()}function E_(){Hl()||Sr(!1);let t=F.useContext(Uv),{basename:e,future:r,navigator:n}=F.useContext(lo),{matches:s}=F.useContext(ia),{pathname:i}=ri(),a=JSON.stringify(Fv(s,r.v7_relativeSplatPath)),A=F.useRef(!1);return lC(()=>{A.current=!0}),F.useCallback(function(c,u){if(u===void 0&&(u={}),!A.current)return;if(typeof c=="number"){n.go(c);return}let h=kv(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ja([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,i,t])}function __(){let{matches:t}=F.useContext(ia),e=t[t.length-1];return e?e.params:{}}function cC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=F.useContext(lo),{matches:s}=F.useContext(ia),{pathname:i}=ri(),a=JSON.stringify(Fv(s,n.v7_relativeSplatPath));return F.useMemo(()=>kv(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function F_(t,e){return k_(t,e)}function k_(t,e,r,n){Hl()||Sr(!1);let{navigator:s}=F.useContext(lo),{matches:i}=F.useContext(ia),a=i[i.length-1],A=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=ri(),u;if(e){var h;let B=typeof e=="string"?Ao(e):e;l==="/"||(h=B.pathname)!=null&&h.startsWith(l)||Sr(!1),u=B}else u=c;let p=u.pathname||"/",f=p;if(l!=="/"){let B=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(B.length).join("/")}let m=t_(t,{pathname:f}),w=Q_(m&&m.map(B=>Object.assign({},B,{params:Object.assign({},A,B.params),pathname:Ja([l,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?l:Ja([l,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),i,r,n);return e&&w?F.createElement(m0.Provider,{value:{location:Fu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ys.Pop}},w):w}function U_(){let t=D_(),e=B_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),r?F.createElement("pre",{style:s},r):null,null)}const I_=F.createElement(U_,null);class j_ extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?F.createElement(ia.Provider,{value:this.props.routeContext},F.createElement(AC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L_(t){let{routeContext:e,match:r,children:n}=t,s=F.useContext(Uv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(ia.Provider,{value:e},n)}function Q_(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,A=(s=r)==null?void 0:s.errors;if(A!=null){let u=a.findIndex(h=>h.route.id&&(A==null?void 0:A[h.route.id])!==void 0);u>=0||Sr(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:f}=r,m=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,h,p)=>{let f,m=!1,w=null,B=null;r&&(f=A&&h.route.id?A[h.route.id]:void 0,w=h.route.errorElement||I_,l&&(c<0&&p===0?(M_("route-fallback"),m=!0,B=null):c===p&&(m=!0,B=h.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,p+1)),y=()=>{let C;return f?C=w:m?C=B:h.route.Component?C=F.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=u,F.createElement(L_,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:C})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?F.createElement(j_,{location:r.location,revalidation:r.revalidation,component:w,error:f,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var uC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uC||{}),dC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dC||{});function T_(t){let e=F.useContext(Uv);return e||Sr(!1),e}function P_(t){let e=F.useContext(N_);return e||Sr(!1),e}function R_(t){let e=F.useContext(ia);return e||Sr(!1),e}function hC(t){let e=R_(),r=e.matches[e.matches.length-1];return r.route.id||Sr(!1),r.route.id}function D_(){var t;let e=F.useContext(AC),r=P_(),n=hC();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function O_(){let{router:t}=T_(uC.UseNavigateStable),e=hC(dC.UseNavigateStable),r=F.useRef(!1);return lC(()=>{r.current=!0}),F.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Fu({fromRouteId:e},i)))},[t,e])}const zx={};function M_(t,e,r){zx[t]||(zx[t]=!0)}function fC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}const H_="startTransition",qx=r5[H_];function K_(t){let{basename:e,children:r,initialEntries:n,initialIndex:s,future:i}=t,a=F.useRef();a.current==null&&(a.current=YE({initialEntries:n,initialIndex:s,v5Compat:!0}));let A=a.current,[l,c]=F.useState({action:A.action,location:A.location}),{v7_startTransition:u}=i||{},h=F.useCallback(p=>{u&&qx?qx(()=>c(p)):c(p)},[c,u]);return F.useLayoutEffect(()=>A.listen(h),[A,h]),F.useEffect(()=>fC(i),[i]),F.createElement(pC,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:A,future:i})}function Bl(t){let{to:e,replace:r,state:n,relative:s}=t;Hl()||Sr(!1);let{future:i,static:a}=F.useContext(lo),{matches:A}=F.useContext(ia),{pathname:l}=ri(),c=_s(),u=kv(e,Fv(A,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return F.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function xt(t){Sr(!1)}function pC(t){let{basename:e="/",children:r=null,location:n,navigationType:s=ys.Pop,navigator:i,static:a=!1,future:A}=t;Hl()&&Sr(!1);let l=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:i,static:a,future:Fu({v7_relativeSplatPath:!1},A)}),[l,A,i,a]);typeof n=="string"&&(n=Ao(n));let{pathname:u="/",search:h="",hash:p="",state:f=null,key:m="default"}=n,w=F.useMemo(()=>{let B=_v(u,l);return B==null?null:{location:{pathname:B,search:h,hash:p,state:f,key:m},navigationType:s}},[l,u,h,p,f,m,s]);return w==null?null:F.createElement(lo.Provider,{value:c},F.createElement(m0.Provider,{children:r,value:w}))}function V_(t){let{children:e,location:r}=t;return F_(Um(e),r)}new Promise(()=>{});function Um(t,e){e===void 0&&(e=[]);let r=[];return F.Children.forEach(t,(n,s)=>{if(!F.isValidElement(n))return;let i=[...e,s];if(n.type===F.Fragment){r.push.apply(r,Um(n.props.children,i));return}n.type!==xt&&Sr(!1),!n.props.index||!n.props.children||Sr(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Um(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Im.apply(this,arguments)}function G_(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function z_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function q_(t,e){return t.button===0&&(!e||e==="_self")&&!z_(t)}function jm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function $_(t,e){let r=jm(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const W_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],J_="6";try{window.__reactRouterVersion=J_}catch{}const Y_="startTransition",$x=r5[Y_];function X_(t){let{basename:e,children:r,future:n,window:s}=t,i=F.useRef();i.current==null&&(i.current=XE({window:s,v5Compat:!0}));let a=i.current,[A,l]=F.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=F.useCallback(h=>{c&&$x?$x(()=>l(h)):l(h)},[l,c]);return F.useLayoutEffect(()=>a.listen(u),[a,u]),F.useEffect(()=>fC(n),[n]),F.createElement(pC,{basename:e,children:r,location:A.location,navigationType:A.action,navigator:a,future:n})}const Z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=F.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:A,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=G_(e,W_),{basename:f}=F.useContext(lo),m,w=!1;if(typeof c=="string"&&eF.test(c)&&(m=c,Z_))try{let C=new URL(window.location.href),k=c.startsWith("//")?new URL(C.protocol+c):new URL(c),R=_v(k.pathname,f);k.origin===C.origin&&R!=null?c=R+k.search+k.hash:w=!0}catch{}let B=S_(c,{relative:s}),x=tF(c,{replace:a,state:A,target:l,preventScrollReset:u,relative:s,viewTransition:h});function y(C){n&&n(C),C.defaultPrevented||x(C)}return F.createElement("a",Im({},p,{href:m||B,onClick:w||i?n:y,ref:r,target:l}))});var Wx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wx||(Wx={}));var Jx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jx||(Jx={}));function tF(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:A}=e===void 0?{}:e,l=_s(),c=ri(),u=cC(t,{relative:a});return F.useCallback(h=>{if(q_(h,r)){h.preventDefault();let p=n!==void 0?n:_u(c)===_u(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:A})}},[c,l,u,n,s,r,t,i,a,A])}function rF(t){let e=F.useRef(jm(t)),r=F.useRef(!1),n=ri(),s=F.useMemo(()=>$_(n.search,r.current?null:e.current),[n.search]),i=_s(),a=F.useCallback((A,l)=>{const c=jm(typeof A=="function"?A(s):A);r.current=!0,i("?"+c,l)},[i,s]);return[s,a]}const gC=["master@glyphcircle.com","admin@glyphcircle.com","admin@glyph.circle","master@gylphcircle.com","admin@gylphcircle.com"],nF=[{id:"calendar",name:"Kalnirnaye Calendar",description:"Ancient Hindu Panchang with Tithi, Nakshatra, and Shubh Muhurats.",icon:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2zM12 11v4m0 0l2-2m-2 2l-2-2"}),o.jsx("circle",{cx:"12",cy:"13",r:"4",strokeDasharray:"2 2"})]}),path:"/calendar"},{id:"numerology",name:"Numerology",description:"Uncover the secrets hidden in your name and birth date.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})}),path:"/numerology"},{id:"astrology",name:"Astrology",description:"Explore your destiny written in the stars and planets.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),path:"/astrology"},{id:"ayurveda",name:"Ayurvedic Dosha",description:"Analyze your body constitution (Prakriti) and get diet plans.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),path:"/ayurveda"},{id:"muhurat",name:"Shubh Muhurat",description:"Find the most auspicious time for your activities.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),path:"/muhurat"},{id:"moon-journal",name:"Moon Journal",description:"Track your mood aligned with the lunar phases.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),path:"/moon-journal"},{id:"cosmic-sync",name:"Cosmic Sync",description:"Compare charts with friends for spiritual compatibility.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),path:"/cosmic-sync"},{id:"voice-oracle",name:"Voice Oracle",description:"Speak to the Sage directly and receive spoken wisdom.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),path:"/voice-oracle"},{id:"gemstones",name:"Gemstones & Mantras",description:"Find your power stone and sacred sound vibrations.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),path:"/gemstones"},{id:"matchmaking",name:"Vedic Matchmaking",description:"Check marital compatibility using the ancient Guna Milan system.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),path:"/matchmaking"},{id:"tarot",name:"Tarot",description:"Draw a card and gain insight into your past, present, and future.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),path:"/tarot"},{id:"palmistry",name:"Palmistry",description:"Read the lines on your hand to understand your character and future.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),path:"/palmistry"},{id:"face-reading",name:"Face Reading",description:"Discover what your facial features reveal about your personality.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),path:"/face-reading"},{id:"dream-analysis",name:"Dream Analysis",description:"Decode the symbols of your subconscious and find your lucky numbers.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),path:"/dream-analysis"},{id:"remedy",name:"Personal Guidance",description:"Get personalized remedies and guidance for your life challenges.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),path:"/remedy"},{id:"store",name:"Vedic Store",description:"Authentic Rudraksha, Yantras, and Gemstones for your spiritual path.",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),path:"/store"}],sF=["https://images.unsplash.com/photo-1531162232855-369463387517?q=80&w=1920","https://images.unsplash.com/photo-1515524738708-327f6b0037a2?q=80&w=1920","https://images.unsplash.com/photo-1605333116398-1c39a3f898e3?q=80&w=1920","https://images.unsplash.com/photo-1590387120759-4f86a5578507?q=80&w=1920"];function w0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function iF(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,e||[])).next())})}const aF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Iv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class oF extends Iv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yx extends Iv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xx extends Iv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Lm||(Lm={}));class AF{constructor(e,{headers:r={},customFetch:n,region:s=Lm.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=aF(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return iF(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:A,method:l,body:c,signal:u,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const m=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let w;c&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(p["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(p["Content-Type"]="application/json",w=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?w=JSON.stringify(c):w=c;let B=u;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),u?(B=a.signal,u.addEventListener("abort",()=>a.abort())):B=a.signal);const x=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),A),body:w,signal:B}).catch(R=>{throw new oF(R)}),y=x.headers.get("x-relay-error");if(y&&y==="true")throw new Yx(x);if(!x.ok)throw new Xx(x);let C=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return C==="application/json"?k=yield x.json():C==="application/octet-stream"||C==="application/pdf"?k=yield x.blob():C==="text/event-stream"?k=x:C==="multipart/form-data"?k=yield x.formData():k=yield x.text(),{data:k,error:null,response:x}}catch(A){return{data:null,error:A,response:A instanceof Xx||A instanceof Yx?A.context:void 0}}finally{i&&clearTimeout(i)}})}}var lF=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},cF=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,A=null,l=null,c=i.status,u=i.statusText;if(i.ok){var h,p;if(r.method!=="HEAD"){var f;const x=await i.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?A=x:A=JSON.parse(x))}const w=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),B=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");w&&B&&B.length>1&&(l=parseInt(B[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(A)&&(A.length>1?(a={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,l=null,c=406,u="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{var m;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(A=[],a=null,c=200,u="OK")}catch{i.status===404&&w===""?(c=204,u="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(m=a.details)===null||m===void 0)&&m.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&r.shouldThrowOnError)throw new lF(a)}return{error:a,data:A,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let A="";const l=i==null?void 0:i.cause;if(l){var c,u,h,p;const m=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",w=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";A=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,A+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${m}`,w&&(A+=` (${w})`),l!=null&&l.stack&&(A+=`
${l.stack}`)}else{var f;A=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},uF=class extends cF{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const A=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${A};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Zx=new RegExp("[,()]");var $A=class extends uF{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Zx.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Zx.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},dF=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:A,headers:l}=this.cloneRequestState();return A.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new $A({method:s,url:A,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const A=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(A.length>0){const l=[...new Set(A)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new $A({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:A,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&A.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);A.searchParams.set("columns",u.join(","))}}return new $A({method:a,url:A,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new $A({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new $A({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},hF=class mC{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new dF(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new mC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let A;const l=new URL(`${this.url}/rpc/${e}`);let c;const u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),h=n&&Object.values(r).some(u);h?(A="POST",c=r):n||s?(A=n?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{l.searchParams.append(f,m)})):(A="POST",c=r);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new $A({method:A,url:l,headers:p,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class fF{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pF="2.91.1",gF=`realtime-js/${pF}`,mF="1.0.0",wC="2.0.0",ey=wC,Qm=1e4,wF=1e3,vF=100;var Ua;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ua||(Ua={}));var Pr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pr||(Pr={}));var Js;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Js||(Js={}));var Tm;(function(t){t.websocket="websocket"})(Tm||(Tm={}));var jo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(jo||(jo={}));class xF{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,i;const a=e.topic,A=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`ref length ${A.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+A.length+a.length+c.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let m=new DataView(f),w=0;m.setUint8(w++,this.KINDS.userBroadcastPush),m.setUint8(w++,l.length),m.setUint8(w++,A.length),m.setUint8(w++,a.length),m.setUint8(w++,c.length),m.setUint8(w++,h.length),m.setUint8(w++,r),Array.from(l,x=>m.setUint8(w++,x.charCodeAt(0))),Array.from(A,x=>m.setUint8(w++,x.charCodeAt(0))),Array.from(a,x=>m.setUint8(w++,x.charCodeAt(0))),Array.from(c,x=>m.setUint8(w++,x.charCodeAt(0))),Array.from(h,x=>m.setUint8(w++,x.charCodeAt(0)));var B=new Uint8Array(f.byteLength+n.byteLength);return B.set(new Uint8Array(f),0),B.set(new Uint8Array(n),f.byteLength),B.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,A,l]=n;return r({join_ref:s,ref:i,topic:a,event:A,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),A=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+s));l=l+s;const u=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+a));l=l+a;const p=e.slice(l,e.byteLength),f=A===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,m={type:this.BROADCAST_EVENT,event:u,payload:f};return a>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class vC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Vt||(Vt={}));const ty=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=yF(a,t,e,s),i),{}):{}},yF=(t,e,r,n)=>{const s=e.find(A=>A.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?xC(i,a):Pm(a)},xC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return NF(e,r)}switch(t){case Vt.bool:return bF(e);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return BF(e);case Vt.json:case Vt.jsonb:return CF(e);case Vt.timestamp:return SF(e);case Vt.abstime:case Vt.date:case Vt.daterange:case Vt.int4range:case Vt.int8range:case Vt.money:case Vt.reltime:case Vt.text:case Vt.time:case Vt.timestamptz:case Vt.timetz:case Vt.tsrange:case Vt.tstzrange:return Pm(e);default:return Pm(e)}},Pm=t=>t,bF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},BF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},CF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},NF=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(A=>xC(e,A))}return t},SF=t=>typeof t=="string"?t.replace(" ","T"):t,yC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Wp{constructor(e,r,n={},s=Qm){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ry;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ry||(ry={}));class ru{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ru.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ru.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],A()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ru.syncDiff(this.state,s,i,a),A())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),A={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const h=i[c];if(h){const p=u.map(B=>B.presence_ref),f=h.map(B=>B.presence_ref),m=u.filter(B=>f.indexOf(B.presence_ref)<0),w=h.filter(B=>p.indexOf(B.presence_ref)<0);m.length>0&&(A[c]=m),w.length>0&&(l[c]=w)}else A[c]=u}),this.syncDiff(i,{joins:A,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(A,l)=>{var c;const u=(c=e[A])!==null&&c!==void 0?c:[];if(e[A]=this.cloneDeep(l),u.length>0){const h=e[A].map(f=>f.presence_ref),p=u.filter(f=>h.indexOf(f.presence_ref)<0);e[A].unshift(...p)}n(A,u,l)}),this.map(a,(A,l)=>{let c=e[A];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[A]=c,s(A,c,l),c.length===0&&delete e[A]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ny;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ny||(ny={}));var nu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(nu||(nu={}));var zi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zi||(zi={}));class hl{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wp(this,Js.join,this.params,this.timeout),this.rejoinTimer=new vC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Js.reply,{},(a,A)=>{this._trigger(this._replyEventName(A),a)}),this.presence=new ru(this),this.broadcastEndpointURL=yC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pr.closed){const{config:{broadcast:a,presence:A,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[nu.PRESENCE]&&this.bindings[nu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},A),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(zi.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(zi.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(zi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,B=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,x=[];for(let y=0;y<B;y++){const C=w[y],{filter:{event:k,schema:R,table:P,filter:M}}=C,U=f&&f[y];if(U&&U.event===k&&hl.isFilterValueEqual(U.schema,R)&&hl.isFilterValueEqual(U.table,P)&&hl.isFilterValueEqual(U.filter,M))x.push(Object.assign(Object.assign({},C),{id:U.id}));else{this.unsubscribe(),this.state=Pr.errored,e==null||e(zi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(zi.SUBSCRIBED);return}}).receive("error",f=>{this.state=Pr.errored,e==null||e(zi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(zi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Pr.joined&&e===nu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},A=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(A.status===202)return{success:!0};let l=A.statusText;try{const c=await A.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,A={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(A.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:A,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,A,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(A=(a=this.params)===null||a===void 0?void 0:a.config)===null||A===void 0?void 0:A.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Js.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Wp(this,Js.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Wp(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>vF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:A,error:l,leave:c,join:u}=Js;if(n&&[A,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var m,w,B;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((B=(w=f.filter)===null||w===void 0?void 0:w.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===a}).map(f=>f.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var m,w,B,x,y,C,k,R;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const P=f.id,M=(m=f.filter)===null||m===void 0?void 0:m.event;return P&&((w=r.ids)===null||w===void 0?void 0:w.includes(P))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((B=r.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))&&(!(!((x=f.filter)===null||x===void 0)&&x.table)||f.filter.table===((y=r.data)===null||y===void 0?void 0:y.table))}else{const P=(k=(C=f==null?void 0:f.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return P==="*"||P===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:w,table:B,commit_timestamp:x,type:y,errors:C}=m;p=Object.assign(Object.assign({},{schema:w,table:B,commit_timestamp:x,eventType:y,new:{},old:{},errors:C}),this._getPayloadRecords(m))}f.callback(p,n)})}_isClosed(){return this.state===Pr.closed}_isJoined(){return this.state===Pr.joined}_isJoining(){return this.state===Pr.joining}_isLeaving(){return this.state===Pr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&hl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Js.close,{},e)}_onError(e){this._on(Js.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ty(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ty(e.columns,e.old_record)),r}}const Jp=()=>{},sh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},EF=[1e3,2e3,5e3,1e4],_F=1e4,FF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kF{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qm,this.transport=null,this.heartbeatIntervalMs=sh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jp,this.ref=0,this.reconnectTimer=null,this.vsn=ey,this.logger=Jp,this.conn=null,this.sendBuffer=[],this.serializer=new xF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Tm.websocket}`,this.httpEndpoint=yC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fF.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ua.connecting:return jo.Connecting;case Ua.open:return jo.Open;case Ua.closing:return jo.Closing;default:return jo.Closed}}isConnected(){return this.connectionState()===jo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new hl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,A=>{var l;(l=this.conn)===null||l===void 0||l.send(A)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},sh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,A=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${A}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ua.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ua.open||this.conn.readyState===Ua.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Js.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([FF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:gF};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Js.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new vC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,A,l,c,u,h,p,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Qm,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:sh.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(A=e==null?void 0:e.heartbeatCallback)!==null&&A!==void 0?A:Jp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:ey,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:m=>EF[m-1]||_F,this.vsn){case mF:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(m,w)=>w(JSON.stringify(m)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(m,w)=>w(JSON.parse(m));break;case wC:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ku=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function UF(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function IF(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function jF(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const A=UF(t.baseUrl,n,s),l=await IF(t.auth),c=await e(A,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),p=h&&u?JSON.parse(u):u;if(!c.ok){const f=h?p:void 0,m=f==null?void 0:f.error;throw new ku((m==null?void 0:m.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:f})}return{status:c.status,headers:c.headers,data:p}}}}function ih(t){return t.join("")}var LF=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ih(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ih(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ih(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ih(t.namespace)}`}),!0}catch(e){if(e instanceof ku&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ku&&r.status===409)return;throw r}}};function jA(t){return t.join("")}var QF=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jA(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jA(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jA(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jA(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jA(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jA(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ku&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ku&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},TF=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=jF({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new LF(this.client,e),this.tableOps=new QF(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},v0=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function nr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var PF=class extends v0{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Rm=class extends v0{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const jv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),RF=()=>Response,Dm=t=>{if(Array.isArray(t))return t.map(r=>Dm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Dm(n)}),e},DF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},OF=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function MF(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HF(t){var e=MF(t,"string");return Uu(e)=="symbol"?e:e+""}function KF(t,e,r){return(e=HF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sy(Object(r),!0).forEach(function(n){KF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sy(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Yp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},VF=async(t,e,r)=>{t instanceof await RF()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new PF(Yp(n),s,i))}).catch(n=>{e(new Rm(Yp(n),n))}):e(new Rm(Yp(t),t))},GF=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(DF(n)?(s.headers=Xe({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Xe(Xe({},s),r))};async function qu(t,e,r,n,s,i){return new Promise((a,A)=>{t(r,GF(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>VF(l,A,n))})}async function Iu(t,e,r,n){return qu(t,"GET",e,r,n)}async function qs(t,e,r,n,s){return qu(t,"POST",e,n,s,r)}async function Om(t,e,r,n,s){return qu(t,"PUT",e,n,s,r)}async function zF(t,e,r,n){return qu(t,"HEAD",e,Xe(Xe({},r),{},{noResolveJson:!0}),n)}async function Lv(t,e,r,n,s){return qu(t,"DELETE",e,n,s,r)}var qF=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}}};let bC;bC=Symbol.toStringTag;var $F=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[bC]="BlobDownloadBuilder",this.promise=null}asStream(){return new qF(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}}};const WF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var JF=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=jv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const a=Xe(Xe({},iy),n);let A=Xe(Xe({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,A["cache-control"]=`max-age=${a.cacheControl}`,A["content-type"]=a.contentType,l&&(A["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(A=Xe(Xe({},A),n.headers));const c=s._removeEmptyFolders(e),u=s._getFinalPath(c),h=await(t=="PUT"?Om:qs)(s.fetch,`${s.url}/object/${u}`,i,Xe({headers:A},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),A=new URL(s.url+`/object/upload/sign/${a}`);A.searchParams.set("token",e);try{let l;const c=Xe({upsert:iy.upsert},n),u=Xe(Xe({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:i,fullPath:(await Om(s.fetch,A.toString(),l,{headers:u})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(nr(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=Xe({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await qs(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),A=a.searchParams.get("token");if(!A)throw new v0("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:A},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await qs(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await qs(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await qs(n.fetch,`${n.url}/object/sign/${s}`,Xe({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await qs(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Xe(Xe({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),a=()=>Iu(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new $F(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Dm(await Iu(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await zF(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nr(n)&&n instanceof Rm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let A=n.join("&");return A!==""&&(A=`?${A}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${A}`)}}}async remove(t){var e=this;try{return{data:await Lv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=Xe(Xe(Xe({},WF),e),{},{prefix:t||""});return{data:await qs(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=Xe({},t);return{data:await qs(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const BC="2.91.1",CC={"X-Client-Info":`storage-js/${BC}`};var YF=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Xe(Xe({},CC),e),this.fetch=jv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Iu(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Iu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await qs(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Om(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await qs(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Lv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},XF=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Xe(Xe({},CC),e),this.fetch=jv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await qs(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Iu(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Lv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!OF(t))throw new v0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new TF({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...A)=>{try{return{data:await a.apply(s,A),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Qv={"X-Client-Info":`storage-js/${BC}`,"Content-Type":"application/json"};var NC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Xn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Xp=class extends NC{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ZF=class extends NC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Tv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ek=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ay=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tk=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new Xp(ay(i),n,a))}).catch(()=>{const i=n+"";e(new Xp(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new Xp(s.statusText||`HTTP ${n} error`,n,i))}}else e(new ZF(ay(t),t))},rk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(ek(n)?(s.headers=Xe({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Xe(Xe({},s),r)):s};async function nk(t,e,r,n,s,i){return new Promise((a,A)=>{t(r,rk(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>tk(l,A,n))})}async function Zn(t,e,r,n,s){return nk(t,"POST",e,n,s,r)}var sk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Xe(Xe({},Qv),e),this.fetch=Tv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Zn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Zn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Zn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Zn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xn(n))return{data:null,error:n};throw n}}},ik=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Xe(Xe({},Qv),e),this.fetch=Tv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Zn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Zn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Zn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Zn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Zn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}},ak=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Xe(Xe({},Qv),e),this.fetch=Tv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Zn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Zn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Zn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Zn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Xn(r))return{data:null,error:r};throw r}}},ok=class extends ak{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Ak(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},Ak=class extends sk{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Xe(Xe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Xe(Xe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new lk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},lk=class extends ik{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Xe(Xe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Xe(Xe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Xe(Xe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Xe(Xe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Xe(Xe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},ck=class extends YF{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new JF(this.url,this.headers,t,this.fetch)}get vectors(){return new ok(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new XF(this.url+"/iceberg",this.headers,this.fetch)}};const SC="2.91.1",WA=30*1e3,Mm=3,Zp=Mm*WA,uk="http://localhost:9999",dk="supabase.auth.token",hk={"X-Client-Info":`gotrue-js/${SC}`},Hm="X-Supabase-Api-Version",EC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pk=10*60*1e3;class ju extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gk extends ju{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mk(t){return Ge(t)&&t.name==="AuthApiError"}class Lo extends ju{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class aa extends ju{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Wn extends aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wk(t){return Ge(t)&&t.name==="AuthSessionMissingError"}class LA extends aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ah extends aa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class oh extends aa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vk(t){return Ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class oy extends aa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xk extends aa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Km extends aa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function eg(t){return Ge(t)&&t.name==="AuthRetryableFetchError"}class Ay extends aa{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Vm extends aa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ly=` 	
\r=`.split(""),yk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ly.length;e+=1)t[ly[e].charCodeAt(0)]=-2;for(let e=0;e<Tf.length;e+=1)t[Tf[e].charCodeAt(0)]=e;return t})();function cy(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Tf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Tf[n]),e.queuedBits-=6}}function _C(t,e,r){const n=yk[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function uy(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Ck(a,n,r)};for(let a=0;a<t.length;a+=1)_C(t.charCodeAt(a),s,i);return e.join("")}function bk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Bk(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}bk(n,e)}}function Ck(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Cl(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)_C(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Nk(t){const e=[];return Bk(t,r=>e.push(r)),new Uint8Array(e)}function Oo(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>cy(s,r,n)),cy(null,r,n),e.join("")}function Sk(t){return Math.round(Date.now()/1e3)+t}function Ek(){return Symbol("auth-callback")}const en=()=>typeof window<"u"&&typeof document<"u",No={tested:!1,writable:!1},FC=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(No.tested)return No.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),No.tested=!0,No.writable=!0}catch{No.tested=!0,No.writable=!1}return No.writable};function _k(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const kC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Fk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",JA=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},So=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xr=async(t,e)=>{await t.removeItem(e)};class x0{constructor(){this.promise=new x0.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}x0.promiseConstructor=Promise;function tg(t){const e=t.split(".");if(e.length!==3)throw new Vm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!fk.test(e[n]))throw new Vm("JWT not in base64url format");return{header:JSON.parse(uy(e[0])),payload:JSON.parse(uy(e[1])),signature:Cl(e[2]),raw:{header:e[0],payload:e[1]}}}async function kk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Uk(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function Ik(t){return("0"+t.toString(16)).substr(-2)}function jk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Ik).join("")}async function Lk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Qk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Lk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function QA(t,e,r=!1){const n=jk();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await JA(t,`${e}-code-verifier`,s);const i=await Qk(n);return[i,n===i?"plain":"s256"]}const Tk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Pk(t){const e=t.headers.get(Hm);if(!e||!e.match(Tk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Rk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Dk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ok=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function TA(t){if(!Ok.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rg(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mk(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function dy(t){return JSON.parse(JSON.stringify(t))}const Uo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hk=[502,503,504];async function hy(t){var e;if(!Fk(t))throw new Km(Uo(t),0);if(Hk.includes(t.status))throw new Km(Uo(t),t.status);let r;try{r=await t.json()}catch(i){throw new Lo(Uo(i),i)}let n;const s=Pk(t);if(s&&s.getTime()>=EC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ay(Uo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Wn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ay(Uo(r),t.status,r.weak_password.reasons);throw new gk(Uo(r),t.status||500,n)}const Kk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ye(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Hm]||(i[Hm]=EC["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const A=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Vk(t,e,r+A,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Vk(t,e,r,n,s,i){const a=Kk(e,n,s,i);let A;try{A=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Km(Uo(l),0)}if(A.ok||await hy(A),n!=null&&n.noResolveJson)return A;try{return await A.json()}catch(l){await hy(l)}}function Ks(t){var e;let r=null;qk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Sk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function fy(t){const e=Ks(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Gk(t){return{data:t,error:null}}function zk(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=w0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:A,user:l},error:null}}function py(t){return t}function qk(t){return t.access_token&&t.refresh_token&&t.expires_in}const ng=["global","local","others"];class $k{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=kC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ng[0]){if(ng.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ng.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qa})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=w0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:zk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qa})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,A,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:py});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(A=u.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(m.split(";")[1].split("=")[1]);c[`${B}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Ge(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){TA(e);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qa})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){TA(e);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Qa})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){TA(e);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qa})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){TA(e.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteFactor(e){TA(e.userId),TA(e.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,A,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:py});if(u.error)throw u.error;const h=await u.json(),p=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(A=u.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(m.split(";")[1].split("=")[1]);c[`${B}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Ge(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}function gy(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const PA={debug:!!(globalThis&&FC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class UC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Wk extends UC{}async function Jk(t,e,r){PA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),PA.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){PA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{PA.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw PA.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Wk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(PA.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Yk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function IC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Xk(t){return parseInt(t,16)}function Zk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function eU(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:A,requestId:l,resources:c,scheme:u,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=IC(t.address),m=u?`${u}://${n}`:n,w=t.statement?`${t.statement}
`:"",B=`${m} wants you to sign in with your Ethereum account:
${f}

${w}`;let x=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),A&&(x+=`
Not Before: ${A.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const C of c){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);y+=`
- ${C}`}x+=y}return`${B}
${x}`}class Ir extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Pf extends Ir{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function tU({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ir({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ir({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ir({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ir({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ir({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new Ir({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ir({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(jC(a)){if(i.rp.id!==a)return new Ir({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ir({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function rU({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ir({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(jC(n)){if(r.rpId!==n)return new Ir({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class nU{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const sU=new nU;function iU(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=w0(t,["challenge","user","excludeCredentials"]),i=Cl(e).buffer,a=Object.assign(Object.assign({},r),{id:Cl(r.id).buffer}),A=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){A.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];A.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Cl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return A}function aU(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=w0(t,["challenge","allowCredentials"]),s=Cl(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const A=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},A),{id:Cl(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return i}function oU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Oo(new Uint8Array(t.response.attestationObject)),clientDataJSON:Oo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function AU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Oo(new Uint8Array(s.authenticatorData)),clientDataJSON:Oo(new Uint8Array(s.clientDataJSON)),signature:Oo(new Uint8Array(s.signature)),userHandle:s.userHandle?Oo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function my(){var t,e;return!!(en()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function lU(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pf("Browser returned unexpected credential type",e)}:{data:null,error:new Pf("Empty credential response",e)}}catch(e){return{data:null,error:tU({error:e,options:t})}}}async function cU(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pf("Browser returned unexpected credential type",e)}:{data:null,error:new Pf("Empty credential response",e)}}catch(e){return{data:null,error:rU({error:e,options:t})}}}const uU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dU={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Rf(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const A=n[i];e(A)?n[i]=Rf(A,a):n[i]=Rf(a)}else n[i]=a}return n}function hU(t,e){return Rf(uU,t,e||{})}function fU(t,e){return Rf(dU,t,e||{})}class pU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:A}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:A};const l=s??sU.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=hU(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await lU({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=fU(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await cU(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(a){return Ge(a)?{data:null,error:a}:{data:null,error:new Lo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ju("rpId is required for WebAuthn authentication")};try{if(!my())return{data:null,error:new Lo("Browser does not support WebAuthn",null)};const{data:a,error:A}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:A};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return Ge(a)?{data:null,error:a}:{data:null,error:new Lo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ju("rpId is required for WebAuthn registration")};try{if(!my())return{data:null,error:new Lo("Browser does not support WebAuthn",null)};const{data:a,error:A}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:A};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return Ge(a)?{data:null,error:a}:{data:null,error:new Lo("Unexpected error in register",a)}}}}Yk();const gU={url:uk,storageKey:dk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function wy(t,e,r){return await r()}const RA={};class Lu{get jwks(){var e,r;return(r=(e=RA[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){RA[this.storageKey]=Object.assign(Object.assign({},RA[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=RA[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){RA[this.storageKey]=Object.assign(Object.assign({},RA[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},gU),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Lu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Lu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&en()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $k({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=kC(i.fetch),this.lock=i.lock||wy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Jk:this.lock=wy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pU(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:FC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gy(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=gy(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${SC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(en()&&(r=_k(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),en()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),vk(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:A}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",A),await this._saveSession(a),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ge(r)?this._returnResult({error:r}):this._returnResult({error:new Lo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ks}),{data:a,error:A}=i;if(A||!a)return this._returnResult({data:{user:null,session:null},error:A});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:h,options:p}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await QA(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:m},xform:Ks})}else if("phone"in e){const{phone:u,password:h,options:p}=e;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ks})}else throw new ah("You must provide either an email or phone number and a password");const{data:a,error:A}=i;if(A||!a)return await Xr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:A});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:A}=e;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:fy})}else if("phone"in e){const{phone:i,password:a,options:A}=e;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:fy})}else throw new ah("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new LA;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,A,l,c,u,h,p;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:w,wallet:B,statement:x,options:y}=e;let C;if(en())if(typeof B=="object")C=B;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")C=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=B}const k=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),R=await C.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=IC(R[0]);let M=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const H=await C.request({method:"eth_chainId"});M=Xk(H)}const U={domain:k.host,address:P,statement:x,uri:k.href,version:"1",chainId:M,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(A=y==null?void 0:y.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=eU(U),m=await C.request({method:"personal_sign",params:[Zk(f),P]})}try{const{data:w,error:B}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ks});if(B)throw B;if(!w||!w.session||!w.user){const x=new LA;return this._returnResult({data:{user:null,session:null},error:x})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:B})}catch(w){if(Ge(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,a,A,l,c,u,h,p,f;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:B,wallet:x,statement:y,options:C}=e;let k;if(en())if(typeof x=="object")k=x;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))k=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}const R=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const P=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),y?{statement:y}:null));let M;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")M=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)M=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)m=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),w=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${R.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(n=C==null?void 0:C.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=C==null?void 0:C.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((A=C==null?void 0:C.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((h=(u=C==null?void 0:C.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...C.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const P=await k.signMessage(new TextEncoder().encode(m),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:B,error:x}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Oo(w)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ks});if(x)throw x;if(!B||!B.session||!B.user){const y=new LA;return this._returnResult({data:{user:null,session:null},error:y})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:x})}catch(B){if(Ge(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async _exchangeCodeForSession(e){const r=await So(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new xk;const{data:i,error:a}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ks});if(await Xr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const A=new LA;return this._returnResult({data:{user:null,session:null,redirectType:null},error:A})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,A=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ks}),{data:l,error:c}=A;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new LA;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:A,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await QA(this.storage,this.storageKey));const{error:h}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:A,options:l}=e,{data:c,error:u}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new ah("You must provide either an email or phone number.")}catch(A){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ge(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:A}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ks});if(A)throw A;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let A=null,l=null;this.flowType==="pkce"&&([A,l]=await QA(this.storage,this.storageKey));const c=await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:l}),headers:this.headers,xform:Gk});return!((i=c.data)===null||i===void 0)&&i.url&&en()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(A){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ge(A))return this._returnResult({data:null,error:A});throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Wn;const{error:s}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:A}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:A})}throw new ah("You must provide either an email or phone number and a type")}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await So(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Zp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await So(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=rg()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Mk(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qa}):await this._useSession(async r=>{var n,s,i;const{data:a,error:A}=r;if(A)throw A;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wn}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Qa})})}catch(r){if(Ge(r))return wk(r)&&(await this._removeSession(),await Xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Wn;const a=s.session;let A=null,l=null;this.flowType==="pkce"&&e.email!=null&&([A,l]=await QA(this.storage,this.storageKey));const{data:c,error:u}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:A,code_challenge_method:l}),jwt:a.access_token,xform:Qa});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ge(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=tg(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:A,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!A)return{data:{user:null,session:null},error:null};i=A}else{const{data:A,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:A.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:A}=r;if(A)throw A;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Wn;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!en())throw new oh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new oh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new oy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new oy("No code detected.");const{data:y,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:A,expires_at:l,token_type:c}=e;if(!i||!A||!a||!c)throw new oh("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(A);let p=u+h;l&&(p=parseInt(l));const f=p-u;f*1e3<=WA&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=p-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,u);const{data:w,error:B}=await this._getUser(i);if(B)throw B;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await So(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:A}=await this.admin.signOut(a,e);if(A&&!(mk(A)&&(A.status===404||A.status===401||A.status===403)))return this._returnResult({error:A})}return e!=="others"&&(await this._removeSession(),await Xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Ek(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await QA(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,A,l,c,u;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(A=e.options)===null||A===void 0?void 0:A.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return en()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:A,token:l,access_token:c,nonce:u}=e,h=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:A,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ks}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new LA}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(await Xr(this.storage,`${this.storageKey}-code-verifier`),Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Uk(async s=>(s>0&&await kk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ks})),(s,i)=>{const a=200*Math.pow(2,s);return i&&eg(i)&&Date.now()+a-n<WA})}catch(n){if(this._debug(r,"error",n),Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),en()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await So(this.storage,this.storageKey);if(s&&this.userStorage){let a=await So(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await JA(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:rg()}else if(s&&!s.user&&!s.user){const a=await So(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Xr(this.storage,this.storageKey+"-user"),await JA(this.storage,this.storageKey,s)):s.user=rg()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Zp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),eg(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:A}=await this._getUser(s.access_token);!A&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new x0;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Wn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const A={data:i.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(i){if(this._debug(s,"error",i),Ge(i)){const a={data:null,error:i};return eg(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let A=0;A<i.length;A+=1)console.error(i[A]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Xr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await JA(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=dy(s);await JA(this.storage,this.storageKey,i)}else{const s=dy(r);await JA(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xr(this.storage,this.storageKey),await Xr(this.storage,this.storageKey+"-code-verifier"),await Xr(this.storage,this.storageKey+"-user"),this.userStorage&&await Xr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),WA);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/WA);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${WA}ms, refresh threshold is ${Mm} ticks`),s<=Mm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof UC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await QA(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(A.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const A=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?oU(e.webauthn.credential_response):AU(e.webauthn.credential_response)})}:{code:e.code}),{data:A,error:l}=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),this._returnResult({data:A,error:l}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:A}=a;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:iU(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:aU(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=tg(n.access_token);let a=null;i.aal&&(a=i.aal);let A=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(A="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:A,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Wn})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Wn});const a=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:A=>({data:A,error:null})});return a.data&&a.data.redirect_url&&en()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Wn});const a=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:A=>({data:A,error:null})});return a.data&&a.data.redirect_url&&en()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Wn})})}catch(e){if(Ge(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wn})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(A=>A.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(A=>A.kid===e),n&&this.jwks_cached_at+pk>s)return n;const{data:i,error:a}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(A=>A.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:m}=await this.getSession();if(m||!f.session)return this._returnResult({data:null,error:m});n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:A,payload:l}}=tg(n);r!=null&&r.allowExpired||Rk(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const u=Dk(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,a,Nk(`${A}.${l}`)))throw new Vm("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}}Lu.nextInstanceID={};const mU=Lu,wU="2.91.1";let Dc="";typeof Deno<"u"?Dc="deno":typeof document<"u"?Dc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dc="react-native":Dc="node";const vU={"X-Client-Info":`supabase-js-${Dc}/${wU}`},xU={headers:vU},yU={schema:"public"},bU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BU={};function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function CU(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NU(t){var e=CU(t,"string");return Qu(e)=="symbol"?e:e+""}function SU(t,e,r){return(e=NU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vy(Object(r),!0).forEach(function(n){SU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vy(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const EU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_U=()=>Headers,FU=(t,e,r)=>{const n=EU(r),s=_U();return async(i,a)=>{var A;const l=(A=await e())!==null&&A!==void 0?A:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,hr(hr({},a),{},{headers:c}))}};function kU(t){return t.endsWith("/")?t:t+"/"}function UU(t,e){var r,n;const{db:s,auth:i,realtime:a,global:A}=t,{db:l,auth:c,realtime:u,global:h}=e,p={db:hr(hr({},l),s),auth:hr(hr({},c),i),realtime:hr(hr({},u),a),storage:{},global:hr(hr(hr({},h),A),{},{headers:hr(hr({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=A==null?void 0:A.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function IU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var jU=class extends mU{constructor(t){super(t)}},LU=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=IU(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,A={db:yU,realtime:BU,auth:hr(hr({},bU),{},{storageKey:a}),global:xU},l=UU(r??{},A);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=FU(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(hr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new hF(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new ck(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new AF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:A,debug:l,throwOnError:c},u,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jU({url:this.authUrl.href,headers:hr(hr({},p),u),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:A,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new kF(this.realtimeUrl.href,hr(hr({},t),{},{params:hr(hr({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const QU=(t,e,r)=>new LU(t,e,r);function TU(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}TU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const PU={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var RU={};const LC=(t,e)=>{const r=PU||{},n=typeof process<"u"?RU:{};for(const s of t){let i=r[s]||n[s];if(i&&typeof i=="string"&&(i=i.replace(/['"]/g,"").trim().replace(/\/+$/,""),i.length>10))return i}return e.trim().replace(/\/+$/,"")},QC=LC(["VITE_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_URL"],"https://huvblygddkflciwfnbcf.supabase.co"),TC=LC(["VITE_SUPABASE_ANON_KEY","NEXT_PUBLIC_SUPABASE_ANON_KEY"],"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh1dmJseWdkZGtmbGNpd2ZuYmNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1NzI5NjgsImV4cCI6MjA4NDE0ODk2OH0.gtNftIJUHNuWUriF7AJvat0SLUQLcsdpWVl-yGkv5m8"),PC=()=>{try{return new URL(QC).protocol==="https:"&&TC.length>20}catch{return!1}},DU={auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit",storage:window.localStorage}},bt=QU(QC,TC,DU),vi=async(t,e=3e4)=>Promise.race([Promise.resolve(t),new Promise((r,n)=>setTimeout(()=>n(new Error(`Cosmic Timeout: Database unresponsive after ${e/1e3}s. Check network or Supabase RLS.`)),e))]);class OU{constructor(){}async getUserProfile(e){try{console.info(` DB: Fetching profile for ${e}`);const{data:r,error:n}=await vi(bt.from("users").select("*").eq("id",e).maybeSingle());if(n)throw n;return r}catch(r){return console.error("DB Error (Profile):",r),null}}async createUserProfile(e){try{console.info(` DB: Creating profile for ${e.email}`);const{data:r,error:n}=await vi(bt.from("users").upsert([e],{onConflict:"id"}).select().single());if(n)throw n;return r}catch(r){throw console.error("DB Error (Create Profile):",r.message),r}}async getReadings(e){try{const{data:r,error:n}=await vi(bt.from("readings").select("*").eq("user_id",e).order("timestamp",{ascending:!1}));return n?[]:r||[]}catch{return[]}}async saveReading(e){console.info(` DB: Saving reading "${e.title}"`);const r={...e,timestamp:new Date().toISOString(),is_favorite:!1,meta_data:e.meta_data||{}},{data:n,error:s}=await vi(bt.from("readings").insert([r]).select().single());if(s)throw s;return n}async toggleFavorite(e,r){const{error:n}=await vi(bt.from("readings").update({is_favorite:!r}).eq("id",e));return n?r:!r}async addCredits(e,r){const n=await this.getUserProfile(e);if(!n)throw new Error("User not found");const s=(n.credits||0)+r,{data:i,error:a}=await vi(bt.from("users").update({credits:s}).eq("id",e).select().single());if(a)throw a;return i}async recordTransaction(e){const r={...e,created_at:new Date().toISOString()},{data:n,error:s}=await vi(bt.from("transactions").insert([r]).select().single());if(s)throw s;return n}async getAll(e){try{const{data:r,error:n}=await vi(bt.from(e).select("*"));if(n)throw n;return r||[]}catch(r){throw console.error(`DB Error (${e}):`,r.message),r}}async updateEntry(e,r,n){console.info(` DB: Executing UPDATE on ${e} where id=${r}`,n);const{error:s,status:i}=await vi(bt.from(e).update(n).eq("id",r));if(s)throw console.error(` DB: Update failed with status ${i}:`,s),new Error(s.message||`Database error ${i}`);console.info(" DB: Update command accepted by server.")}async createEntry(e,r){console.info(` DB: Executing INSERT into ${e}...`);const{data:n,error:s}=await vi(bt.from(e).insert(r).select());if(s)throw s;return n}}const ir=new OU;let Ah;const MU=new Uint8Array(16);function HU(){if(!Ah&&(Ah=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ah))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ah(MU)}const Zr=[];for(let t=0;t<256;++t)Zr.push((t+256).toString(16).slice(1));function KU(t,e=0){return Zr[t[e+0]]+Zr[t[e+1]]+Zr[t[e+2]]+Zr[t[e+3]]+"-"+Zr[t[e+4]]+Zr[t[e+5]]+"-"+Zr[t[e+6]]+Zr[t[e+7]]+"-"+Zr[t[e+8]]+Zr[t[e+9]]+"-"+Zr[t[e+10]]+Zr[t[e+11]]+Zr[t[e+12]]+Zr[t[e+13]]+Zr[t[e+14]]+Zr[t[e+15]]}const VU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xy={randomUUID:VU};function GU(t,e,r){if(xy.randomUUID&&!t)return xy.randomUUID();t=t||{};const n=t.random||(t.rng||HU)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,KU(n)}const RC=F.createContext(void 0),zU=({children:t})=>{const[e,r]=F.useState({}),[n,s]=F.useState(!1),[i,a]=F.useState("connecting"),[A,l]=F.useState(null),[c,u]=F.useState(!1),h=["store_items","featured_content","services","config","cloud_providers","payment_providers","payment_config","payment_methods","image_assets","gemstones","store_orders","dosha_profiles","mood_entries","synastry_reports","report_formats","ui_themes"],p=y=>y?typeof y=="string"?y:y.message?y.message:JSON.stringify(y):"Unknown Cosmic Error",f=F.useCallback(async()=>{a("connecting"),l(null),u(!1);const y={};try{const{data:{session:C},error:k}=await bt.auth.getSession();if(k){l(`Auth Error: ${p(k)}`),a("error"),s(!0);return}const{error:R}=await bt.from("services").select("id").limit(1);if(R){const P=p(R);if(P.includes("aborted")||P.includes("AbortError")){s(!0);return}R.code==="42P17"||P.toLowerCase().includes("infinite recursion")?(u(!0),l("CRITICAL: Infinite Recursion Loop detected in your Supabase 'users' table policies.")):l(`Connection Failed: ${P}`),a("error"),s(!0);return}a("connected"),await Promise.all(h.map(async P=>{try{y[P]=await ir.getAll(P)}catch{y[P]=[]}})),r(P=>({...P,...y}))}catch(C){l(p(C)),a("error")}finally{s(!0)}},[]);F.useEffect(()=>{f()},[f]);const m=F.useCallback(async(y,C)=>{const k=e[y];if(!k)return;const R=k.find(U=>U.id==C);if(!R)return;const P=R.status,M=P==="active"?"inactive":"active";r(U=>({...U,[y]:U[y].map(H=>H.id==C?{...H,status:M}:H)}));try{await ir.updateEntry(y,C,{status:M})}catch(U){console.error("Status toggle failed:",U.message),r(H=>({...H,[y]:H[y].map($=>$.id==C?{...$,status:P}:$)})),alert(`Toggle Failed: ${U.message}`)}},[e]),w=F.useCallback(async y=>{r(C=>({...C,ui_themes:(C.ui_themes||[]).map(k=>({...k,status:k.id===y?"active":"inactive"}))}));try{await bt.from("ui_themes").update({status:"inactive"}).neq("id","placeholder"),await ir.updateEntry("ui_themes",y,{status:"active"})}catch(C){console.error("Theme activation failed",C),f()}},[f]),B=F.useCallback(async(y,C)=>{try{const k={...C};k.id||(k.id=GU()),await ir.createEntry(y,k),await f()}catch(k){throw console.error("Create failed:",k),k}},[f]),x=F.useCallback(async(y,C,k)=>{try{await ir.updateEntry(y,C,k),await f()}catch(R){throw console.error("Update failed",R),R}},[f]);return n?o.jsxs(RC.Provider,{value:{db:e,toggleStatus:m,activateTheme:w,createEntry:B,updateEntry:x,refresh:f,connectionStatus:i,errorMessage:A},children:[t,A&&o.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/95 backdrop-blur-2xl",children:o.jsxs("div",{className:"bg-red-950/20 border border-red-500/50 p-8 rounded-xl max-w-lg text-center",children:[o.jsx("h3",{className:"text-xl text-red-200 font-bold mb-4",children:"Connection Error"}),o.jsx("p",{className:"text-red-400 mb-6",children:A}),o.jsx("button",{onClick:()=>f(),className:"bg-red-700 text-white px-6 py-2 rounded",children:"Retry"})]})})]}):o.jsx("div",{className:"min-h-screen bg-[#0A0A1A] flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-4"}),o.jsx("h2",{className:"text-amber-200 font-cinzel tracking-widest text-sm",children:"Aligning Frequencies..."})]})})},qt=()=>{const t=F.useContext(RC);if(t===void 0)throw new Error("useDb must be used within a DbProvider");return t},Gm=[{level:1,title:"Novice Seeker",minKarma:0},{level:2,title:"Apprentice",minKarma:200},{level:3,title:"Adept",minKarma:500},{level:4,title:"Mystic",minKarma:1e3},{level:5,title:"Oracle",minKarma:2e3},{level:6,title:"Grand Sage",minKarma:5e3},{level:7,title:"Ascended Master",minKarma:1e4}],Df=[{id:"awakening",name:"The Awakening",description:"Complete your first reading.",icon:"",condition:t=>t.readingsCount>=1},{id:"consistent_soul",name:"Consistent Soul",description:"Achieve a 3-day alignment streak.",icon:"",condition:t=>t.streak>=3},{id:"dedicated_devotee",name:"Devoted Spirit",description:"Achieve a 7-day alignment streak.",icon:"",condition:t=>t.streak>=7},{id:"tarot_master",name:"Keeper of Cards",description:"Reach 500 Karma points.",icon:"",condition:t=>t.karma>=500},{id:"high_priest",name:"High Priest",description:"Reach Level 5 (Oracle).",icon:"",condition:t=>t.karma>=2e3}],zm={DAILY_LOGIN:50,READING_COMPLETE:20,SHARE:30,REFERRAL:100},Pv=t=>[...Gm].reverse().find(e=>t>=e.minKarma)||Gm[0],DC=t=>{const e=Pv(t);return Gm.find(n=>n.level===e.level+1)||{...e,minKarma:999999}};function qU(t){const e=String.fromCharCode(...new Uint8Array(t));return window.btoa(e)}function $U(t){const e=window.atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r.buffer}const Of={isAvailable:async()=>{try{if(window.PublicKeyCredential&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable)return await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch(t){console.debug("Biometric check failed (likely restricted context):",t)}return!1},register:async(t,e)=>{var r;try{const n=new Uint8Array(32);window.crypto.getRandomValues(n);const s=window.location.hostname||"glyph.circle.app",i={challenge:n,rp:{name:"Glyph Circle",id:s},user:{id:Uint8Array.from(t,A=>A.charCodeAt(0)),name:e,displayName:e},pubKeyCredParams:[{alg:-7,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:i});return a?qU(a.rawId):null}catch(n){if(n.name==="NotAllowedError"||(r=n.message)!=null&&r.includes("not enabled"))return console.warn("WebAuthn blocked by permissions policy."),null;throw console.warn("Biometric Registration Failed:",n),n}},verify:async t=>{var e;try{const r=new Uint8Array(32);window.crypto.getRandomValues(r);const n={challenge:r,timeout:6e4,userVerification:"required",allowCredentials:t?[{id:$U(t),type:"public-key",transports:["internal"]}]:void 0};return!!await navigator.credentials.get({publicKey:n})}catch(r){throw r.name==="NotAllowedError"||(e=r.message)!=null&&e.includes("not enabled")?(console.warn("Biometric authentication blocked."),new Error("Biometric authentication not allowed.")):(console.debug("Biometric Verification unavailable:",r),r)}}},$n={logout:"Logout",welcomeToPath:"Welcome to Your Path of Discovery",chooseService:"Choose a service below to begin your journey into the mystical arts and unlock the wisdom within.",numerology:"Numerology",numerologyDesc:"Uncover the secrets hidden in your name and birth date.",astrology:"Astrology",astrologyDesc:"Explore your destiny written in the stars and planets.",tarot:"Tarot",tarotDesc:"Draw a card and gain insight into your past, present, and future.",palmistry:"Palmistry",palmistryDesc:"Read the lines on your hand to understand your character and future.",faceReading:"Face Reading",faceReadingDesc:"Discover what your facial features reveal about your personality.","dream-analysis":"Dream Analysis","dream-analysisDesc":"Decode symbols and find your lucky numbers.",personalGuidance:"Personal Guidance",personalGuidanceDesc:"Get personalized remedies and guidance for your life challenges.",matchmaking:"Vedic Matchmaking",matchmakingDesc:"Check compatibility score (Guna Milan) for relationships.",gemstones:"Gemstones & Mantras",gemstonesDesc:"Find your power stone and sacred sound vibrations.",store:"Vedic Store",storeDesc:"Authentic Rudraksha, Yantras, and Gemstones for your spiritual path.",backToHome:"Back to Home",backToDashboard:"Back to Dashboard",aiPalmReading:"AI Palmistry Reading",uploadPalmPrompt:"Upload a clear photo of your palm to receive an instant, AI-powered palmistry reading.",uploadInstruction:"Click to upload or capture a photo",getYourReading:"Get My Reading",analyzing:"Analyzing...",yourReading:"Your Reading:",readingPlaceholder:"Your palm reading summary will appear here.",readMore:"Read More (Payment Required)",downloadPDF:"Download PDF",emailReport:"Email Report",paymentSuccessful:"Payment Successful! Access your full report.",aiFaceReading:"AI Face Reading",uploadFacePrompt:"Upload a clear photo of your face to receive an instant, AI-powered face reading.",faceReadingPlaceholder:"Your face reading summary will appear here.",numerologyReading:"Numerology Reading",astrologyReading:"Astrology Reading",enterDetailsPrompt:"Enter your details below to generate your personalized {featureName} summary.",fullName:"Full Name",dob:"Date of Birth",pob:"Place of Birth",tob:"Time of Birth",pobOptional:"Place of Birth (Optional for Numerology)",tobOptional:"Time of Birth (Optional for Numerology)",getMy:"Get My {featureName} Reading",generating:"Generating...",yourSummary:"Your {featureName} Summary",tarotReading:"Tarot Reading",tarotPrompt:"Select a card from the Major Arcana to reveal its mystical meaning for you.",glyphCircle:"Glyph Circle",enterCircle:"Enter the circle of wisdom.",username:"Username",password:"Password",login:"Login",orContinueWith:"Or continue with",signInGoogle:"Sign in with Google",signInPhone:"Sign in with Phone Number",noAccount:"Don't have an account?",createOne:"Create one",createAccount:"Create Your Account",email:"Email",confirmPassword:"Confirm Password",backToLogin:"Back to Login",signIn:"Sign in",toContinue:"to continue to Glyph Circle",selectAccount:"Choose an account",useAnotherAccount:"Use another account",enterOTP:"Enter OTP",otpPrompt:"A 6-digit code has been sent to your phone.",otpDemo:"For demo, use OTP: 123456",verify:"Verify",back:"Back",unlockReport:"Unlock Full Report",paymentPrompt:"For a one-time payment of {price}, gain full access to your detailed reading.",billingInfo:"Billing Information",address:"Address",city:"City",zip:"ZIP / Postal Code",country:"Country",proceedToPayment:"Proceed to Payment",payTo:"You are paying:",creditCard:"Credit or Debit Card",paypal:"PayPal",paypalNote:"Payments will be sent to {email}",payNow:"Pay Now",paymentSuccessTitle:"Payment Successful!",paymentSuccessMsg:"Your full report is now unlocked.",adminDashboard:"Admin Dashboard",runTheApp:"Run the App",runTheAppDesc:"Proceed to the main user-facing application.",showTheConfig:"Show the Config",showTheConfigDesc:"Access the admin panel to manage the application.",adminConfigTitle:"Admin Configuration",adminConfigDesc:"Select a database table to view and manage its entries. Changes made here are now saved for your browser session.",editing:"Editing: {tableName}",toggleStatus:"Toggle Status",createNewEntry:"Create New Entry",actions:"Actions",noEntries:"No entries in this table.",createEntryIn:"Create New Entry in {tableName}",cancel:"Cancel",create:"Create",featureComingSoon:"{featureName} is coming soon.",stayTuned:"Stay tuned for mystical insights!",goBackHome:"Go Back to Home",aiGuidance:"AI Spiritual Guidance",guidancePrompt:"Share your worries or questions to receive personalized Vedic remedies and spiritual guidance.",describeConcern:"Describe your concern or question...",getGuidance:"Get Spiritual Guidance",guidancePlaceholder:"Your guidance will appear here.",invalidName:"Please enter a valid name (at least 2 letters, no numbers).",invalidDob:"Please enter a valid Date of Birth.",invalidPob:"Please enter a valid Place of Birth.",invalidTob:"Please enter a valid Time of Birth."},WU={logout:" ",welcomeToPath:"       ",chooseService:"                    ",numerology:" ",numerologyDesc:"          ",astrology:"",astrologyDesc:"         ",tarot:"",tarotDesc:"     ,         ",palmistry:" ",palmistryDesc:"             ",faceReading:" ",faceReadingDesc:"              ",personalGuidance:" ",personalGuidanceDesc:"           ",matchmaking:" ",matchmakingDesc:"     ( )   ",backToHome:"   ",backToDashboard:"   ",aiPalmReading:"  ",uploadPalmPrompt:" , -            ",uploadInstruction:"         ",getYourReading:"   ",analyzing:"   ...",yourReading:" :",readingPlaceholder:"       ",readMore:"  ( )",downloadPDF:"  ",emailReport:" ",paymentSuccessful:" !     ",aiFaceReading:"  ",uploadFacePrompt:" , -            ",faceReadingPlaceholder:"        ",numerologyReading:"  ",astrologyReading:" ",enterDetailsPrompt:"  {featureName}          ",fullName:" ",dob:"  ",pob:" ",tob:"  ",pobOptional:"  (    )",tobOptional:"   (    )",getMy:" {featureName}   ",generating:"   ...",yourSummary:" {featureName} ",tarotReading:" ",tarotPrompt:"              ",glyphCircle:" ",enterCircle:"     ",username:" ",password:"",login:"  ",orContinueWith:"    ",signInGoogle:"Google     ",signInPhone:"     ",noAccount:"   ?",createOne:" ",createAccount:"  ",email:"",confirmPassword:"   ",backToLogin:"   ",signIn:"  ",toContinue:"      ",selectAccount:"  ",useAnotherAccount:"   ",enterOTP:"OTP  ",otpPrompt:"   6      ",otpDemo:"  , OTP   : 123456",verify:" ",back:"",unlockReport:"   ",paymentPrompt:"{price}     ,        ",billingInfo:" ",address:"",city:"",zip:" /  ",country:"",proceedToPayment:"    ",payTo:"    :",creditCard:"   ",paypal:"",paypalNote:" {email}   ",payNow:"  ",paymentSuccessTitle:" !",paymentSuccessMsg:"       ",adminDashboard:" ",runTheApp:" ",runTheAppDesc:" -    ",showTheConfig:" ",showTheConfigDesc:"         ",adminConfigTitle:" ",adminConfigDesc:"                      ",editing:": {tableName}",toggleStatus:"  ",createNewEntry:"  ",actions:"",noEntries:"      ",createEntryIn:"{tableName}    ",cancel:" ",create:"",featureComingSoon:"{featureName}     ",stayTuned:"     !",goBackHome:"   "},JU={welcomeToPath:"  ",chooseService:"      .",matchmaking:" ",backToHome:"",login:"",logout:""},YU={welcomeToPath:"  ",chooseService:"      .",matchmaking:" ",backToHome:"",login:"",logout:""},lh={en:$n,hi:WU,ta:{...$n,...JU},te:{...$n,...YU},es:$n,fr:$n,ar:$n,pt:$n,de:$n,ru:$n,ja:$n,zh:$n,bn:$n,mr:$n},yy=["ar","he"],XU={INR:1,USD:.012,EUR:.011,SAR:.045,BRL:.06,RUB:1.1,JPY:1.8,CNY:.085},ZU={INR:"",USD:"$",EUR:"",SAR:".",BRL:"R$",RUB:"",JPY:"",CNY:""},Rv=F.createContext(void 0),eI=({children:t})=>{const e=()=>{const p=navigator.language.split("-")[0];return lh[p]?p:"en"},[r,n]=F.useState(()=>localStorage.getItem("glyph_language")||e()),[s,i]=F.useState(()=>{const p=localStorage.getItem("glyph_currency");if(p)return p;try{const f=Intl.DateTimeFormat().resolvedOptions().timeZone;if(f==="Asia/Kolkata"||f==="IST")return"INR";if(f.startsWith("Europe/"))return"EUR";if(f.startsWith("America/"))return"USD";if(f==="Asia/Dubai")return"SAR";if(f==="Asia/Tokyo")return"JPY"}catch{}return"USD"}),[a,A]=F.useState(XU),l=p=>{i(p),localStorage.setItem("glyph_currency",p)};F.useEffect(()=>{(async()=>{try{const m=await(await fetch("https://api.exchangerate-api.com/v4/latest/INR")).json();m&&m.rates&&A(w=>({...w,...m.rates}))}catch{console.warn("Currency API offline, using fallback rates.")}})()},[]);const c=F.useCallback(p=>{n(p),localStorage.setItem("glyph_language",p);const f=yy.includes(p)?"rtl":"ltr";document.documentElement.dir=f,document.documentElement.lang=p},[]),u=F.useCallback((p,f={})=>{let w=(lh[r]||lh.en)[p]||lh.en[p]||p;return Object.keys(f).forEach(B=>{w=w.replace(`{${B}}`,f[B])}),w},[r]),h=F.useCallback(p=>{const f=a[s]||a.USD;let m=p;if(s!=="INR"){const B=p*f;B<10?m=Number(B.toFixed(2)):m=Math.round(B)}const w=ZU[s]||"$";return{price:m,symbol:w,currency:s,display:s==="SAR"?`${m} ${w}`:`${w}${m}`}},[s,a]);return o.jsx(Rv.Provider,{value:{language:r,setLanguage:c,t:u,isRTL:yy.includes(r),currency:s,setCurrency:l,getRegionalPrice:h,isLoading:!1},children:t})},OC=F.createContext(void 0),by=["master@glyphcircle.com","admin@glyphcircle.com","admin@glyph.circle"],Xt=()=>{const t=F.useContext(OC);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},tI=({children:t})=>{const[e,r]=F.useState(null),[n,s]=F.useState([]),[i,a]=F.useState(!0),[A,l]=F.useState(null),[c,u]=F.useState(null),[h,p]=F.useState(null),f=F.useContext(Rv),m=Z=>{const q=localStorage.getItem(`glyph_gamify_${Z.id}`);let z={...Z};return q?z.gamification=JSON.parse(q):z.gamification={karma:0,streak:1,lastVisit:new Date().toISOString(),readingsCount:0,unlockedSigils:[]},w(z)},w=Z=>{var ue,_;const q=new Date().toDateString(),z=(ue=Z.gamification)!=null&&ue.lastVisit?new Date(Z.gamification.lastVisit).toDateString():null;let se=((_=Z.gamification)==null?void 0:_.streak)||0;if(z!==q){const I=new Date;I.setDate(I.getDate()-1),se=z===I.toDateString()?se+1:1,Z.gamification&&(Z.gamification.streak=se,Z.gamification.lastVisit=new Date().toISOString(),Z.gamification.karma+=zm.DAILY_LOGIN)}return Z},B=Z=>{if(!Z.gamification)return;const q=Z.gamification;Df.forEach(z=>{!q.unlockedSigils.includes(z.id)&&z.condition(q)&&(q.unlockedSigils.push(z.id),p(z.name))})},x=F.useCallback(async()=>{if(!PC()){a(!1);return}try{const{data:{session:Z},error:q}=await bt.auth.getSession();if(q)throw q;if(Z!=null&&Z.user){let z=await ir.getUserProfile(Z.user.id);if(!z){const se=by.includes(Z.user.email||"");z=await ir.createUserProfile({id:Z.user.id,email:Z.user.email||"",name:Z.user.user_metadata.full_name||"Seeker",role:se?"admin":"user",credits:50})}if(z){const se=m(z);r(se);const ue=await ir.getReadings(z.id);s(ue),z.currency&&f&&f.currency!==z.currency&&f.setCurrency(z.currency)}}else{const z=localStorage.getItem("glyph_dev_user");if(z){const se=JSON.parse(z);r(m(se))}else r(null),s([])}}catch(Z){console.warn("Auth Sync:",Z.message)}finally{a(!1)}},[f]);F.useEffect(()=>{x();const{data:{subscription:Z}}=bt.auth.onAuthStateChange(async(q,z)=>{console.log(` Auth Event: ${q}`),(q==="SIGNED_IN"||q==="USER_UPDATED"||q==="TOKEN_REFRESHED")&&await x(),q==="SIGNED_OUT"&&(r(null),s([]))});return()=>{Z.unsubscribe()}},[x]);const y=async(Z,q)=>{a(!0),l(null);try{const{error:z}=await bt.auth.signInWithPassword({email:Z,password:q});if(z)throw z}catch(z){throw l(z.message),a(!1),z}},C=async Z=>{a(!0),l(null);try{const q=window.location.origin+window.location.pathname,{error:z}=await bt.auth.signInWithOtp({email:Z,options:{emailRedirectTo:q}});if(z)throw z}catch(q){throw l(q.message),q}finally{a(!1)}},k=async Z=>{a(!0),l(null);try{const{error:q}=await bt.auth.signInWithOtp({phone:Z});if(q)throw q}catch(q){throw l(q.message),a(!1),q}finally{a(!1)}},R=async(Z,q)=>{a(!0),l(null);try{const{error:z}=await bt.auth.verifyOtp({phone:Z,token:q,type:"sms"});if(z)throw z}catch(z){throw l(z.message),a(!1),z}finally{a(!1)}},P=async()=>{a(!0),l(null);try{if(!await Of.verify())return a(!1),!1;const{data:{session:q}}=await bt.auth.getSession();return q?(await x(),!0):(a(!1),!1)}catch{return l("Biometric Auth Failed"),a(!1),!1}},M=async(Z,q,z)=>{a(!0),l(null);try{const se=window.location.origin+window.location.pathname,{error:ue}=await bt.auth.signUp({email:q,password:z,options:{data:{full_name:Z},emailRedirectTo:se}});if(ue)throw ue}catch(se){throw l(se.message),a(!1),se}},U=async()=>{l("OAuth redirects are restricted in this preview environment.")},H=async(Z,q)=>{a(!0);const z=by.includes(Z),se={id:"dev_user_"+btoa(Z).substring(0,8),email:Z,name:q,role:z?"admin":"user",credits:100,created_at:new Date().toISOString()};localStorage.setItem("glyph_dev_user",JSON.stringify(se)),r(m(se)),a(!1)},$=async()=>{try{await bt.auth.signOut()}catch{}localStorage.removeItem("glyph_admin_session"),localStorage.removeItem("glyph_dev_user"),r(null),s([])},L=F.useCallback(async Z=>{if(e){const q=await ir.addCredits(e.id,Z);r(z=>z?{...z,credits:q.credits}:null)}},[e]),T=F.useCallback(async Z=>{if(e){const q=await ir.saveReading({...Z,user_id:e.id,paid:!0});s(z=>[q,...z]),le(zm.READING_COMPLETE)}},[e]),W=F.useCallback(()=>{c&&e&&(T(c),u(null))},[c,e,T]),J=F.useCallback(async Z=>{const q=n.find(z=>z.id===Z);if(q){const z=await ir.toggleFavorite(Z,q.is_favorite);s(se=>se.map(ue=>ue.id===Z?{...ue,is_favorite:z}:ue))}},[n]),le=F.useCallback(Z=>{e&&r(q=>{if(!q)return null;const z={...q};return z.gamification||(z.gamification={karma:0,streak:1,lastVisit:new Date().toISOString(),readingsCount:0,unlockedSigils:[]}),z.gamification.karma+=Z,B(z),localStorage.setItem(`glyph_gamify_${z.id}`,JSON.stringify(z.gamification)),z})},[e]),ie=()=>p(null);return o.jsx(OC.Provider,{value:{user:e,isAuthenticated:!!e,credits:(e==null?void 0:e.credits)||0,isLoading:i,error:A,history:n,login:y,sendMagicLink:C,loginWithPhone:k,verifyPhoneOtp:R,loginWithBiometrics:P,register:M,googleLogin:U,devLogin:H,logout:$,refreshUser:x,addCredits:L,saveReading:T,toggleFavorite:J,pendingReading:c,setPendingReading:u,commitPendingReading:W,awardKarma:le,newSigilUnlocked:h,clearSigilNotification:ie},children:t})},nt=({children:t,className:e="",...r})=>o.jsx("div",{className:`bg-skin-surface backdrop-blur-md rounded-xl shadow-lg border border-skin-border overflow-hidden ${e}`,...r,children:t}),$t=()=>{const t=F.useContext(Rv);if(t===void 0)throw new Error("useTranslation must be used within a LanguageProvider");return t};class rI{async saveProvider(e){const r={...e,status:"active"};e.id?await ir.updateEntry("cloud_providers",e.id,r):await ir.createEntry("cloud_providers",{...r})}async deleteProvider(e){await ir.updateEntry("cloud_providers",e,{status:"inactive"})}async testConnection(e){return new Promise(r=>{setTimeout(()=>{!e.api_key&&!e.base_url&&!e.bucket_name&&e.provider!=="Google Drive"?r({success:!1,message:"Missing required configuration fields"}):r({success:!0,message:`Successfully connected to ${e.provider}.`})},1500)})}validateProviderActive(e,r){if(!e||!e.startsWith("http"))return{valid:!0};let n="";return e.includes("drive.google.com")||e.includes("drive.usercontent.google.com")?n="Google Drive":e.includes("dropbox.com")?n="Dropbox":e.includes("s3")||e.includes("aws")?n="AWS S3":e.includes("firebase")?n="Firebase Storage":e.includes("cloudinary")&&(n="Cloudinary"),n&&!r.some(i=>i.provider===n&&i.status==="active"&&i.is_active)?{valid:!1,message:` Missing configuration for ${n}.`}:{valid:!0}}getProxyImageUrl(e,r){return String(e).startsWith("http")?this.resolveImage(String(e)):this.resolveImage(r)}resolveImage(e){if(!e)return"";if(e=e.trim(),e.startsWith("photo-")&&!e.includes("://"))return`https://images.unsplash.com/${e}?q=80&w=800&auto=format`;if(e.includes("drive.google.com")||e.includes("drive.usercontent.google.com")){const r=e.match(/\/file\/d\/([a-zA-Z0-9_-]+)/)||e.match(/[?&]id=([a-zA-Z0-9_-]+)/);if(r&&r[1])return`https://lh3.googleusercontent.com/d/${r[1]}`}if(e.includes("dropbox.com")){if(e.includes("?dl="))return e.replace(/\?dl=[01]/,"?raw=1");if(!e.includes("raw=1"))return e+(e.includes("?")?"&raw=1":"?raw=1")}return e.includes("images.unsplash.com")&&!e.includes("w=")?`${e}${e.includes("?")?"&":"?"}q=80&w=800&auto=format`:!e.startsWith("http")&&!e.startsWith("data:")?(console.warn(" CloudManager: Invalid URL detected:",e),"https://images.unsplash.com/photo-1600609842388-3e4b489d71c6?q=80&w=400"):e}}const $r=new rI,Ya=({src:t,fallbackSrc:e,alt:r,className:n="",containerClassName:s="",showSkeleton:i=!0,...a})=>{const[A,l]=F.useState(!1),[c,u]=F.useState(!1),h="https://images.unsplash.com/photo-1600609842388-3e4b489d71c6?q=80&w=200",p=F.useMemo(()=>c?e||h:$r.resolveImage(t),[t,c,e]);return o.jsxs("div",{className:`relative overflow-hidden ${s}`,children:[!A&&i&&o.jsx("div",{className:"absolute inset-0 bg-gray-800/50 animate-pulse flex items-center justify-center z-0",children:o.jsx("svg",{className:"w-8 h-8 text-gray-600/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),o.jsx("img",{src:p,alt:r||"Visual content",loading:"lazy",crossOrigin:"anonymous",onLoad:()=>l(!0),onError:()=>{c||(u(!0),l(!0))},className:`transition-opacity duration-700 ease-out ${A?"opacity-100":"opacity-0"} ${n}`,...a})]})},nI="https://images.unsplash.com/photo-1600609842388-3e4b489d71c6?q=80&w=600",sI="https://images.unsplash.com/photo-1534447677768-be436bb09401?q=80&w=800",By=()=>{const[t,e]=F.useState(0),{db:r}=qt(),{user:n}=Xt(),{t:s}=$t(),[i,a]=F.useState(!1),A=F.useMemo(()=>{var w;const m=((w=r.image_assets)==null?void 0:w.filter(B=>{var x,y;return B.id==="bg_ganesha"||((x=B.tags)==null?void 0:x.includes("background"))||((y=B.tags)==null?void 0:y.includes("home_bg"))}).map(B=>$r.resolveImage(B.path)))||[];return m.length>0?m:sF},[r.image_assets]),l=F.useMemo(()=>{const m=r.services||[];return nF.map(w=>{const B=m.find(x=>x.id===w.id);if(B){const x=B.image?$r.resolveImage(B.image):null;return{...w,...B,image:x||B.image,icon:w.icon}}return w}).filter(w=>w.status!=="inactive")},[r.services]),c=F.useMemo(()=>{var m;return(m=r.featured_content)==null?void 0:m.find(w=>w.status==="active")},[r.featured_content]),u=F.useMemo(()=>{var w;const m=(w=r.config)==null?void 0:w.find(B=>B.key==="card_hover_opacity");return m?parseFloat(m.value):.8},[r.config]),h=F.useMemo(()=>n&&["master@gylphcircle.com","admin@gylphcircle.com"].includes(n.email),[n]),p=F.useMemo(()=>{var w,B;const m=((w=r.image_assets)==null?void 0:w.find(x=>x.id==="login_logo"))||((B=r.image_assets)==null?void 0:B.find(x=>{var y;return(y=x.tags)==null?void 0:y.includes("login_logo")}));return m?$r.resolveImage(m.path):null},[r.image_assets]);F.useEffect(()=>{n&&!localStorage.getItem("glyph_bio_registered")&&Of.isAvailable().then(m=>{m&&a(!0)})},[n]),F.useEffect(()=>{const m=setInterval(()=>{e(w=>(w+1)%A.length)},8e3);return()=>clearInterval(m)},[A.length]);const f=async m=>{if(m.stopPropagation(),m.preventDefault(),!n)return;if(!window.isSecureContext){alert("Biometric Setup Failed: Your browser requires a secure connection (HTTPS) or localhost to enable this feature.");return}const w=document.getElementById("bio-setup-btn");w&&(w.innerText="Scanning...");try{navigator.vibrate&&navigator.vibrate(50),await Of.register(n.id,n.name)?(navigator.vibrate&&navigator.vibrate([50,100]),alert("Biometrics Registered Successfully! You can now log in using fingerprint or Face ID."),localStorage.setItem("glyph_bio_registered","true"),a(!1)):w&&(w.innerText="Retry")}catch(B){console.error("Biometric Error:",B);let x=B.message||"Unknown error";B.name==="NotAllowedError"&&(x="Access Denied. Please check your browser permission settings."),alert(`Setup Failed: ${x}`),w&&(w.innerText="Retry")}};return o.jsxs("div",{className:"-mt-8 -mx-4 relative min-h-[calc(100vh-80px)] overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden",children:[A.map((m,w)=>o.jsx("div",{className:"absolute inset-0 bg-cover bg-center will-change-transform will-change-opacity",style:{backgroundImage:`url(${m})`,opacity:w===t?1:0,transform:w===t?"scale(1.1)":"scale(1.0)",transition:"opacity 2000ms ease-in-out, transform 8000ms cubic-bezier(0.25, 0.46, 0.45, 0.94)",zIndex:-1}},w)),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-skin-base/80 via-skin-base/40 to-skin-base/90 mix-blend-multiply z-0 pointer-events-none"}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_20%,var(--color-bg-base)_100%)] z-0 pointer-events-none"})]}),o.jsxs("div",{className:"relative z-10 container mx-auto px-4 pt-24 pb-16 md:py-20 flex flex-col items-center",children:[o.jsxs("div",{className:"text-center mb-12 md:mb-20 max-w-5xl mx-auto animate-fade-in-up",children:[p&&o.jsx("div",{className:"mx-auto w-24 h-24 mb-6 rounded-full p-1 bg-gradient-to-tr from-skin-accent to-purple-600 shadow-lg animate-pulse-glow",children:o.jsx(Ya,{src:p,alt:"Glyph Circle",className:"w-full h-full object-cover rounded-full border-2 border-black",fallbackSrc:nI,showSkeleton:!1})}),o.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-cinzel font-black text-transparent bg-clip-text bg-gradient-to-r from-skin-accent via-skin-text to-skin-accent mb-6 drop-shadow-[0_2px_10px_rgba(0,0,0,0.5)] tracking-wide",children:s("welcomeToPath")}),o.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8 opacity-80",children:[o.jsx("div",{className:"h-[1px] w-16 bg-gradient-to-r from-transparent to-skin-accent"}),o.jsx("div",{className:"text-skin-accent text-xl",children:""}),o.jsx("div",{className:"h-[1px] w-16 bg-gradient-to-l from-transparent to-skin-accent"})]}),o.jsx("p",{className:"text-xl md:text-2xl text-skin-text/90 font-lora italic max-w-3xl mx-auto leading-relaxed drop-shadow-lg",children:s("chooseService")})]}),i&&o.jsx("div",{className:"w-full max-w-md mb-8 animate-fade-in-up",children:o.jsxs("div",{className:"bg-skin-surface hover:bg-skin-hover border border-skin-border p-4 rounded-xl flex items-center justify-between backdrop-blur-md shadow-lg transition-all group",children:[o.jsxs("div",{className:"flex items-center gap-3 cursor-default",children:[o.jsx("span",{className:"text-2xl animate-pulse",children:""}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-skin-text font-bold text-sm",children:"Secure Your Sanctuary"}),o.jsx("p",{className:"text-skin-text/70 text-xs",children:"Enable fingerprint login for instant access."})]})]}),o.jsx("button",{id:"bio-setup-btn",onClick:f,className:"bg-skin-accent hover:opacity-90 text-skin-base px-4 py-2 rounded-lg text-xs font-bold transition-colors shadow-lg active:scale-95 border border-skin-border",children:"Setup"})]})}),c&&o.jsx("div",{className:"w-full max-w-5xl mb-24 animate-fade-in-up",style:{animationDelay:"0.2s"},children:o.jsx(nt,{className:"border border-skin-border bg-skin-surface/60 backdrop-blur-xl overflow-hidden group hover:border-skin-accent/60 transition-colors duration-500 shadow-2xl",children:o.jsxs("div",{className:"md:flex h-full",children:[c.image_url&&o.jsxs("div",{className:"md:w-2/5 h-72 md:h-auto feature-image-container relative",children:[o.jsx(Ya,{src:c.image_url,alt:c.title,className:"dynamic-image",fallbackSrc:sI,containerClassName:"w-full h-full"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-skin-base/90 via-transparent to-transparent md:bg-gradient-to-l pointer-events-none"})]}),o.jsxs("div",{className:`p-8 md:p-12 flex flex-col justify-center ${c.image_url?"md:w-3/5":"w-full"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("span",{className:"h-px w-8 bg-skin-accent"}),o.jsx("span",{className:"text-skin-accent text-xs font-bold uppercase tracking-[0.25em] font-cinzel",children:"Mystic Insight"})]}),o.jsx("h3",{className:"text-3xl font-cinzel font-bold text-skin-text mb-6 group-hover:text-skin-accent transition-colors",children:c.title}),o.jsx("p",{className:"text-skin-text/80 text-lg font-lora leading-relaxed border-l-2 border-skin-border pl-6",children:c.text})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 xl:gap-10 max-w-[90rem] mx-auto w-full px-2",children:[l.map((m,w)=>o.jsxs(ht,{to:m.path,className:"group relative transform transition-all duration-500 hover:-translate-y-2 hover:z-10",style:{animation:`fadeInUp 0.8s ease-out forwards ${.4+w*.1}s`,opacity:0},children:[o.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-br from-skin-accent/20 to-maroon-600/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition duration-700"}),o.jsxs(nt,{className:"h-full bg-skin-surface border border-skin-border group-hover:border-skin-accent/50 transition-all duration-500 relative overflow-hidden flex flex-col",children:[m.image&&o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx(Ya,{src:m.image,alt:m.name,className:"w-full h-full object-cover opacity-30 group-hover:opacity-[var(--hover-opacity)] transition-opacity duration-700 transform group-hover:scale-110",style:{"--hover-opacity":u},containerClassName:"w-full h-full"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-skin-base/80 via-skin-base/60 to-skin-base/90"})]}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center p-8 text-center h-full",children:[o.jsx("div",{className:"absolute top-4 right-4 text-skin-accent/30 group-hover:text-skin-accent/80 transition-colors duration-500 animate-float",children:""}),o.jsx("div",{className:"mb-6 p-4 rounded-full bg-skin-base/60 border border-skin-border text-skin-accent group-hover:text-skin-text group-hover:bg-gradient-to-br group-hover:from-maroon-800 group-hover:to-amber-700 group-hover:border-skin-accent/50 transform group-hover:scale-110 transition-all duration-500 shadow-lg backdrop-blur-xl",children:m.icon}),o.jsx("h3",{className:"text-2xl font-cinzel font-bold mb-4 text-skin-text group-hover:text-skin-accent transition-colors tracking-wide drop-shadow-md",children:s(m.id)||m.name}),o.jsx("div",{className:"w-16 h-px bg-skin-border mb-6 group-hover:w-32 group-hover:bg-gradient-to-r group-hover:from-transparent group-hover:via-skin-accent group-hover:to-transparent transition-all duration-700"}),o.jsx("p",{className:"text-skin-text/70 font-lora text-sm leading-7 mb-8 group-hover:text-white transition-colors flex-grow",children:s(`${m.id}Desc`)||m.description}),o.jsx("div",{className:"mt-auto opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0",children:o.jsxs("span",{className:"text-skin-accent text-xs font-bold uppercase tracking-[0.2em] flex items-center gap-2 group-hover:gap-3 transition-all",children:["Enter ",o.jsx("span",{className:"text-lg leading-none",children:""})]})})]})]})]},m.id)),h&&o.jsxs(ht,{to:"/admin/config",className:"group relative transform transition-all duration-500 hover:-translate-y-2 hover:z-10",style:{animation:"fadeInUp 0.8s ease-out forwards 1s",opacity:0},children:[o.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-br from-green-600/20 to-blue-600/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition duration-700"}),o.jsx(nt,{className:"h-full bg-gradient-to-b from-gray-900/90 to-blue-950/80 backdrop-blur-md border border-green-500/40 group-hover:border-green-400 group-hover:bg-skin-base/80 transition-all duration-500 relative overflow-hidden",children:o.jsxs("div",{className:"flex flex-col items-center p-8 h-full text-center relative z-10",children:[o.jsx("div",{className:"absolute top-4 right-4 text-green-500/30 group-hover:text-green-400/80",children:""}),o.jsx("div",{className:"mb-8 p-5 rounded-full bg-black/40 border border-green-500/30 text-green-400 group-hover:text-white group-hover:bg-green-700 transition-all duration-500 shadow-[0_0_15px_rgba(34,197,94,0.3)]",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),o.jsx("h3",{className:"text-2xl font-cinzel font-bold mb-4 text-green-100 group-hover:text-green-300 tracking-wide",children:"Configuration"}),o.jsx("div",{className:"w-16 h-px bg-green-500/30 mb-6 group-hover:w-32 group-hover:bg-gradient-to-r group-hover:from-transparent group-hover:via-green-400 group-hover:to-transparent transition-all duration-700"}),o.jsx("p",{className:"text-green-200/60 font-lora text-sm leading-7 mb-8 group-hover:text-green-100/90",children:"Manage database tables, toggle features, and configure app settings."}),o.jsx("div",{className:"mt-auto opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0",children:o.jsxs("span",{className:"text-green-400 text-xs font-bold uppercase tracking-[0.2em] flex items-center gap-2 group-hover:gap-3 transition-all",children:["Manage ",o.jsx("span",{className:"text-lg leading-none",children:""})]})})]})})]})]})]})]})};/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dv{}function jt(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function E(t,e,r){for(let i=0;i<e.length-1;i++){const a=e[i];if(a.endsWith("[]")){const A=a.slice(0,-2);if(!(A in t))if(Array.isArray(r))t[A]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[A])){const l=t[A];if(Array.isArray(r))for(let c=0;c<l.length;c++){const u=l[c];E(u,e.slice(i+1),r[c])}else for(const c of l)E(c,e.slice(i+1),r)}return}else if(a.endsWith("[0]")){const A=a.slice(0,-3);A in t||(t[A]=[{}]);const l=t[A];E(l[0],e.slice(i+1),r);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const n=e[e.length-1],s=t[n];if(s!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===s)return;if(typeof s=="object"&&typeof r=="object"&&s!==null&&r!==null)Object.assign(s,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else t[n]=r}function S(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return;const n=e[r];if(n.endsWith("[]")){const s=n.slice(0,-2);if(s in t){const i=t[s];return Array.isArray(i)?i.map(a=>S(a,e.slice(r+1))):void 0}else return}else t=t[n]}return t}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ss(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function MC(t,e){const r=ss(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function Cy(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Tu(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(r=>Cy(t,r)):[Cy(t,e)]}function HC(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function iI(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Ov(t){return!(t==null||iI(t))}function KC(t){return t==null||Array.isArray(t)&&t.length===0?!1:t.every(Ov)}function bs(t,e){if(e==null)throw new Error("ContentUnion is required");return HC(e)?e:Ov(e)?{role:"user",parts:Tu(t,e)}:{role:"model",parts:Tu(t,e)}}function VC(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=bs(t,r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=bs(t,e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>bs(t,r)):[bs(t,e)]}function Zh(t,e,r){r.length!==0&&(KC(r)?e.push({role:"user",parts:Tu(t,r)}):e.push({role:"model",parts:Tu(t,r)}),r.length=0)}function aI(t,e,r,n){Ov(n)===KC(r)||(Zh(t,e,r),r.length=0),r.push(n)}function pr(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e))return[bs(t,e)];const r=[],n=[];for(const s of e)if(HC(s))Zh(t,r,n),r.push(s);else if(typeof s=="string"||typeof s=="object"&&!Array.isArray(s))aI(t,r,n,s);else if(Array.isArray(s))Zh(t,r,n),r.push({role:"user",parts:Tu(t,s)});else throw new Error(`Unsupported content type: ${typeof s}`);return Zh(t,r,n),r}function GC(t,e){if(!t.isVertexAI()&&("title"in e&&delete e.title,"default"in e))throw new Error("Default value is not supported in the response schema for the Gemini API.");if("anyOf"in e){if(!t.isVertexAI())throw new Error("AnyOf is not supported in the response schema for the Gemini API.");if(e.anyOf!==void 0)for(const r of e.anyOf)GC(t,r)}}function zC(t,e){return GC(t,e),e}function qC(t,e){if(typeof e=="object"&&"voiceConfig"in e)return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function $C(t,e){return e}function Nl(t,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function oI(t,e,r,n=1){const s=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:s?`${r}/${e}`:e}function co(t,e){if(typeof e!="string")throw new Error("name must be a string");return oI(t,e,"cachedContents")}function WC(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function AI(t,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mf;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Mf||(Mf={}));class JC{constructor(e,r,n,s){this.pageInternal=[],this.requestInternal=r,this.init(e,n,s)}init(e,r,n){var s,i;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};n?typeof n=="object"?a=Object.assign({},n):a=n:a={config:{}},a.config&&(a.config.pageToken=r.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(i=(s=a.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ny;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ny||(Ny={}));var Sy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Sy||(Sy={}));var rt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(rt||(rt={}));var Ey;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ey||(Ey={}));var _y;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(_y||(_y={}));var Fy;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Fy||(Fy={}));var ky;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ky||(ky={}));var Uy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL"})(Uy||(Uy={}));var Iy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Iy||(Iy={}));var jy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jy||(jy={}));var Ly;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Ly||(Ly={}));var Qy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.ACTIVE="ACTIVE",t.ERROR="ERROR"})(Qy||(Qy={}));var Ty;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ty||(Ty={}));var Py;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Py||(Py={}));var Ry;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ry||(Ry={}));var Dy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Dy||(Dy={}));var Oy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Oy||(Oy={}));var My;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(My||(My={}));var Hy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Hy||(Hy={}));var Ky;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Ky||(Ky={}));var Vy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Vy||(Vy={}));var Gy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Gy||(Gy={}));var zy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(zy||(zy={}));var qm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(qm||(qm={}));class ch{get text(){var e,r,n,s,i,a,A,l;if(((s=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const h=[];for(const p of(l=(A=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||A===void 0?void 0:A.parts)!==null&&l!==void 0?l:[]){for(const[f,m]of Object.entries(p))f!=="text"&&f!=="thought"&&(m!==null||m!==void 0)&&h.push(f);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,c+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get functionCalls(){var e,r,n,s,i,a,A,l;if(((s=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(A=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||A===void 0?void 0:A.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,r,n,s,i,a,A,l,c;if(((s=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(A=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||A===void 0?void 0:A.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,r,n,s,i,a,A,l,c;if(((s=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(A=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||A===void 0?void 0:A.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class qy{}class $y{}class Wy{}class Jy{}class Yy{}class Xy{}class Zy{}class YC{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class e2{}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lI extends Dv{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new JC(Mf.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=kI(this.apiClient,e);return i=jt("cachedContents",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>tf(this.apiClient,l))}else{const A=FI(this.apiClient,e);return i=jt("cachedContents",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>ef(this.apiClient,l))}}async get(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=II(this.apiClient,e);return i=jt("{name}",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>tf(this.apiClient,l))}else{const A=UI(this.apiClient,e);return i=jt("{name}",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>ef(this.apiClient,l))}}async delete(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=LI(this.apiClient,e);return i=jt("{name}",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>{const c=VI(this.apiClient),u=new Yy;return Object.assign(u,c),u})}else{const A=jI(this.apiClient,e);return i=jt("{name}",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>{const c=KI(this.apiClient),u=new Yy;return Object.assign(u,c),u})}}async update(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=RI(this.apiClient,e);return i=jt("{name}",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>tf(this.apiClient,l))}else{const A=PI(this.apiClient,e);return i=jt("{name}",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>ef(this.apiClient,l))}}async listInternal(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=HI(this.apiClient,e);return i=jt("cachedContents",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>{const c=zI(this.apiClient,l),u=new Xy;return Object.assign(u,c),u})}else{const A=MI(this.apiClient,e);return i=jt("cachedContents",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>{const c=GI(this.apiClient,l),u=new Xy;return Object.assign(u,c),u})}}}function cI(t,e){const r={};if(S(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const n=S(e,["thought"]);n!=null&&E(r,["thought"],n);const s=S(e,["codeExecutionResult"]);s!=null&&E(r,["codeExecutionResult"],s);const i=S(e,["executableCode"]);i!=null&&E(r,["executableCode"],i);const a=S(e,["fileData"]);a!=null&&E(r,["fileData"],a);const A=S(e,["functionCall"]);A!=null&&E(r,["functionCall"],A);const l=S(e,["functionResponse"]);l!=null&&E(r,["functionResponse"],l);const c=S(e,["inlineData"]);c!=null&&E(r,["inlineData"],c);const u=S(e,["text"]);return u!=null&&E(r,["text"],u),r}function uI(t,e){const r={},n=S(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],n);const s=S(e,["thought"]);s!=null&&E(r,["thought"],s);const i=S(e,["codeExecutionResult"]);i!=null&&E(r,["codeExecutionResult"],i);const a=S(e,["executableCode"]);a!=null&&E(r,["executableCode"],a);const A=S(e,["fileData"]);A!=null&&E(r,["fileData"],A);const l=S(e,["functionCall"]);l!=null&&E(r,["functionCall"],l);const c=S(e,["functionResponse"]);c!=null&&E(r,["functionResponse"],c);const u=S(e,["inlineData"]);u!=null&&E(r,["inlineData"],u);const h=S(e,["text"]);return h!=null&&E(r,["text"],h),r}function t2(t,e){const r={},n=S(e,["parts"]);n!=null&&(Array.isArray(n)?E(r,["parts"],n.map(i=>cI(t,i))):E(r,["parts"],n));const s=S(e,["role"]);return s!=null&&E(r,["role"],s),r}function r2(t,e){const r={},n=S(e,["parts"]);n!=null&&(Array.isArray(n)?E(r,["parts"],n.map(i=>uI(t,i))):E(r,["parts"],n));const s=S(e,["role"]);return s!=null&&E(r,["role"],s),r}function dI(t,e){const r={},n=S(e,["example"]);n!=null&&E(r,["example"],n);const s=S(e,["pattern"]);s!=null&&E(r,["pattern"],s);const i=S(e,["minimum"]);i!=null&&E(r,["minimum"],i);const a=S(e,["default"]);a!=null&&E(r,["default"],a);const A=S(e,["anyOf"]);A!=null&&E(r,["anyOf"],A);const l=S(e,["maxLength"]);l!=null&&E(r,["maxLength"],l);const c=S(e,["title"]);c!=null&&E(r,["title"],c);const u=S(e,["minLength"]);u!=null&&E(r,["minLength"],u);const h=S(e,["minProperties"]);h!=null&&E(r,["minProperties"],h);const p=S(e,["maximum"]);p!=null&&E(r,["maximum"],p);const f=S(e,["maxProperties"]);f!=null&&E(r,["maxProperties"],f);const m=S(e,["description"]);m!=null&&E(r,["description"],m);const w=S(e,["enum"]);w!=null&&E(r,["enum"],w);const B=S(e,["format"]);B!=null&&E(r,["format"],B);const x=S(e,["items"]);x!=null&&E(r,["items"],x);const y=S(e,["maxItems"]);y!=null&&E(r,["maxItems"],y);const C=S(e,["minItems"]);C!=null&&E(r,["minItems"],C);const k=S(e,["nullable"]);k!=null&&E(r,["nullable"],k);const R=S(e,["properties"]);R!=null&&E(r,["properties"],R);const P=S(e,["propertyOrdering"]);P!=null&&E(r,["propertyOrdering"],P);const M=S(e,["required"]);M!=null&&E(r,["required"],M);const U=S(e,["type"]);return U!=null&&E(r,["type"],U),r}function hI(t,e){const r={};if(S(e,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const n=S(e,["description"]);n!=null&&E(r,["description"],n);const s=S(e,["name"]);s!=null&&E(r,["name"],s);const i=S(e,["parameters"]);return i!=null&&E(r,["parameters"],i),r}function fI(t,e){const r={},n=S(e,["response"]);n!=null&&E(r,["response"],dI(t,n));const s=S(e,["description"]);s!=null&&E(r,["description"],s);const i=S(e,["name"]);i!=null&&E(r,["name"],i);const a=S(e,["parameters"]);return a!=null&&E(r,["parameters"],a),r}function pI(t,e){return{}}function gI(t,e){return{}}function mI(t,e){const r={},n=S(e,["mode"]);n!=null&&E(r,["mode"],n);const s=S(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function wI(t,e){const r={},n=S(e,["mode"]);n!=null&&E(r,["mode"],n);const s=S(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function vI(t,e){const r={},n=S(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],mI(t,n)),r}function xI(t,e){const r={},n=S(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],wI(t,n)),r}function yI(t,e){const r={},n=S(e,["functionDeclarations"]);if(n!=null&&(Array.isArray(n)?E(r,["functionDeclarations"],n.map(A=>hI(t,A))):E(r,["functionDeclarations"],n)),S(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");S(e,["googleSearch"])!=null&&E(r,["googleSearch"],pI());const i=S(e,["googleSearchRetrieval"]);i!=null&&E(r,["googleSearchRetrieval"],vI(t,i));const a=S(e,["codeExecution"]);return a!=null&&E(r,["codeExecution"],a),r}function bI(t,e){const r={},n=S(e,["functionDeclarations"]);n!=null&&(Array.isArray(n)?E(r,["functionDeclarations"],n.map(l=>fI(t,l))):E(r,["functionDeclarations"],n));const s=S(e,["retrieval"]);s!=null&&E(r,["retrieval"],s),S(e,["googleSearch"])!=null&&E(r,["googleSearch"],gI());const a=S(e,["googleSearchRetrieval"]);a!=null&&E(r,["googleSearchRetrieval"],xI(t,a));const A=S(e,["codeExecution"]);return A!=null&&E(r,["codeExecution"],A),r}function BI(t,e){const r={},n=S(e,["mode"]);n!=null&&E(r,["mode"],n);const s=S(e,["allowedFunctionNames"]);return s!=null&&E(r,["allowedFunctionNames"],s),r}function CI(t,e){const r={},n=S(e,["mode"]);n!=null&&E(r,["mode"],n);const s=S(e,["allowedFunctionNames"]);return s!=null&&E(r,["allowedFunctionNames"],s),r}function NI(t,e){const r={},n=S(e,["functionCallingConfig"]);return n!=null&&E(r,["functionCallingConfig"],BI(t,n)),r}function SI(t,e){const r={},n=S(e,["functionCallingConfig"]);return n!=null&&E(r,["functionCallingConfig"],CI(t,n)),r}function EI(t,e,r){const n={},s=S(e,["ttl"]);r!==void 0&&s!=null&&E(r,["ttl"],s);const i=S(e,["expireTime"]);r!==void 0&&i!=null&&E(r,["expireTime"],i);const a=S(e,["displayName"]);r!==void 0&&a!=null&&E(r,["displayName"],a);const A=S(e,["contents"]);r!==void 0&&A!=null&&(Array.isArray(A)?E(r,["contents"],pr(t,pr(t,A).map(h=>t2(t,h)))):E(r,["contents"],pr(t,A)));const l=S(e,["systemInstruction"]);r!==void 0&&l!=null&&E(r,["systemInstruction"],t2(t,bs(t,l)));const c=S(e,["tools"]);r!==void 0&&c!=null&&(Array.isArray(c)?E(r,["tools"],c.map(h=>yI(t,h))):E(r,["tools"],c));const u=S(e,["toolConfig"]);return r!==void 0&&u!=null&&E(r,["toolConfig"],NI(t,u)),n}function _I(t,e,r){const n={},s=S(e,["ttl"]);r!==void 0&&s!=null&&E(r,["ttl"],s);const i=S(e,["expireTime"]);r!==void 0&&i!=null&&E(r,["expireTime"],i);const a=S(e,["displayName"]);r!==void 0&&a!=null&&E(r,["displayName"],a);const A=S(e,["contents"]);r!==void 0&&A!=null&&(Array.isArray(A)?E(r,["contents"],pr(t,pr(t,A).map(h=>r2(t,h)))):E(r,["contents"],pr(t,A)));const l=S(e,["systemInstruction"]);r!==void 0&&l!=null&&E(r,["systemInstruction"],r2(t,bs(t,l)));const c=S(e,["tools"]);r!==void 0&&c!=null&&(Array.isArray(c)?E(r,["tools"],c.map(h=>bI(t,h))):E(r,["tools"],c));const u=S(e,["toolConfig"]);return r!==void 0&&u!=null&&E(r,["toolConfig"],SI(t,u)),n}function FI(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["model"],MC(t,n));const s=S(e,["config"]);return s!=null&&E(r,["config"],EI(t,s,r)),r}function kI(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["model"],MC(t,n));const s=S(e,["config"]);return s!=null&&E(r,["config"],_I(t,s,r)),r}function UI(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["_url","name"],co(t,n));const s=S(e,["config"]);return s!=null&&E(r,["config"],s),r}function II(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["_url","name"],co(t,n));const s=S(e,["config"]);return s!=null&&E(r,["config"],s),r}function jI(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["_url","name"],co(t,n));const s=S(e,["config"]);return s!=null&&E(r,["config"],s),r}function LI(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["_url","name"],co(t,n));const s=S(e,["config"]);return s!=null&&E(r,["config"],s),r}function QI(t,e,r){const n={},s=S(e,["ttl"]);r!==void 0&&s!=null&&E(r,["ttl"],s);const i=S(e,["expireTime"]);return r!==void 0&&i!=null&&E(r,["expireTime"],i),n}function TI(t,e,r){const n={},s=S(e,["ttl"]);r!==void 0&&s!=null&&E(r,["ttl"],s);const i=S(e,["expireTime"]);return r!==void 0&&i!=null&&E(r,["expireTime"],i),n}function PI(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["_url","name"],co(t,n));const s=S(e,["config"]);return s!=null&&E(r,["config"],QI(t,s,r)),r}function RI(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["_url","name"],co(t,n));const s=S(e,["config"]);return s!=null&&E(r,["config"],TI(t,s,r)),r}function DI(t,e,r){const n={},s=S(e,["pageSize"]);r!==void 0&&s!=null&&E(r,["_query","pageSize"],s);const i=S(e,["pageToken"]);return r!==void 0&&i!=null&&E(r,["_query","pageToken"],i),n}function OI(t,e,r){const n={},s=S(e,["pageSize"]);r!==void 0&&s!=null&&E(r,["_query","pageSize"],s);const i=S(e,["pageToken"]);return r!==void 0&&i!=null&&E(r,["_query","pageToken"],i),n}function MI(t,e){const r={},n=S(e,["config"]);return n!=null&&E(r,["config"],DI(t,n,r)),r}function HI(t,e){const r={},n=S(e,["config"]);return n!=null&&E(r,["config"],OI(t,n,r)),r}function ef(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["name"],n);const s=S(e,["displayName"]);s!=null&&E(r,["displayName"],s);const i=S(e,["model"]);i!=null&&E(r,["model"],i);const a=S(e,["createTime"]);a!=null&&E(r,["createTime"],a);const A=S(e,["updateTime"]);A!=null&&E(r,["updateTime"],A);const l=S(e,["expireTime"]);l!=null&&E(r,["expireTime"],l);const c=S(e,["usageMetadata"]);return c!=null&&E(r,["usageMetadata"],c),r}function tf(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["name"],n);const s=S(e,["displayName"]);s!=null&&E(r,["displayName"],s);const i=S(e,["model"]);i!=null&&E(r,["model"],i);const a=S(e,["createTime"]);a!=null&&E(r,["createTime"],a);const A=S(e,["updateTime"]);A!=null&&E(r,["updateTime"],A);const l=S(e,["expireTime"]);l!=null&&E(r,["expireTime"],l);const c=S(e,["usageMetadata"]);return c!=null&&E(r,["usageMetadata"],c),r}function KI(t,e){return{}}function VI(t,e){return{}}function GI(t,e){const r={},n=S(e,["nextPageToken"]);n!=null&&E(r,["nextPageToken"],n);const s=S(e,["cachedContents"]);return s!=null&&(Array.isArray(s)?E(r,["cachedContents"],s.map(i=>ef(t,i))):E(r,["cachedContents"],s)),r}function zI(t,e){const r={},n=S(e,["nextPageToken"]);n!=null&&E(r,["nextPageToken"],n);const s=S(e,["cachedContents"]);return s!=null&&(Array.isArray(s)?E(r,["cachedContents"],s.map(i=>tf(t,i))):E(r,["cachedContents"],s)),r}function n2(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pn(t){return this instanceof Pn?(this.v=t,this):new Pn(t)}function Hf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),A("next"),A("throw"),A("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(f){return function(m){return Promise.resolve(m).then(f,h)}}function A(f,m){n[f]&&(s[f]=function(w){return new Promise(function(B,x){i.push([f,w,B,x])>1||l(f,w)})},m&&(s[f]=m(s[f])))}function l(f,m){try{c(n[f](m))}catch(w){p(i[0][3],w)}}function c(f){f.value instanceof Pn?Promise.resolve(f.value.v).then(u,h):p(i[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function p(f,m){f(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function $m(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof n2=="function"?n2(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(A,l){a=t[i](a),s(A,l,a.done,a.value)})}}function s(i,a,A,l){Promise.resolve(l).then(function(c){i({value:c,done:A})},a)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qI(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:XC(r)}function XC(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function $I(t){if(t.length!==0){if(t[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function WI(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0,s=t[0];for(;n<r;)if(t[n].role==="user")s=t[n],n++;else{const i=[];let a=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),a&&!XC(t[n])&&(a=!1),n++;a&&(e.push(s),e.push(...i))}return e}class JI{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new YI(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class YI{constructor(e,r,n,s={},i=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),$I(i)}async sendMessage(e){var r;await this.sendPromise;const n=bs(this.apiClient,e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var i,a;const l=(a=(i=(await s).candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content,c=l?[l]:[];this.recordHistory(n,c)})(),await this.sendPromise,s}async sendMessageStream(e){var r;await this.sendPromise;const n=bs(this.apiClient,e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=s.then(()=>{});const i=await s;return this.processStreamResponse(i,n)}getHistory(e=!1){return e?WI(this.history):this.history}processStreamResponse(e,r){var n,s;return Hf(this,arguments,function*(){var a,A,l,c;const u=[];try{for(var h=!0,p=$m(e),f;f=yield Pn(p.next()),a=f.done,!a;h=!0){c=f.value,h=!1;const m=c;if(qI(m)){const w=(s=(n=m.candidates)===null||n===void 0?void 0:n[0])===null||s===void 0?void 0:s.content;w!==void 0&&u.push(w)}yield yield Pn(m)}}catch(m){A={error:m}}finally{try{!h&&!a&&(l=p.return)&&(yield Pn(l.call(p)))}finally{if(A)throw A.error}}this.recordHistory(r,u)})}recordHistory(e,r){let n=[];r.length>0&&r.every(s=>s.role==="model")?n=r:n.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...n)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XI extends Dv{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>await this.generateContentInternal(r),this.generateContentStream=async r=>await this.generateContentStreamInternal(r)}async generateContentInternal(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=i2(this.apiClient,e);return i=jt("{model}:generateContent",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>{const c=o2(this.apiClient,l),u=new ch;return Object.assign(u,c),u})}else{const A=s2(this.apiClient,e);return i=jt("{model}:generateContent",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>{const c=a2(this.apiClient,l),u=new ch;return Object.assign(u,c),u})}}async generateContentStreamInternal(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=i2(this.apiClient,e);i=jt("{model}:streamGenerateContent?alt=sse",A._url),a=A._query,delete A.config,delete A._url,delete A._query;const l=this.apiClient;return s=l.requestStream({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}),s.then(function(c){return Hf(this,arguments,function*(){var u,h,p,f;try{for(var m=!0,w=$m(c),B;B=yield Pn(w.next()),u=B.done,!u;m=!0){f=B.value,m=!1;const y=o2(l,f),C=new ch;Object.assign(C,y),yield yield Pn(C)}}catch(x){h={error:x}}finally{try{!m&&!u&&(p=w.return)&&(yield Pn(p.call(w)))}finally{if(h)throw h.error}}})})}else{const A=s2(this.apiClient,e);i=jt("{model}:streamGenerateContent?alt=sse",A._url),a=A._query,delete A.config,delete A._url,delete A._query;const l=this.apiClient;return s=l.requestStream({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}),s.then(function(c){return Hf(this,arguments,function*(){var u,h,p,f;try{for(var m=!0,w=$m(c),B;B=yield Pn(w.next()),u=B.done,!u;m=!0){f=B.value,m=!1;const y=a2(l,f),C=new ch;Object.assign(C,y),yield yield Pn(C)}}catch(x){h={error:x}}finally{try{!m&&!u&&(p=w.return)&&(yield Pn(p.call(w)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=Fj(this.apiClient,e);return i=jt("{model}:predict",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>{const c=Xj(this.apiClient,l),u=new qy;return Object.assign(u,c),u})}else{const A=_j(this.apiClient,e);return i=jt("{model}:batchEmbedContents",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>{const c=Yj(this.apiClient,l),u=new qy;return Object.assign(u,c),u})}}async generateImages(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=jj(this.apiClient,e);return i=jt("{model}:predict",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>{const c=sL(this.apiClient,l),u=new $y;return Object.assign(u,c),u})}else{const A=Ij(this.apiClient,e);return i=jt("{model}:predict",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>{const c=nL(this.apiClient,l),u=new $y;return Object.assign(u,c),u})}}async countTokens(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=Pj(this.apiClient,e);return i=jt("{model}:countTokens",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>{const c=aL(this.apiClient,l),u=new Wy;return Object.assign(u,c),u})}else{const A=Tj(this.apiClient,e);return i=jt("{model}:countTokens",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>{const c=iL(this.apiClient,l),u=new Wy;return Object.assign(u,c),u})}}async computeTokens(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=Dj(this.apiClient,e);return i=jt("{model}:computeTokens",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>{const c=AL(this.apiClient,l),u=new Jy;return Object.assign(u,c),u})}else{const A=Rj(this.apiClient,e);return i=jt("None",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>{const c=oL(this.apiClient,l),u=new Jy;return Object.assign(u,c),u})}}}function ZI(t,e){const r={};if(S(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const n=S(e,["thought"]);n!=null&&E(r,["thought"],n);const s=S(e,["codeExecutionResult"]);s!=null&&E(r,["codeExecutionResult"],s);const i=S(e,["executableCode"]);i!=null&&E(r,["executableCode"],i);const a=S(e,["fileData"]);a!=null&&E(r,["fileData"],a);const A=S(e,["functionCall"]);A!=null&&E(r,["functionCall"],A);const l=S(e,["functionResponse"]);l!=null&&E(r,["functionResponse"],l);const c=S(e,["inlineData"]);c!=null&&E(r,["inlineData"],c);const u=S(e,["text"]);return u!=null&&E(r,["text"],u),r}function ej(t,e){const r={},n=S(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],n);const s=S(e,["thought"]);s!=null&&E(r,["thought"],s);const i=S(e,["codeExecutionResult"]);i!=null&&E(r,["codeExecutionResult"],i);const a=S(e,["executableCode"]);a!=null&&E(r,["executableCode"],a);const A=S(e,["fileData"]);A!=null&&E(r,["fileData"],A);const l=S(e,["functionCall"]);l!=null&&E(r,["functionCall"],l);const c=S(e,["functionResponse"]);c!=null&&E(r,["functionResponse"],c);const u=S(e,["inlineData"]);u!=null&&E(r,["inlineData"],u);const h=S(e,["text"]);return h!=null&&E(r,["text"],h),r}function $u(t,e){const r={},n=S(e,["parts"]);n!=null&&(Array.isArray(n)?E(r,["parts"],n.map(i=>ZI(t,i))):E(r,["parts"],n));const s=S(e,["role"]);return s!=null&&E(r,["role"],s),r}function tA(t,e){const r={},n=S(e,["parts"]);n!=null&&(Array.isArray(n)?E(r,["parts"],n.map(i=>ej(t,i))):E(r,["parts"],n));const s=S(e,["role"]);return s!=null&&E(r,["role"],s),r}function tj(t,e){const r={};if(S(e,["example"])!==void 0)throw new Error("example parameter is not supported in Gemini API.");if(S(e,["pattern"])!==void 0)throw new Error("pattern parameter is not supported in Gemini API.");if(S(e,["minimum"])!==void 0)throw new Error("minimum parameter is not supported in Gemini API.");if(S(e,["default"])!==void 0)throw new Error("default parameter is not supported in Gemini API.");if(S(e,["anyOf"])!==void 0)throw new Error("anyOf parameter is not supported in Gemini API.");if(S(e,["maxLength"])!==void 0)throw new Error("maxLength parameter is not supported in Gemini API.");if(S(e,["title"])!==void 0)throw new Error("title parameter is not supported in Gemini API.");if(S(e,["minLength"])!==void 0)throw new Error("minLength parameter is not supported in Gemini API.");if(S(e,["minProperties"])!==void 0)throw new Error("minProperties parameter is not supported in Gemini API.");if(S(e,["maximum"])!==void 0)throw new Error("maximum parameter is not supported in Gemini API.");if(S(e,["maxProperties"])!==void 0)throw new Error("maxProperties parameter is not supported in Gemini API.");const n=S(e,["description"]);n!=null&&E(r,["description"],n);const s=S(e,["enum"]);s!=null&&E(r,["enum"],s);const i=S(e,["format"]);i!=null&&E(r,["format"],i);const a=S(e,["items"]);a!=null&&E(r,["items"],a);const A=S(e,["maxItems"]);A!=null&&E(r,["maxItems"],A);const l=S(e,["minItems"]);l!=null&&E(r,["minItems"],l);const c=S(e,["nullable"]);c!=null&&E(r,["nullable"],c);const u=S(e,["properties"]);u!=null&&E(r,["properties"],u);const h=S(e,["propertyOrdering"]);h!=null&&E(r,["propertyOrdering"],h);const p=S(e,["required"]);p!=null&&E(r,["required"],p);const f=S(e,["type"]);return f!=null&&E(r,["type"],f),r}function ZC(t,e){const r={},n=S(e,["example"]);n!=null&&E(r,["example"],n);const s=S(e,["pattern"]);s!=null&&E(r,["pattern"],s);const i=S(e,["minimum"]);i!=null&&E(r,["minimum"],i);const a=S(e,["default"]);a!=null&&E(r,["default"],a);const A=S(e,["anyOf"]);A!=null&&E(r,["anyOf"],A);const l=S(e,["maxLength"]);l!=null&&E(r,["maxLength"],l);const c=S(e,["title"]);c!=null&&E(r,["title"],c);const u=S(e,["minLength"]);u!=null&&E(r,["minLength"],u);const h=S(e,["minProperties"]);h!=null&&E(r,["minProperties"],h);const p=S(e,["maximum"]);p!=null&&E(r,["maximum"],p);const f=S(e,["maxProperties"]);f!=null&&E(r,["maxProperties"],f);const m=S(e,["description"]);m!=null&&E(r,["description"],m);const w=S(e,["enum"]);w!=null&&E(r,["enum"],w);const B=S(e,["format"]);B!=null&&E(r,["format"],B);const x=S(e,["items"]);x!=null&&E(r,["items"],x);const y=S(e,["maxItems"]);y!=null&&E(r,["maxItems"],y);const C=S(e,["minItems"]);C!=null&&E(r,["minItems"],C);const k=S(e,["nullable"]);k!=null&&E(r,["nullable"],k);const R=S(e,["properties"]);R!=null&&E(r,["properties"],R);const P=S(e,["propertyOrdering"]);P!=null&&E(r,["propertyOrdering"],P);const M=S(e,["required"]);M!=null&&E(r,["required"],M);const U=S(e,["type"]);return U!=null&&E(r,["type"],U),r}function rj(t,e){const r={};if(S(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=S(e,["category"]);n!=null&&E(r,["category"],n);const s=S(e,["threshold"]);return s!=null&&E(r,["threshold"],s),r}function nj(t,e){const r={},n=S(e,["method"]);n!=null&&E(r,["method"],n);const s=S(e,["category"]);s!=null&&E(r,["category"],s);const i=S(e,["threshold"]);return i!=null&&E(r,["threshold"],i),r}function sj(t,e){const r={};if(S(e,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const n=S(e,["description"]);n!=null&&E(r,["description"],n);const s=S(e,["name"]);s!=null&&E(r,["name"],s);const i=S(e,["parameters"]);return i!=null&&E(r,["parameters"],i),r}function ij(t,e){const r={},n=S(e,["response"]);n!=null&&E(r,["response"],ZC(t,n));const s=S(e,["description"]);s!=null&&E(r,["description"],s);const i=S(e,["name"]);i!=null&&E(r,["name"],i);const a=S(e,["parameters"]);return a!=null&&E(r,["parameters"],a),r}function aj(t,e){return{}}function oj(t,e){return{}}function Aj(t,e){const r={},n=S(e,["mode"]);n!=null&&E(r,["mode"],n);const s=S(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function lj(t,e){const r={},n=S(e,["mode"]);n!=null&&E(r,["mode"],n);const s=S(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function cj(t,e){const r={},n=S(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],Aj(t,n)),r}function uj(t,e){const r={},n=S(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],lj(t,n)),r}function e4(t,e){const r={},n=S(e,["functionDeclarations"]);if(n!=null&&(Array.isArray(n)?E(r,["functionDeclarations"],n.map(A=>sj(t,A))):E(r,["functionDeclarations"],n)),S(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");S(e,["googleSearch"])!=null&&E(r,["googleSearch"],aj());const i=S(e,["googleSearchRetrieval"]);i!=null&&E(r,["googleSearchRetrieval"],cj(t,i));const a=S(e,["codeExecution"]);return a!=null&&E(r,["codeExecution"],a),r}function Mv(t,e){const r={},n=S(e,["functionDeclarations"]);n!=null&&(Array.isArray(n)?E(r,["functionDeclarations"],n.map(l=>ij(t,l))):E(r,["functionDeclarations"],n));const s=S(e,["retrieval"]);s!=null&&E(r,["retrieval"],s),S(e,["googleSearch"])!=null&&E(r,["googleSearch"],oj());const a=S(e,["googleSearchRetrieval"]);a!=null&&E(r,["googleSearchRetrieval"],uj(t,a));const A=S(e,["codeExecution"]);return A!=null&&E(r,["codeExecution"],A),r}function dj(t,e){const r={},n=S(e,["mode"]);n!=null&&E(r,["mode"],n);const s=S(e,["allowedFunctionNames"]);return s!=null&&E(r,["allowedFunctionNames"],s),r}function hj(t,e){const r={},n=S(e,["mode"]);n!=null&&E(r,["mode"],n);const s=S(e,["allowedFunctionNames"]);return s!=null&&E(r,["allowedFunctionNames"],s),r}function fj(t,e){const r={},n=S(e,["functionCallingConfig"]);return n!=null&&E(r,["functionCallingConfig"],dj(t,n)),r}function pj(t,e){const r={},n=S(e,["functionCallingConfig"]);return n!=null&&E(r,["functionCallingConfig"],hj(t,n)),r}function gj(t,e){const r={},n=S(e,["voiceName"]);return n!=null&&E(r,["voiceName"],n),r}function mj(t,e){const r={},n=S(e,["voiceName"]);return n!=null&&E(r,["voiceName"],n),r}function wj(t,e){const r={},n=S(e,["prebuiltVoiceConfig"]);return n!=null&&E(r,["prebuiltVoiceConfig"],gj(t,n)),r}function vj(t,e){const r={},n=S(e,["prebuiltVoiceConfig"]);return n!=null&&E(r,["prebuiltVoiceConfig"],mj(t,n)),r}function xj(t,e){const r={},n=S(e,["voiceConfig"]);return n!=null&&E(r,["voiceConfig"],wj(t,n)),r}function yj(t,e){const r={},n=S(e,["voiceConfig"]);return n!=null&&E(r,["voiceConfig"],vj(t,n)),r}function bj(t,e){const r={},n=S(e,["includeThoughts"]);return n!=null&&E(r,["includeThoughts"],n),r}function Bj(t,e){const r={},n=S(e,["includeThoughts"]);return n!=null&&E(r,["includeThoughts"],n),r}function Cj(t,e,r){const n={},s=S(e,["systemInstruction"]);r!==void 0&&s!=null&&E(r,["systemInstruction"],$u(t,bs(t,s)));const i=S(e,["temperature"]);i!=null&&E(n,["temperature"],i);const a=S(e,["topP"]);a!=null&&E(n,["topP"],a);const A=S(e,["topK"]);A!=null&&E(n,["topK"],A);const l=S(e,["candidateCount"]);l!=null&&E(n,["candidateCount"],l);const c=S(e,["maxOutputTokens"]);c!=null&&E(n,["maxOutputTokens"],c);const u=S(e,["stopSequences"]);u!=null&&E(n,["stopSequences"],u);const h=S(e,["responseLogprobs"]);h!=null&&E(n,["responseLogprobs"],h);const p=S(e,["logprobs"]);p!=null&&E(n,["logprobs"],p);const f=S(e,["presencePenalty"]);f!=null&&E(n,["presencePenalty"],f);const m=S(e,["frequencyPenalty"]);m!=null&&E(n,["frequencyPenalty"],m);const w=S(e,["seed"]);w!=null&&E(n,["seed"],w);const B=S(e,["responseMimeType"]);B!=null&&E(n,["responseMimeType"],B);const x=S(e,["responseSchema"]);if(x!=null&&E(n,["responseSchema"],tj(t,zC(t,x))),S(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");const y=S(e,["safetySettings"]);r!==void 0&&y!=null&&(Array.isArray(y)?E(r,["safetySettings"],y.map($=>rj(t,$))):E(r,["safetySettings"],y));const C=S(e,["tools"]);r!==void 0&&C!=null&&(Array.isArray(C)?E(r,["tools"],Nl(t,Nl(t,C).map($=>e4(t,$C(t,$))))):E(r,["tools"],Nl(t,C)));const k=S(e,["toolConfig"]);if(r!==void 0&&k!=null&&E(r,["toolConfig"],fj(t,k)),S(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=S(e,["cachedContent"]);r!==void 0&&R!=null&&E(r,["cachedContent"],co(t,R));const P=S(e,["responseModalities"]);P!=null&&E(n,["responseModalities"],P);const M=S(e,["mediaResolution"]);M!=null&&E(n,["mediaResolution"],M);const U=S(e,["speechConfig"]);if(U!=null&&E(n,["speechConfig"],xj(t,qC(t,U))),S(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const H=S(e,["thinkingConfig"]);return H!=null&&E(n,["thinkingConfig"],bj(t,H)),n}function Nj(t,e,r){const n={},s=S(e,["systemInstruction"]);r!==void 0&&s!=null&&E(r,["systemInstruction"],tA(t,bs(t,s)));const i=S(e,["temperature"]);i!=null&&E(n,["temperature"],i);const a=S(e,["topP"]);a!=null&&E(n,["topP"],a);const A=S(e,["topK"]);A!=null&&E(n,["topK"],A);const l=S(e,["candidateCount"]);l!=null&&E(n,["candidateCount"],l);const c=S(e,["maxOutputTokens"]);c!=null&&E(n,["maxOutputTokens"],c);const u=S(e,["stopSequences"]);u!=null&&E(n,["stopSequences"],u);const h=S(e,["responseLogprobs"]);h!=null&&E(n,["responseLogprobs"],h);const p=S(e,["logprobs"]);p!=null&&E(n,["logprobs"],p);const f=S(e,["presencePenalty"]);f!=null&&E(n,["presencePenalty"],f);const m=S(e,["frequencyPenalty"]);m!=null&&E(n,["frequencyPenalty"],m);const w=S(e,["seed"]);w!=null&&E(n,["seed"],w);const B=S(e,["responseMimeType"]);B!=null&&E(n,["responseMimeType"],B);const x=S(e,["responseSchema"]);x!=null&&E(n,["responseSchema"],ZC(t,zC(t,x)));const y=S(e,["routingConfig"]);y!=null&&E(n,["routingConfig"],y);const C=S(e,["safetySettings"]);r!==void 0&&C!=null&&(Array.isArray(C)?E(r,["safetySettings"],C.map(W=>nj(t,W))):E(r,["safetySettings"],C));const k=S(e,["tools"]);r!==void 0&&k!=null&&(Array.isArray(k)?E(r,["tools"],Nl(t,Nl(t,k).map(W=>Mv(t,$C(t,W))))):E(r,["tools"],Nl(t,k)));const R=S(e,["toolConfig"]);r!==void 0&&R!=null&&E(r,["toolConfig"],pj(t,R));const P=S(e,["labels"]);r!==void 0&&P!=null&&E(r,["labels"],P);const M=S(e,["cachedContent"]);r!==void 0&&M!=null&&E(r,["cachedContent"],co(t,M));const U=S(e,["responseModalities"]);U!=null&&E(n,["responseModalities"],U);const H=S(e,["mediaResolution"]);H!=null&&E(n,["mediaResolution"],H);const $=S(e,["speechConfig"]);$!=null&&E(n,["speechConfig"],yj(t,qC(t,$)));const L=S(e,["audioTimestamp"]);L!=null&&E(n,["audioTimestamp"],L);const T=S(e,["thinkingConfig"]);return T!=null&&E(n,["thinkingConfig"],Bj(t,T)),n}function s2(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["_url","model"],ss(t,n));const s=S(e,["contents"]);s!=null&&(Array.isArray(s)?E(r,["contents"],pr(t,pr(t,s).map(a=>$u(t,a)))):E(r,["contents"],pr(t,s)));const i=S(e,["config"]);return i!=null&&E(r,["generationConfig"],Cj(t,i,r)),r}function i2(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["_url","model"],ss(t,n));const s=S(e,["contents"]);s!=null&&(Array.isArray(s)?E(r,["contents"],pr(t,pr(t,s).map(a=>tA(t,a)))):E(r,["contents"],pr(t,s)));const i=S(e,["config"]);return i!=null&&E(r,["generationConfig"],Nj(t,i,r)),r}function Sj(t,e,r){const n={},s=S(e,["taskType"]);r!==void 0&&s!=null&&E(r,["requests[]","taskType"],s);const i=S(e,["title"]);r!==void 0&&i!=null&&E(r,["requests[]","title"],i);const a=S(e,["outputDimensionality"]);if(r!==void 0&&a!=null&&E(r,["requests[]","outputDimensionality"],a),S(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(S(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ej(t,e,r){const n={},s=S(e,["taskType"]);r!==void 0&&s!=null&&E(r,["instances[]","task_type"],s);const i=S(e,["title"]);r!==void 0&&i!=null&&E(r,["instances[]","title"],i);const a=S(e,["outputDimensionality"]);r!==void 0&&a!=null&&E(r,["parameters","outputDimensionality"],a);const A=S(e,["mimeType"]);r!==void 0&&A!=null&&E(r,["instances[]","mimeType"],A);const l=S(e,["autoTruncate"]);return r!==void 0&&l!=null&&E(r,["parameters","autoTruncate"],l),n}function _j(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["_url","model"],ss(t,n));const s=S(e,["contents"]);s!=null&&E(r,["requests[]","content"],VC(t,s));const i=S(e,["config"]);i!=null&&E(r,["config"],Sj(t,i,r));const a=S(e,["model"]);return a!==void 0&&E(r,["requests[]","model"],ss(t,a)),r}function Fj(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["_url","model"],ss(t,n));const s=S(e,["contents"]);s!=null&&E(r,["instances[]","content"],VC(t,s));const i=S(e,["config"]);return i!=null&&E(r,["config"],Ej(t,i,r)),r}function kj(t,e,r){const n={};if(S(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(S(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=S(e,["numberOfImages"]);r!==void 0&&s!=null&&E(r,["parameters","sampleCount"],s);const i=S(e,["aspectRatio"]);r!==void 0&&i!=null&&E(r,["parameters","aspectRatio"],i);const a=S(e,["guidanceScale"]);if(r!==void 0&&a!=null&&E(r,["parameters","guidanceScale"],a),S(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const A=S(e,["safetyFilterLevel"]);r!==void 0&&A!=null&&E(r,["parameters","safetySetting"],A);const l=S(e,["personGeneration"]);r!==void 0&&l!=null&&E(r,["parameters","personGeneration"],l);const c=S(e,["includeSafetyAttributes"]);r!==void 0&&c!=null&&E(r,["parameters","includeSafetyAttributes"],c);const u=S(e,["includeRaiReason"]);r!==void 0&&u!=null&&E(r,["parameters","includeRaiReason"],u);const h=S(e,["language"]);r!==void 0&&h!=null&&E(r,["parameters","language"],h);const p=S(e,["outputMimeType"]);r!==void 0&&p!=null&&E(r,["parameters","outputOptions","mimeType"],p);const f=S(e,["outputCompressionQuality"]);if(r!==void 0&&f!=null&&E(r,["parameters","outputOptions","compressionQuality"],f),S(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(S(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Uj(t,e,r){const n={},s=S(e,["outputGcsUri"]);r!==void 0&&s!=null&&E(r,["parameters","storageUri"],s);const i=S(e,["negativePrompt"]);r!==void 0&&i!=null&&E(r,["parameters","negativePrompt"],i);const a=S(e,["numberOfImages"]);r!==void 0&&a!=null&&E(r,["parameters","sampleCount"],a);const A=S(e,["aspectRatio"]);r!==void 0&&A!=null&&E(r,["parameters","aspectRatio"],A);const l=S(e,["guidanceScale"]);r!==void 0&&l!=null&&E(r,["parameters","guidanceScale"],l);const c=S(e,["seed"]);r!==void 0&&c!=null&&E(r,["parameters","seed"],c);const u=S(e,["safetyFilterLevel"]);r!==void 0&&u!=null&&E(r,["parameters","safetySetting"],u);const h=S(e,["personGeneration"]);r!==void 0&&h!=null&&E(r,["parameters","personGeneration"],h);const p=S(e,["includeSafetyAttributes"]);r!==void 0&&p!=null&&E(r,["parameters","includeSafetyAttributes"],p);const f=S(e,["includeRaiReason"]);r!==void 0&&f!=null&&E(r,["parameters","includeRaiReason"],f);const m=S(e,["language"]);r!==void 0&&m!=null&&E(r,["parameters","language"],m);const w=S(e,["outputMimeType"]);r!==void 0&&w!=null&&E(r,["parameters","outputOptions","mimeType"],w);const B=S(e,["outputCompressionQuality"]);r!==void 0&&B!=null&&E(r,["parameters","outputOptions","compressionQuality"],B);const x=S(e,["addWatermark"]);r!==void 0&&x!=null&&E(r,["parameters","addWatermark"],x);const y=S(e,["enhancePrompt"]);return r!==void 0&&y!=null&&E(r,["parameters","enhancePrompt"],y),n}function Ij(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["_url","model"],ss(t,n));const s=S(e,["prompt"]);s!=null&&E(r,["instances[0]","prompt"],s);const i=S(e,["config"]);return i!=null&&E(r,["config"],kj(t,i,r)),r}function jj(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["_url","model"],ss(t,n));const s=S(e,["prompt"]);s!=null&&E(r,["instances[0]","prompt"],s);const i=S(e,["config"]);return i!=null&&E(r,["config"],Uj(t,i,r)),r}function Lj(t,e){const r={};if(S(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(S(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(S(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function Qj(t,e,r){const n={},s=S(e,["systemInstruction"]);r!==void 0&&s!=null&&E(r,["systemInstruction"],tA(t,bs(t,s)));const i=S(e,["tools"]);r!==void 0&&i!=null&&(Array.isArray(i)?E(r,["tools"],i.map(A=>Mv(t,A))):E(r,["tools"],i));const a=S(e,["generationConfig"]);return r!==void 0&&a!=null&&E(r,["generationConfig"],a),n}function Tj(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["_url","model"],ss(t,n));const s=S(e,["contents"]);s!=null&&(Array.isArray(s)?E(r,["contents"],pr(t,pr(t,s).map(a=>$u(t,a)))):E(r,["contents"],pr(t,s)));const i=S(e,["config"]);return i!=null&&E(r,["config"],Lj(t,i)),r}function Pj(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["_url","model"],ss(t,n));const s=S(e,["contents"]);s!=null&&(Array.isArray(s)?E(r,["contents"],pr(t,pr(t,s).map(a=>tA(t,a)))):E(r,["contents"],pr(t,s)));const i=S(e,["config"]);return i!=null&&E(r,["config"],Qj(t,i,r)),r}function Rj(t,e){const r={},n=S(e,["model"]);if(n!=null&&E(r,["_url","model"],ss(t,n)),S(e,["contents"])!==void 0)throw new Error("contents parameter is not supported in Gemini API.");const s=S(e,["config"]);return s!=null&&E(r,["config"],s),r}function Dj(t,e){const r={},n=S(e,["model"]);n!=null&&E(r,["_url","model"],ss(t,n));const s=S(e,["contents"]);s!=null&&(Array.isArray(s)?E(r,["contents"],pr(t,pr(t,s).map(a=>tA(t,a)))):E(r,["contents"],pr(t,s)));const i=S(e,["config"]);return i!=null&&E(r,["config"],i),r}function Oj(t,e){const r={},n=S(e,["thought"]);n!=null&&E(r,["thought"],n);const s=S(e,["codeExecutionResult"]);s!=null&&E(r,["codeExecutionResult"],s);const i=S(e,["executableCode"]);i!=null&&E(r,["executableCode"],i);const a=S(e,["fileData"]);a!=null&&E(r,["fileData"],a);const A=S(e,["functionCall"]);A!=null&&E(r,["functionCall"],A);const l=S(e,["functionResponse"]);l!=null&&E(r,["functionResponse"],l);const c=S(e,["inlineData"]);c!=null&&E(r,["inlineData"],c);const u=S(e,["text"]);return u!=null&&E(r,["text"],u),r}function Mj(t,e){const r={},n=S(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],n);const s=S(e,["thought"]);s!=null&&E(r,["thought"],s);const i=S(e,["codeExecutionResult"]);i!=null&&E(r,["codeExecutionResult"],i);const a=S(e,["executableCode"]);a!=null&&E(r,["executableCode"],a);const A=S(e,["fileData"]);A!=null&&E(r,["fileData"],A);const l=S(e,["functionCall"]);l!=null&&E(r,["functionCall"],l);const c=S(e,["functionResponse"]);c!=null&&E(r,["functionResponse"],c);const u=S(e,["inlineData"]);u!=null&&E(r,["inlineData"],u);const h=S(e,["text"]);return h!=null&&E(r,["text"],h),r}function t4(t,e){const r={},n=S(e,["parts"]);n!=null&&(Array.isArray(n)?E(r,["parts"],n.map(i=>Oj(t,i))):E(r,["parts"],n));const s=S(e,["role"]);return s!=null&&E(r,["role"],s),r}function r4(t,e){const r={},n=S(e,["parts"]);n!=null&&(Array.isArray(n)?E(r,["parts"],n.map(i=>Mj(t,i))):E(r,["parts"],n));const s=S(e,["role"]);return s!=null&&E(r,["role"],s),r}function Hj(t,e){const r={},n=S(e,["citationSources"]);return n!=null&&E(r,["citations"],n),r}function Kj(t,e){const r={},n=S(e,["citations"]);return n!=null&&E(r,["citations"],n),r}function Vj(t,e){const r={},n=S(e,["content"]);n!=null&&E(r,["content"],t4(t,n));const s=S(e,["citationMetadata"]);s!=null&&E(r,["citationMetadata"],Hj(t,s));const i=S(e,["tokenCount"]);i!=null&&E(r,["tokenCount"],i);const a=S(e,["avgLogprobs"]);a!=null&&E(r,["avgLogprobs"],a);const A=S(e,["finishReason"]);A!=null&&E(r,["finishReason"],A);const l=S(e,["groundingMetadata"]);l!=null&&E(r,["groundingMetadata"],l);const c=S(e,["index"]);c!=null&&E(r,["index"],c);const u=S(e,["logprobsResult"]);u!=null&&E(r,["logprobsResult"],u);const h=S(e,["safetyRatings"]);return h!=null&&E(r,["safetyRatings"],h),r}function Gj(t,e){const r={},n=S(e,["content"]);n!=null&&E(r,["content"],r4(t,n));const s=S(e,["citationMetadata"]);s!=null&&E(r,["citationMetadata"],Kj(t,s));const i=S(e,["finishMessage"]);i!=null&&E(r,["finishMessage"],i);const a=S(e,["avgLogprobs"]);a!=null&&E(r,["avgLogprobs"],a);const A=S(e,["finishReason"]);A!=null&&E(r,["finishReason"],A);const l=S(e,["groundingMetadata"]);l!=null&&E(r,["groundingMetadata"],l);const c=S(e,["index"]);c!=null&&E(r,["index"],c);const u=S(e,["logprobsResult"]);u!=null&&E(r,["logprobsResult"],u);const h=S(e,["safetyRatings"]);return h!=null&&E(r,["safetyRatings"],h),r}function a2(t,e){const r={},n=S(e,["candidates"]);n!=null&&(Array.isArray(n)?E(r,["candidates"],n.map(A=>Vj(t,A))):E(r,["candidates"],n));const s=S(e,["modelVersion"]);s!=null&&E(r,["modelVersion"],s);const i=S(e,["promptFeedback"]);i!=null&&E(r,["promptFeedback"],i);const a=S(e,["usageMetadata"]);return a!=null&&E(r,["usageMetadata"],a),r}function o2(t,e){const r={},n=S(e,["candidates"]);n!=null&&(Array.isArray(n)?E(r,["candidates"],n.map(c=>Gj(t,c))):E(r,["candidates"],n));const s=S(e,["createTime"]);s!=null&&E(r,["createTime"],s);const i=S(e,["responseId"]);i!=null&&E(r,["responseId"],i);const a=S(e,["modelVersion"]);a!=null&&E(r,["modelVersion"],a);const A=S(e,["promptFeedback"]);A!=null&&E(r,["promptFeedback"],A);const l=S(e,["usageMetadata"]);return l!=null&&E(r,["usageMetadata"],l),r}function zj(t,e){const r={},n=S(e,["truncated"]);n!=null&&E(r,["truncated"],n);const s=S(e,["token_count"]);return s!=null&&E(r,["tokenCount"],s),r}function qj(t,e){const r={},n=S(e,["values"]);return n!=null&&E(r,["values"],n),r}function $j(t,e){const r={},n=S(e,["values"]);n!=null&&E(r,["values"],n);const s=S(e,["statistics"]);return s!=null&&E(r,["statistics"],zj(t,s)),r}function Wj(t,e){return{}}function Jj(t,e){const r={},n=S(e,["billableCharacterCount"]);return n!=null&&E(r,["billableCharacterCount"],n),r}function Yj(t,e){const r={},n=S(e,["embeddings"]);return n!=null&&(Array.isArray(n)?E(r,["embeddings"],n.map(i=>qj(t,i))):E(r,["embeddings"],n)),S(e,["metadata"])!=null&&E(r,["metadata"],Wj()),r}function Xj(t,e){const r={},n=S(e,["predictions[]","embeddings"]);n!=null&&(Array.isArray(n)?E(r,["embeddings"],n.map(i=>$j(t,i))):E(r,["embeddings"],n));const s=S(e,["metadata"]);return s!=null&&E(r,["metadata"],Jj(t,s)),r}function Zj(t,e){const r={},n=S(e,["bytesBase64Encoded"]);n!=null&&E(r,["imageBytes"],WC(t,n));const s=S(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function eL(t,e){const r={},n=S(e,["gcsUri"]);n!=null&&E(r,["gcsUri"],n);const s=S(e,["bytesBase64Encoded"]);s!=null&&E(r,["imageBytes"],WC(t,s));const i=S(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function tL(t,e){const r={},n=S(e,["_self"]);n!=null&&E(r,["image"],Zj(t,n));const s=S(e,["raiFilteredReason"]);return s!=null&&E(r,["raiFilteredReason"],s),r}function rL(t,e){const r={},n=S(e,["_self"]);n!=null&&E(r,["image"],eL(t,n));const s=S(e,["raiFilteredReason"]);s!=null&&E(r,["raiFilteredReason"],s);const i=S(e,["prompt"]);return i!=null&&E(r,["enhancedPrompt"],i),r}function nL(t,e){const r={},n=S(e,["predictions"]);return n!=null&&(Array.isArray(n)?E(r,["generatedImages"],n.map(s=>tL(t,s))):E(r,["generatedImages"],n)),r}function sL(t,e){const r={},n=S(e,["predictions"]);return n!=null&&(Array.isArray(n)?E(r,["generatedImages"],n.map(s=>rL(t,s))):E(r,["generatedImages"],n)),r}function iL(t,e){const r={},n=S(e,["totalTokens"]);n!=null&&E(r,["totalTokens"],n);const s=S(e,["cachedContentTokenCount"]);return s!=null&&E(r,["cachedContentTokenCount"],s),r}function aL(t,e){const r={},n=S(e,["totalTokens"]);return n!=null&&E(r,["totalTokens"],n),r}function oL(t,e){const r={},n=S(e,["tokensInfo"]);return n!=null&&E(r,["tokensInfo"],n),r}function AL(t,e){const r={},n=S(e,["tokensInfo"]);return n!=null&&E(r,["tokensInfo"],n),r}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lL="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function cL(t,e){const r={},n=S(e,["generationConfig"]);n!==void 0&&E(r,["generationConfig"],n);const s=S(e,["responseModalities"]);s!==void 0&&E(r,["generationConfig","responseModalities"],s);const i=S(e,["speechConfig"]);i!==void 0&&E(r,["generationConfig","speechConfig"],i);const a=S(e,["systemInstruction"]);a!=null&&E(r,["systemInstruction"],$u(t,a));const A=S(e,["tools"]);return A!=null&&Array.isArray(A)&&E(r,["tools"],A.map(l=>e4(t,l))),r}function uL(t,e){const r={},n=S(e,["generationConfig"]);n!==void 0&&E(r,["generationConfig"],n);const s=S(e,["responseModalities"]);s!==void 0?E(r,["generationConfig","responseModalities"],s):E(r,["generationConfig","responseModalities"],["AUDIO"]);const i=S(e,["speechConfig"]);i!==void 0&&E(r,["generationConfig","speechConfig"],i);const a=S(e,["systemInstruction"]);a!=null&&E(r,["systemInstruction"],tA(t,a));const A=S(e,["tools"]);return A!=null&&Array.isArray(A)&&E(r,["tools"],A.map(l=>Mv(t,l))),r}function dL(t,e){const r={},n=S(e,["config"]);n!=null&&E(r,["setup"],cL(t,n));const s=S(e,["model"]);return s!==void 0&&E(r,["setup","model"],s),r}function hL(t,e){const r={},n=S(e,["config"]);n!=null&&E(r,["setup"],uL(t,n));const s=S(e,["model"]);return s!==void 0&&E(r,["setup","model"],s),r}function fL(t,e){const r={},n=S(e,["modelTurn"]);n!=null&&E(r,["modelTurn"],t4(t,n));const s=S(e,["turnComplete"]);s!==void 0&&E(r,["turnComplete"],s);const i=S(e,["interrupted"]);return i!==void 0&&E(r,["interrupted"],i),r}function pL(t,e){const r={},n=S(e,["modelTurn"]);n!=null&&E(r,["modelTurn"],r4(t,n));const s=S(e,["turnComplete"]);s!==void 0&&E(r,["turnComplete"],s);const i=S(e,["interrupted"]);return i!==void 0&&E(r,["interrupted"],i),r}function gL(t,e){const r={},n=S(e,["id"]);n!==void 0&&E(r,["id"],n);const s=S(e,["args"]);s!==void 0&&E(r,["args"],s);const i=S(e,["name"]);return i!==void 0&&E(r,["name"],i),r}function mL(t,e){const r={},n=S(e,["args"]);n!==void 0&&E(r,["args"],n);const s=S(e,["name"]);return s!==void 0&&E(r,["name"],s),r}function wL(t,e){const r={},n=S(e,["functionCalls"]);return n!=null&&Array.isArray(n)&&E(r,["functionCalls"],n.map(s=>gL(t,s))),r}function vL(t,e){const r={},n=S(e,["functionCalls"]);return n!=null&&Array.isArray(n)&&E(r,["functionCalls"],n.map(s=>mL(t,s))),r}function xL(t,e){const r={},n=S(e,["ids"]);return n!==void 0&&E(r,["ids"],n),r}function yL(t,e){const r={},n=S(e,["ids"]);return n!==void 0&&E(r,["ids"],n),r}function bL(t,e){const r={},n=S(e,["setupComplete"]);n!==void 0&&E(r,["setupComplete"],n);const s=S(e,["serverContent"]);s!=null&&E(r,["serverContent"],fL(t,s));const i=S(e,["toolCall"]);i!=null&&E(r,["toolCall"],wL(t,i));const a=S(e,["toolCallCancellation"]);return a!=null&&E(r,["toolCallCancellation"],xL(t,a)),r}function BL(t,e){const r={},n=S(e,["setupComplete"]);n!==void 0&&E(r,["setupComplete"],n);const s=S(e,["serverContent"]);s!=null&&E(r,["serverContent"],pL(t,s));const i=S(e,["toolCall"]);i!=null&&E(r,["toolCall"],vL(t,i));const a=S(e,["toolCallCancellation"]);return a!=null&&E(r,["toolCallCancellation"],yL(t,a)),r}async function CL(t,e,r){let n,s;r.data instanceof Blob?s=JSON.parse(await r.data.text()):s=JSON.parse(r.data),t.isVertexAI()?n=BL(t,s):n=bL(t,s),e(n)}class NL{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("This SDK does not yet support the live API for **Google Vertex AI**.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion();let a;const A=_L(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())a=`${s}/ws/google.cloud.aiplatform.${i}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(A);else{const y=this.apiClient.getApiKey();a=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateContent?key=${y}`}let l=()=>{};const c=new Promise(y=>{l=y}),u=e.callbacks,h=function(){var y;(y=u==null?void 0:u.onopen)===null||y===void 0||y.call(u),l({})},p=this.apiClient,f={onopen:h,onmessage:y=>{CL(p,u.onmessage,y)},onerror:(r=u==null?void 0:u.onerror)!==null&&r!==void 0?r:function(y){},onclose:(n=u==null?void 0:u.onclose)!==null&&n!==void 0?n:function(y){}},m=this.webSocketFactory.create(a,EL(A),f);m.connect(),await c;let w=ss(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){const y=this.apiClient.getProject(),C=this.apiClient.getLocation();w=`projects/${y}/locations/${C}/`+w}let B={};const x={model:w,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=hL(this.apiClient,x):B=dL(this.apiClient,x),m.send(JSON.stringify(B)),new SL(m,this.apiClient)}}class SL{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=pr(e,r.turns),e.isVertexAI()?n=n.map(s=>tA(e,s)):n=n.map(s=>$u(e,s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClientRealtimeInput(e,r){let n={};if(!("media"in r)||!r.media)throw new Error(`Failed to convert realtime input "media", type: '${typeof r.media}'`);return n={realtimeInput:{mediaChunks:[r.media]}},n}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)||(n=[r.functionResponses]),n.length===0)throw new Error("functionResponses is required.");for(const i of n){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(lL)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e.turns==null&&e.turnComplete==null&&(e={turnComplete:!0});const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){if(e.media==null)throw new Error("Media is required.");const r=this.tLiveClientRealtimeInput(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function EL(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function _L(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FL="Content-Type",kL="User-Agent",UL="x-goog-api-client",IL="0.2.0",jL=`google-genai-sdk/${IL}`,LL="v1beta1",QL="v1beta",A2=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class TL extends Error{constructor(e,r){r?super(e,{cause:r}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class l2 extends Error{constructor(e,r){r?super(e,{cause:r}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class PL{constructor(e){var r,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:LL,s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:QL,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol="wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r){const n=[this.getRequestUrlInternal(r)];return this.clientOptions.vertexai&&!e.startsWith("projects/")&&n.push(this.getBaseResourcePath()),e!==""&&n.push(e),new URL(`${n.join("/")}`)}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.constructUrl(e.path,r);if(e.queryParams)for(const[i,a]of Object.entries(e.queryParams))n.searchParams.append(i,String(a));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,r),this.unaryApiCall(n,s,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(r))typeof i=="object"?n[s]=Object.assign(Object.assign({},n[s]),i):i!==void 0&&(n[s]=i);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.constructUrl(e.path,r);(!n.searchParams.has("alt")||n.searchParams.get("alt")!=="sse")&&n.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,r),this.streamApiCall(n,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r){if(r&&r.timeout&&r.timeout>0){const n=new AbortController,s=n.signal;setTimeout(()=>n.abort(),r.timeout),e.signal=s}return e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async s=>(await c2(s,e.toString()),new YC(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async s=>(await c2(s,e.toString()),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var r;return Hf(this,arguments,function*(){const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let a="";for(;;){const{done:A,value:l}=yield Pn(s.read());if(A){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(l);a+=c;let u=a.match(A2);for(;u;){const h=u[1];try{const p=JSON.parse(h);yield yield Pn(p),a=a.slice(u[0].length),u=a.match(A2)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{s.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=jL+" "+this.clientOptions.userAgentExtra;return e[kL]=r,e[UL]=r,e[FL]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers)for(const[n,s]of Object.entries(e.headers))r.append(n,s);return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var n;const s={};r!=null&&(s.mimeType=r.mimeType,s.name=r.name,s.displayName=r.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,a=await i.stat(e);s.sizeBytes=a.size;const A=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:a.type;if(A===void 0||A==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=A;const l=await this.fetchUploadUrl(s,r);return i.upload(e,l,this)}async fetchUploadUrl(e,r){var n;let s={};r!=null&&r.httpOptions?s=r.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},a=await this.request({path:jt("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:s});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const A=(n=a==null?void 0:a.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(A===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return A}}async function c2(t,e,r){var n;if(t===void 0)throw new l2("response is undefined");if(!t.ok){const s=t.status,i=t.statusText;let a;!((n=t.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?a=await t.json():a={error:{message:"exception parsing response",code:t.status,status:t.statusText}};const A=`got status: ${s} ${i}. ${JSON.stringify(a)}`;throw s>=400&&s<500?new TL(A):s>=500&&s<600?new l2(A):new Error(A)}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RL extends Dv{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new JC(Mf.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e,r){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e,r).then(n=>Wm(this.apiClient,n))}async listInternal(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=ML(this.apiClient,e);return i=jt("None",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>{const c=YL(this.apiClient),u=new Zy;return Object.assign(u,c),u})}else{const A=OL(this.apiClient,e);return i=jt("files",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>{const c=JL(this.apiClient,l),u=new Zy;return Object.assign(u,c),u})}}async createInternal(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=GL(this.apiClient,e);return i=jt("",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>{const c=ZL(this.apiClient,l),u=new e2;return Object.assign(u,c),u})}else{const A=VL(this.apiClient,e);return i=jt("upload/v1beta/files",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>{const c=XL(this.apiClient,l),u=new e2;return Object.assign(u,c),u})}}async get(e){var r,n;let s,i="",a={};if(this.apiClient.isVertexAI()){const A=qL(this.apiClient,e);return i=jt("None",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions}).then(l=>l.json()),s.then(l=>WL(this.apiClient))}else{const A=zL(this.apiClient,e);return i=jt("files/{file}",A._url),a=A._query,delete A.config,delete A._url,delete A._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions}).then(l=>l.json()),s.then(l=>Wm(this.apiClient,l))}}}function DL(t,e,r){const n={},s=S(e,["pageSize"]);r!==void 0&&s!=null&&E(r,["_query","pageSize"],s);const i=S(e,["pageToken"]);return r!==void 0&&i!=null&&E(r,["_query","pageToken"],i),n}function OL(t,e){const r={},n=S(e,["config"]);return n!=null&&E(r,["config"],DL(t,n,r)),r}function ML(t,e){const r={};if(S(e,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return r}function HL(t,e){const r={},n=S(e,["details"]);n!=null&&E(r,["details"],n);const s=S(e,["message"]);s!=null&&E(r,["message"],s);const i=S(e,["code"]);return i!=null&&E(r,["code"],i),r}function KL(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["name"],n);const s=S(e,["displayName"]);s!=null&&E(r,["displayName"],s);const i=S(e,["mimeType"]);i!=null&&E(r,["mimeType"],i);const a=S(e,["sizeBytes"]);a!=null&&E(r,["sizeBytes"],a);const A=S(e,["createTime"]);A!=null&&E(r,["createTime"],A);const l=S(e,["expirationTime"]);l!=null&&E(r,["expirationTime"],l);const c=S(e,["updateTime"]);c!=null&&E(r,["updateTime"],c);const u=S(e,["sha256Hash"]);u!=null&&E(r,["sha256Hash"],u);const h=S(e,["uri"]);h!=null&&E(r,["uri"],h);const p=S(e,["downloadUri"]);p!=null&&E(r,["downloadUri"],p);const f=S(e,["state"]);f!=null&&E(r,["state"],f);const m=S(e,["source"]);m!=null&&E(r,["source"],m);const w=S(e,["videoMetadata"]);w!=null&&E(r,["videoMetadata"],w);const B=S(e,["error"]);return B!=null&&E(r,["error"],HL(t,B)),r}function VL(t,e){const r={},n=S(e,["file"]);n!=null&&E(r,["file"],KL(t,n));const s=S(e,["config"]);return s!=null&&E(r,["config"],s),r}function GL(t,e){const r={};if(S(e,["file"])!==void 0)throw new Error("file parameter is not supported in Vertex AI.");if(S(e,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return r}function zL(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["_url","file"],AI(t,n));const s=S(e,["config"]);return s!=null&&E(r,["config"],s),r}function qL(t,e){const r={};if(S(e,["name"])!==void 0)throw new Error("name parameter is not supported in Vertex AI.");if(S(e,["config"])!==void 0)throw new Error("config parameter is not supported in Vertex AI.");return r}function $L(t,e){const r={},n=S(e,["details"]);n!=null&&E(r,["details"],n);const s=S(e,["message"]);s!=null&&E(r,["message"],s);const i=S(e,["code"]);return i!=null&&E(r,["code"],i),r}function Wm(t,e){const r={},n=S(e,["name"]);n!=null&&E(r,["name"],n);const s=S(e,["displayName"]);s!=null&&E(r,["displayName"],s);const i=S(e,["mimeType"]);i!=null&&E(r,["mimeType"],i);const a=S(e,["sizeBytes"]);a!=null&&E(r,["sizeBytes"],a);const A=S(e,["createTime"]);A!=null&&E(r,["createTime"],A);const l=S(e,["expirationTime"]);l!=null&&E(r,["expirationTime"],l);const c=S(e,["updateTime"]);c!=null&&E(r,["updateTime"],c);const u=S(e,["sha256Hash"]);u!=null&&E(r,["sha256Hash"],u);const h=S(e,["uri"]);h!=null&&E(r,["uri"],h);const p=S(e,["downloadUri"]);p!=null&&E(r,["downloadUri"],p);const f=S(e,["state"]);f!=null&&E(r,["state"],f);const m=S(e,["source"]);m!=null&&E(r,["source"],m);const w=S(e,["videoMetadata"]);w!=null&&E(r,["videoMetadata"],w);const B=S(e,["error"]);return B!=null&&E(r,["error"],$L(t,B)),r}function WL(t,e){return{}}function JL(t,e){const r={},n=S(e,["nextPageToken"]);n!=null&&E(r,["nextPageToken"],n);const s=S(e,["files"]);return s!=null&&(Array.isArray(s)?E(r,["files"],s.map(i=>Wm(t,i))):E(r,["files"],s)),r}function YL(t,e){return{}}function XL(t,e){const r={},n=S(e,["httpHeaders"]);return n!=null&&E(r,["httpHeaders"],n),r}function ZL(t,e){const r={},n=S(e,["httpHeaders"]);return n!=null&&E(r,["httpHeaders"],n),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u2(){return new Error(`This feature requires the web or Node specific @google/genai implementation, you can fix this by either:

*Enabling conditional exports for your project [recommended]*

*Using a platform specific import* - Make sure your code imports either '@google/genai/web' or '@google/genai/node' instead of '@google/genai'.
`)}const e6=1024*1024*8;class t6{async upload(e,r,n){throw u2()}async stat(e){throw u2()}async uploadBlob(e,r,n){var s,i;let a=0,A=0,l=new YC(new Response),c="upload";for(a=e.size;A<a;){const h=Math.min(e6,a-A),p=e.slice(A,A+h);if(A+h>=a&&(c+=", finalize"),l=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:r,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(A),"Content-Length":String(h)}}}),A+=h,((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="active")break;if(a<=A)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}}class r6{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await new t6().uploadBlob(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return{size:e.size,type:e.type}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n6{create(e,r,n){return new s6(e,r,n)}}class s6{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d2="x-goog-api-key";class i6{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(d2)===null&&e.append(d2,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a6="gl-node/";class o6{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey,this.apiVersion=e.apiVersion;const n=new i6(this.apiKey);this.apiClient=new PL({auth:n,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:a6+"web",uploader:new r6}),this.models=new XI(this.apiClient),this.live=new NL(this.apiClient,n,new n6),this.chats=new JI(this.models,this.apiClient),this.caches=new lI(this.apiClient),this.files=new RL(this.apiClient)}}const os=()=>new o6({apiKey:""}),n4=t=>new Promise((e,r)=>{const n=new FileReader;n.readAsDataURL(t),n.onload=()=>{const s=n.result;e(s.split(",")[1])},n.onerror=s=>r(s)});function A6(t){const e=atob(t),r=e.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=e.charCodeAt(s);return n}async function l6(t,e,r,n){const s=new Int16Array(t.buffer),i=s.length/n,a=e.createBuffer(n,i,r);for(let A=0;A<n;A++){const l=a.getChannelData(A);for(let c=0;c<i;c++)l[c]=s[c*n+A]/32768}return a}const c6=async(t,e="Charon")=>{var a,A,l,c,u,h;const s=(h=(u=(c=(l=(A=(a=(await os().models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:`Recite this with deep, mystical resonance: ${t}`}]}],config:{responseModalities:[qm.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}}}})).candidates)==null?void 0:a[0])==null?void 0:A.content)==null?void 0:l.parts)==null?void 0:c[0])==null?void 0:u.inlineData)==null?void 0:h.data;if(!s)throw new Error("No audio data returned.");const i=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});return await l6(A6(s),i,24e3,1)},s4=(t,e)=>os().chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:`You are Sage Vashishtha, an ancient Vedic Rishi. Context: ${t.substring(0,5e3)}`}}),u6=async(t,e)=>(await os().models.generateContent({model:"gemini-3-flash-preview",contents:`Translate the following report into ${e}. Maintain all formatting: ${t}`})).text||t,d6=async(t,e,r,n="English")=>{const i=await os().models.generateContent({model:"gemini-3-flash-preview",contents:`Recommend gemstone for ${t}, DOB ${e}, seeking ${r} in ${n}.`,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{primaryGem:{type:rt.OBJECT,properties:{name:{type:rt.STRING},sanskritName:{type:rt.STRING},reason:{type:rt.STRING},wearingMethod:{type:rt.STRING}}},mantra:{type:rt.OBJECT,properties:{sanskrit:{type:rt.STRING},pronunciation:{type:rt.STRING},meaning:{type:rt.STRING}}},fullReading:{type:rt.STRING}},required:["primaryGem","mantra","fullReading"]}}});return JSON.parse(i.text||"{}")},h6=async(t,e="English")=>{const n=await os().models.generateContent({model:"gemini-3-flash-preview",contents:`Ayurveda analysis for: ${t} in ${e}.`,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{dosha:{type:rt.STRING},breakdown:{type:rt.OBJECT,properties:{vata:{type:rt.NUMBER},pitta:{type:rt.NUMBER},kapha:{type:rt.NUMBER}}},diet:{type:rt.ARRAY,items:{type:rt.STRING}},lifestyle:{type:rt.ARRAY,items:{type:rt.STRING}},fullReading:{type:rt.STRING}}}}});return JSON.parse(n.text||"{}")},f6=async(t,e,r="English")=>{const s=await os().models.generateContent({model:"gemini-3-flash-preview",contents:`Best time for ${t} on ${e} in ${r}.`,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{bestTime:{type:rt.STRING},rating:{type:rt.STRING},reason:{type:rt.STRING},fullReading:{type:rt.STRING}}}}});return JSON.parse(s.text||"{}")},p6=async(t,e,r="English")=>{const s=await os().models.generateContent({model:"gemini-3-flash-preview",contents:`Compatibility: P1 ${JSON.stringify(t)}, P2 ${JSON.stringify(e)} in ${r}.`,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{compatibilityScore:{type:rt.NUMBER},relationshipType:{type:rt.STRING},strengths:{type:rt.ARRAY,items:{type:rt.STRING}},challenges:{type:rt.ARRAY,items:{type:rt.STRING}},fullReading:{type:rt.STRING}}}}});return JSON.parse(s.text||"{}")},g6=async(t,e="English")=>{const r=os(),n=await n4(t),i=(await r.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:t.type,data:n}},{text:`Vedic Palmistry analysis in ${e}.`}]},config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{textReading:{type:rt.STRING}}}}})).text;if(!i)throw new Error("Empty response from Oracle.");const a=JSON.parse(i);return{rawMetrics:a,textReading:a.textReading||"Analysis complete."}},m6=async(t,e="English")=>{const r=os(),n=await n4(t),i=(await r.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:t.type,data:n}},{text:`Vedic Face reading in ${e}.`}]},config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{textReading:{type:rt.STRING}}}}})).text;if(!i)throw new Error("Empty response from Oracle.");const a=JSON.parse(i);return{rawMetrics:a,textReading:a.textReading||"Analysis complete."}},w6=async t=>{const e=os();let r=`Provide a detailed ${t.mode} reading for: Name: ${t.name}, DOB: ${t.dob}, Language: ${t.language}.`;t.mode==="astrology"&&(r+=` TOB: ${t.tob}, POB: ${t.pob}. Comprehensive Prediction.`);const s=(await e.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text;if(!s||s.trim().length<50)throw new Error("The Oracle's message was too faint. Please retry.");return{reading:s}},v6=async(t,e="English")=>{const s=(await os().models.generateContent({model:"gemini-3-flash-preview",contents:`Detailed Tarot reading for "${t}" in ${e}.`})).text;if(!s||s.trim().length<20)throw new Error("Tarot interpretation failed.");return s},x6=async(t,e="English")=>{const s=(await os().models.generateContent({model:"gemini-3-flash-preview",contents:`Vedic remedies and guidance for: "${t}" in ${e}.`})).text;if(!s||s.trim().length<20)throw new Error("Guidance failed.");return s},y6=async(t,e="English")=>{const s=(await os().models.generateContent({model:"gemini-3-flash-preview",contents:`Interpret dream in ${e}: "${t}"`,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{meaning:{type:rt.STRING},luckyNumbers:{type:rt.ARRAY,items:{type:rt.INTEGER}},symbols:{type:rt.ARRAY,items:{type:rt.STRING}}},required:["meaning","luckyNumbers","symbols"]}}})).text;if(!s)throw new Error("Dream interpretation failed.");return JSON.parse(s)};function Kl(t){return Math.max(0,Math.min(100,Math.round(t)))}function b6(t){const e=t.length*4+t.depth*3+t.clarity*3-t.breaks*5-t.islands*4;return Kl(e)}function B6(t){const e=t.length*3.5+t.depth*3+t.clarity*3+t.forks*2;return Kl(e)}function C6(t){const e=t.length*3.5+t.depth*2.5+t.clarity*3-t.islands*5-t.breaks*3;return Kl(e)}function N6(t){const e=t.length*4+t.depth*3+t.clarity*3-t.breaks*6;return Kl(e)}function S6(t){const e=t.length*4+t.clarity*4+t.depth*2+t.forks*3;return Kl(e)}function Eo(t){const e=t.height*6+t.firmness*4;return Kl(e)}function E6(t){const e=[];return t.breaks>0&&e.push({age:45,event:"Health/Vitality Shift",line:"Life Line Break"}),t.islands>0&&e.push({age:30,event:"Period of Low Energy",line:"Life Line Island"}),t.forks>0&&e.push({age:60,event:"Travel/Change of Residence",line:"Life Line Fork"}),e}function _6(t){const e=[];return t.breaks>0&&e.push({age:35,event:"Career Pivot/Change",line:"Fate Line Break"}),t.length>8&&e.push({age:28,event:"Career Rise",line:"Deep Fate Line"}),e}const F6=t=>{const e={life:b6(t.lines.life),head:B6(t.lines.head),heart:C6(t.lines.heart),fate:N6(t.lines.fate),sun:S6(t.lines.sun)},r={jupiter:Eo(t.mounts.jupiter),saturn:Eo(t.mounts.saturn),apollo:Eo(t.mounts.apollo),mercury:Eo(t.mounts.mercury),venus:Eo(t.mounts.venus),moon:Eo(t.mounts.moon),mars:Eo(t.mounts.mars)},n=[...E6(t.lines.life),..._6(t.lines.fate)].sort((c,u)=>c.age-u.age);let s=e.life>75?"Excellent vitality (Dirgha Ayu). Strong constitution.":e.life>50?"Average vitality. Focus on regular health maintenance.":"Delicate constitution. Yoga and balance recommended.";const i=t.lines.life.breaks||0,a=t.lines.life.islands||0;i>0&&(s+=` Note: ${i} break(s) detected. In Vedic palmistry, a break in the Life Line signifies a transformative change in lifestyle or environment, often interrupting the flow of prana.`),a>0&&(s+=` Note: ${a} island(s) detected. Islands represent periods where vitality is dispersed or weakened, suggesting times of stress or recovery.`);const A={vitality:s,mindset:e.head>70?"Sharp, analytical mind (Tikshna Budhi).":"Creative, intuitive thinking process.",relationships:e.heart>75?"Deep, stable emotions & relations.":"Emotional fluctuations possible.",career:e.fate>70?"Strong destiny & career stability (Prabhal Karma).":"Self-made success through hard work."},l={lineQuality:[{name:"Life",score:e.life,grade:uh(e.life)},{name:"Head",score:e.head,grade:uh(e.head)},{name:"Heart",score:e.heart,grade:uh(e.heart)},{name:"Fate",score:e.fate,grade:uh(e.fate)}],mountActivation:[{name:"Jupiter",score:r.jupiter,meaning:"Leadership"},{name:"Saturn",score:r.saturn,meaning:"Discipline"},{name:"Apollo",score:r.apollo,meaning:"Creativity"},{name:"Venus",score:r.venus,meaning:"Passion"}],fateTiming:[{range:"0-20 yrs",position:"0-15%"},{range:"21-40 yrs",position:"15-35%"},{range:"41-60 yrs",position:"35-60%"},{range:"61-80 yrs",position:"60-85%"}]};return{handType:t.handType,lineScores:e,mountScores:r,eventTimeline:n,charts:l,vedicInterpretation:A,specialMarks:t.marks}};function uh(t){return t>=86?"Excellent":t>=61?"Good":t>=31?"Average":"Weak"}const ft=({children:t,className:e="",...r})=>o.jsx("button",{className:`bg-skin-accent hover:opacity-90 disabled:bg-gray-600 disabled:cursor-not-allowed text-skin-button-text font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-lg border border-skin-border/50 ${e}`,...r,children:t}),oa=({progress:t,message:e,estimatedTime:r})=>o.jsxs("div",{className:"w-full max-w-md mx-auto my-6 p-4 bg-black/40 rounded-lg border border-amber-500/20 backdrop-blur-sm animate-fade-in-up",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm text-amber-200",children:[o.jsx("span",{className:"font-cinzel font-bold tracking-wider text-xs sm:text-sm",children:e||"Consulting the Stars..."}),o.jsxs("span",{className:"font-mono text-amber-400",children:[Math.min(100,Math.round(t)),"%"]})]}),o.jsx("div",{className:"w-full h-3 bg-gray-900 rounded-full overflow-hidden border border-gray-700 shadow-inner",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-amber-700 via-amber-500 to-amber-300 transition-all duration-300 ease-out shadow-[0_0_15px_rgba(251,191,36,0.4)] relative",style:{width:`${t}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),r&&o.jsxs("div",{className:"text-right mt-2 text-[10px] text-amber-200/50 italic font-lora",children:["Est. time: ",o.jsx("span",{className:"text-amber-300",children:r})]})]});class k6{constructor(){this.encryptionKey=null,this.SALT="GLYPH_CIRCLE_V2_SALT_#9928",this.init()}async init(){await this.generateDeviceBoundKey()}async generateDeviceBoundKey(){let e=localStorage.getItem("glyph_device_id");e||(e=crypto.randomUUID(),localStorage.setItem("glyph_device_id",e));const r=new TextEncoder,n=await window.crypto.subtle.importKey("raw",r.encode(e+this.SALT),{name:"PBKDF2"},!1,["deriveKey"]);this.encryptionKey=await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:r.encode("salty_buffer"),iterations:1e5,hash:"SHA-256"},n,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async encryptData(e){this.encryptionKey||await this.init();const n=new TextEncoder().encode(e),s=window.crypto.getRandomValues(new Uint8Array(12)),i=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},this.encryptionKey,n),a=new Uint8Array(i),A=new Uint8Array(s.byteLength+a.byteLength);return A.set(s,0),A.set(a,s.byteLength),this.bufferToBase64(A)}async decryptData(e){this.encryptionKey||await this.init();try{const r=this.base64ToBuffer(e),n=r.slice(0,12),s=r.slice(12),i=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:n},this.encryptionKey,s);return new TextDecoder().decode(i)}catch(r){return console.error("Security Breach: Decryption failed. Data may be tampered.",r),null}}checkSystemIntegrity(){const e={isSecureContext:window.isSecureContext,hasAutomation:!!navigator.webdriver};return e.isSecureContext||console.warn("SECURITY WARNING: Insecure Context"),e.hasAutomation&&console.warn("SECURITY WARNING: Automation Detected"),e.isSecureContext&&!e.hasAutomation}bufferToBase64(e){let r="";for(let n=0;n<e.byteLength;n++)r+=String.fromCharCode(e[n]);return window.btoa(r)}base64ToBuffer(e){const r=window.atob(e),n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}}const U6=new k6;class I6{async saveProvider(e){const r={...e,status:"active",updated_at:new Date().toISOString()};e.id?await ir.updateEntry("payment_providers",e.id,r):await ir.createEntry("payment_providers",{...r})}async deleteProvider(e){await ir.updateEntry("payment_providers",e,{status:"inactive"})}async toggleActive(e,r){await ir.updateEntry("payment_providers",e,{is_active:!r})}detectUserCountry(){try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return e.startsWith("Asia/Kolkata")?"IN":e.startsWith("America/")?"US":e.startsWith("Europe/London")?"UK":"GLOBAL"}catch{return"GLOBAL"}}getActiveProviderFromList(e,r="GLOBAL"){const n=e.filter(a=>a.is_active&&a.status==="active"),s=n.find(a=>a.country_codes.split(",").includes(r));return s||n.find(a=>a.country_codes.includes("GLOBAL"))||null}testTransaction(e){return new Promise(r=>{setTimeout(()=>{e.api_key&&e.api_key.length>5?r({success:!0,message:`Test Transaction of ${e.currency} 1.00 Initiated via ${e.provider_type}`}):r({success:!1,message:"Invalid API Credentials"})},1500)})}}const fl=new I6,j6=["INR","USD","EUR","SAR","BRL","RUB","JPY","CNY"],L6=({isVisible:t,onClose:e,onSuccess:r,basePrice:n,serviceName:s})=>{const[i,a]=F.useState(!1),[A,l]=F.useState(!1),[c,u]=F.useState(null),[h,p]=F.useState("upi"),[f,m]=F.useState(""),[w,B]=F.useState(!1),[x,y]=F.useState(""),[C,k]=F.useState(null),{t:R,getRegionalPrice:P,currency:M,setCurrency:U}=$t(),{user:H,pendingReading:$,commitPendingReading:L,refreshUser:T}=Xt(),{db:W}=qt(),J=F.useMemo(()=>(W.payment_methods||[]).filter(ue=>ue.type==="upi"&&ue.status==="active"),[W.payment_methods]);F.useEffect(()=>{if(t){H!=null&&H.currency&&H.currency!==M&&U(H.currency),y(""),k(null),m(""),B(!1),a(!1),l(!1),p(M==="INR"?"upi":"card");const ue=W.payment_providers||[],_=fl.detectUserCountry(),I=fl.getActiveProviderFromList(ue,_);u(I)}},[t,W.payment_providers,H,M,U]);const le=F.useMemo(()=>{if(!C)return n;const ue=n*C.percentage/100;return Math.max(0,n-ue)},[n,C]),ie=P(le),Z=P(n),q=async ue=>{a(!1),l(!0),navigator.vibrate&&navigator.vibrate([100,50,100]),H&&ir.recordTransaction({user_id:H.id,amount:le,description:$?`Payment for ${$.title}`:`${s}`,status:"success"}),r(),setTimeout(()=>{$&&H&&L(),T(),e()},3500)},z=ue=>{if(!U6.checkSystemIntegrity()){alert("Security Alert: System Integrity compromised.");return}if(a(!0),!c||c.api_key.includes("12345678")||!c.api_key){console.warn("Using payment simulation."),setTimeout(()=>q(),1200);return}c.provider_type==="razorpay"?se(c,ue):setTimeout(()=>q(),1200)},se=(ue,_)=>{if(typeof window.Razorpay>"u"){alert("Payment gateway not initialized."),a(!1);return}const I={key:ue.api_key,amount:Math.round(ie.price*100),currency:M,name:"Glyph Circle",description:s,handler:V=>q(V.razorpay_payment_id),prefill:{name:(H==null?void 0:H.name)||"Seeker",email:(H==null?void 0:H.email)||"seeker@glyph.circle"},theme:{color:"#F59E0B"},modal:{ondismiss:()=>a(!1)}};_&&_!=="vpa"&&_!=="card"&&(I.config={display:{blocks:{upi:{name:"Pay via UPI",instruments:[{method:"upi",apps:[_]}]}},sequence:["block.upi"]}});try{new window.Razorpay(I).open()}catch(V){console.error(V),a(!1),q()}};return t?o.jsx("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-xl z-[100] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-[#0b0c15] border border-amber-500/30 w-full max-w-sm rounded-[2rem] shadow-[0_0_80px_rgba(0,0,0,0.9)] overflow-hidden relative min-h-[500px] flex flex-col justify-center transition-all duration-500 animate-fade-in-up",children:[!A&&o.jsx("button",{onClick:e,className:"absolute top-5 right-5 text-amber-500/50 hover:text-white z-10 p-2 text-2xl transition-colors",children:""}),o.jsx("div",{className:"p-8 text-center flex flex-col h-full justify-center items-center",children:A?o.jsxs("div",{className:"animate-fade-in-up flex flex-col items-center",children:[o.jsxs("div",{className:"relative mb-10",children:[o.jsx("div",{className:"w-28 h-28 bg-[#10b981] rounded-full flex items-center justify-center shadow-[0_0_60px_rgba(16,185,129,0.5)] animate-[bounce_1.5s_ease-in-out_infinite]",children:o.jsx("svg",{className:"w-16 h-16 text-white drop-shadow-lg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),o.jsx("div",{className:"absolute inset-[-15px] border-2 border-[#10b981]/20 rounded-full animate-ping"})]}),o.jsx("h3",{className:"text-4xl font-cinzel font-black text-white mb-3 uppercase tracking-[0.1em] drop-shadow-xl",children:"Offer Accepted"}),o.jsx("p",{className:"text-[#10b981] font-bold uppercase tracking-[0.2em] text-xs animate-pulse",children:"Your Path is Now Illuminated"}),o.jsx("button",{onClick:e,className:"mt-12 px-8 py-3 bg-gray-900 border border-amber-500/20 text-amber-200/50 text-[10px] font-bold uppercase tracking-widest rounded-full hover:text-white transition-all active:scale-95",children:"Reveal Report Now "})]}):o.jsxs("div",{className:"w-full transition-all",children:[o.jsx("h3",{className:"text-3xl font-cinzel font-bold text-amber-100 mb-1 tracking-tight uppercase",children:"Dakshina"}),o.jsx("p",{className:"text-amber-200/50 text-[10px] uppercase tracking-[0.4em] mb-8",children:"Sacred Exchange"}),o.jsxs("div",{className:"mb-10 bg-black/60 p-8 rounded-[2rem] border border-amber-500/20 relative group shadow-inner",children:[o.jsx("div",{className:"absolute top-3 right-5",children:o.jsx("select",{value:M,onChange:ue=>U(ue.target.value),className:"bg-gray-800 text-amber-200 text-[10px] rounded-full border border-amber-500/30 px-3 py-1 outline-none font-bold cursor-pointer hover:bg-gray-700 transition-colors",children:j6.map(ue=>o.jsx("option",{value:ue,children:ue},ue))})}),C?o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-gray-500 text-sm line-through font-mono",children:Z.display}),o.jsxs("span",{className:"text-green-400 text-[10px] font-bold mt-1 uppercase tracking-tighter",children:[C.code," applied"]}),o.jsx("span",{className:"text-white font-black text-6xl mt-1 tracking-tighter drop-shadow-[0_2px_15px_rgba(255,255,255,0.2)]",children:ie.display})]}):o.jsx("span",{className:"text-white font-black text-6xl block pt-2 tracking-tighter drop-shadow-[0_2px_15px_rgba(255,255,255,0.2)]",children:ie.display})]}),o.jsxs("div",{className:"flex p-1.5 bg-black/60 rounded-2xl mb-8 border border-white/5 shadow-lg",children:[o.jsx("button",{onClick:()=>p("upi"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all uppercase tracking-widest ${h==="upi"?"bg-amber-600 text-white shadow-lg":"text-gray-500"}`,children:"UPI"}),o.jsx("button",{onClick:()=>p("card"),className:`flex-1 py-3 text-xs font-bold rounded-xl transition-all uppercase tracking-widest ${h==="card"?"bg-amber-600 text-white shadow-lg":"text-gray-500"}`,children:"Card"})]}),h==="upi"?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-4 gap-4 px-1",children:J.map(ue=>o.jsxs("button",{onClick:()=>z(ue.name.toLowerCase().replace(/\s/g,"")),className:"flex flex-col items-center gap-2 group cursor-pointer transition-transform active:scale-90",children:[o.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-white rounded-full p-2.5 border-2 border-transparent group-hover:border-amber-500 transition-all shadow-[0_10px_25px_rgba(0,0,0,0.4)] group-hover:shadow-[0_0_20px_rgba(245,158,11,0.4)] overflow-hidden",children:o.jsx("img",{src:ue.logo_url,alt:ue.name,className:"w-full h-full object-contain"})}),o.jsx("span",{className:"text-[8px] text-gray-500 font-black uppercase tracking-widest group-hover:text-amber-200 transition-colors",children:ue.name})]},ue.id))}),o.jsxs("div",{className:"mt-10 pt-6 border-t border-white/5",children:[o.jsx("button",{onClick:()=>B(!w),className:"w-full py-3.5 bg-gray-900 border border-gray-800 rounded-2xl text-[10px] font-black text-amber-200/60 hover:text-white transition-colors uppercase tracking-[0.2em]",children:w?"Hide manual entry":"Pay via manual UPI ID"}),w&&o.jsxs("div",{className:"flex gap-2 mt-4 animate-fade-in-up",children:[o.jsx("input",{type:"text",placeholder:"seeker@upi",value:f,onChange:ue=>m(ue.target.value),className:"flex-grow bg-black border border-amber-500/30 rounded-2xl px-5 py-4 text-white text-sm outline-none focus:border-amber-500 shadow-inner font-mono"}),o.jsx("button",{onClick:()=>z("vpa"),disabled:f.length<5||i,className:"bg-amber-600 hover:bg-amber-500 text-white px-8 rounded-2xl font-bold text-xs shadow-lg active:scale-95 disabled:opacity-50 transition-all",children:"PAY"})]})]})]}):o.jsx("div",{className:"animate-fade-in-up pt-4",children:o.jsx(ft,{onClick:()=>z("card"),disabled:i,className:"w-full bg-blue-700 hover:bg-blue-600 border-none shadow-2xl py-6 font-bold uppercase tracking-[0.3em] text-xs rounded-2xl transform hover:scale-[1.02] active:scale-95 transition-all",children:i?"Contacting Bank...":"Secure Card Payment"})})]})})]})}):null},i4=F.createContext(void 0),ni=()=>{const t=F.useContext(i4);if(!t)throw new Error("usePayment must be used within a PaymentProvider");return t},Q6=({children:t})=>{const[e,r]=F.useState(!1),[n,s]=F.useState(null),[i,a]=F.useState(49),[A,l]=F.useState(""),c=F.useCallback((p,f="Mystic Service",m)=>{s(()=>p),l(f),a(m!==void 0?m:49),r(!0)},[]),u=F.useCallback(()=>{r(!1),s(null)},[]),h=F.useCallback(()=>{n&&n(),u()},[n,u]);return o.jsxs(i4.Provider,{value:{openPayment:c,closePayment:u},children:[t,o.jsx(L6,{isVisible:e,onClose:u,onSuccess:h,basePrice:i,serviceName:A})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jm=function(t,e){return Jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Jm(t,e)};function si(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Jm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ym=function(){return Ym=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ym.apply(this,arguments)};function Cn(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function A(u){try{c(n.next(u))}catch(h){a(h)}}function l(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((n=n.apply(t,[])).next())})}function gn(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function dh(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var ra=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),y0=function(t,e){return ra.fromClientRect(t,e.getBoundingClientRect())},T6=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new ra(0,0,n,s)},b0=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},yr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},h2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hh=0;hh<h2.length;hh++)P6[h2.charCodeAt(hh)]=hh;var f2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fh=0;fh<f2.length;fh++)Oc[f2.charCodeAt(fh)]=fh;var R6=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,A,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Oc[t.charCodeAt(n)],a=Oc[t.charCodeAt(n+1)],A=Oc[t.charCodeAt(n+2)],l=Oc[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},D6=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},O6=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Vo=5,Hv=11,sg=2,M6=Hv-Vo,a4=65536>>Vo,H6=1<<Vo,ig=H6-1,K6=1024>>Vo,V6=a4+K6,G6=V6,z6=32,q6=G6+z6,$6=65536>>Hv,W6=1<<M6,J6=W6-1,p2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Y6=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},X6=function(t,e){var r=R6(t),n=Array.isArray(r)?O6(r):new Uint32Array(r),s=Array.isArray(r)?D6(r):new Uint16Array(r),i=24,a=p2(s,i/2,n[4]/2),A=n[5]===2?p2(s,(i+n[4])/2):Y6(n,Math.ceil((i+n[4])/4));return new Z6(n[0],n[1],n[2],n[3],a,A)},Z6=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Vo],r=(r<<sg)+(e&ig),this.data[r];if(e<=65535)return r=this.index[a4+(e-55296>>Vo)],r=(r<<sg)+(e&ig),this.data[r];if(e<this.highStart)return r=q6-$6+(e>>Hv),r=this.index[r],r+=e>>Vo&J6,r=this.index[r],r=(r<<sg)+(e&ig),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),g2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eQ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ph=0;ph<g2.length;ph++)eQ[g2.charCodeAt(ph)]=ph;var tQ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",m2=50,rQ=1,o4=2,A4=3,nQ=4,sQ=5,w2=7,l4=8,v2=9,Ra=10,Xm=11,x2=12,Zm=13,iQ=14,Mc=15,ew=16,gh=17,Fc=18,aQ=19,y2=20,tw=21,kc=22,ag=23,DA=24,Jn=25,Hc=26,Kc=27,OA=28,oQ=29,Qo=30,AQ=31,mh=32,wh=33,rw=34,nw=35,sw=36,Pu=37,iw=38,rf=39,nf=40,og=41,c4=42,lQ=43,cQ=[9001,65288],u4="!",vt="",vh="",aw=X6(tQ),Hi=[Qo,sw],ow=[rQ,o4,A4,sQ],d4=[Ra,l4],b2=[Kc,Hc],uQ=ow.concat(d4),B2=[iw,rf,nf,rw,nw],dQ=[Mc,Zm],hQ=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,a){var A=aw.get(i);if(A>m2?(s.push(!0),A-=m2):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(a),r.push(ew);if(A===nQ||A===Xm){if(a===0)return n.push(a),r.push(Qo);var l=r[a-1];return uQ.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(Qo))}if(n.push(a),A===AQ)return r.push(e==="strict"?tw:Pu);if(A===c4||A===oQ)return r.push(Qo);if(A===lQ)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Pu):r.push(Qo);r.push(A)}),[n,r,s]},Ag=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var a=n[i];if(a===e)return!0;if(a!==Ra)break}if(s===Ra)for(var i=r;i>0;){i--;var A=n[i];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==Ra)break}if(A!==Ra)break}return!1},C2=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Ra)r--;else return n}return 0},fQ=function(t,e,r,n,s){if(r[n]===0)return vt;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return vt;var a=i-1,A=i+1,l=e[i],c=a>=0?e[a]:0,u=e[A];if(l===o4&&u===A4)return vt;if(ow.indexOf(l)!==-1)return u4;if(ow.indexOf(u)!==-1||d4.indexOf(u)!==-1)return vt;if(C2(i,e)===l4)return vh;if(aw.get(t[i])===Xm||(l===mh||l===wh)&&aw.get(t[A])===Xm||l===w2||u===w2||l===v2||[Ra,Zm,Mc].indexOf(l)===-1&&u===v2||[gh,Fc,aQ,DA,OA].indexOf(u)!==-1||C2(i,e)===kc||Ag(ag,kc,i,e)||Ag([gh,Fc],tw,i,e)||Ag(x2,x2,i,e))return vt;if(l===Ra)return vh;if(l===ag||u===ag)return vt;if(u===ew||l===ew)return vh;if([Zm,Mc,tw].indexOf(u)!==-1||l===iQ||c===sw&&dQ.indexOf(l)!==-1||l===OA&&u===sw||u===y2||Hi.indexOf(u)!==-1&&l===Jn||Hi.indexOf(l)!==-1&&u===Jn||l===Kc&&[Pu,mh,wh].indexOf(u)!==-1||[Pu,mh,wh].indexOf(l)!==-1&&u===Hc||Hi.indexOf(l)!==-1&&b2.indexOf(u)!==-1||b2.indexOf(l)!==-1&&Hi.indexOf(u)!==-1||[Kc,Hc].indexOf(l)!==-1&&(u===Jn||[kc,Mc].indexOf(u)!==-1&&e[A+1]===Jn)||[kc,Mc].indexOf(l)!==-1&&u===Jn||l===Jn&&[Jn,OA,DA].indexOf(u)!==-1)return vt;if([Jn,OA,DA,gh,Fc].indexOf(u)!==-1)for(var h=i;h>=0;){var p=e[h];if(p===Jn)return vt;if([OA,DA].indexOf(p)!==-1)h--;else break}if([Kc,Hc].indexOf(u)!==-1)for(var h=[gh,Fc].indexOf(l)!==-1?a:i;h>=0;){var p=e[h];if(p===Jn)return vt;if([OA,DA].indexOf(p)!==-1)h--;else break}if(iw===l&&[iw,rf,rw,nw].indexOf(u)!==-1||[rf,rw].indexOf(l)!==-1&&[rf,nf].indexOf(u)!==-1||[nf,nw].indexOf(l)!==-1&&u===nf||B2.indexOf(l)!==-1&&[y2,Hc].indexOf(u)!==-1||B2.indexOf(u)!==-1&&l===Kc||Hi.indexOf(l)!==-1&&Hi.indexOf(u)!==-1||l===DA&&Hi.indexOf(u)!==-1||Hi.concat(Jn).indexOf(l)!==-1&&u===kc&&cQ.indexOf(t[A])===-1||Hi.concat(Jn).indexOf(u)!==-1&&l===Fc)return vt;if(l===og&&u===og){for(var f=r[i],m=1;f>0&&(f--,e[f]===og);)m++;if(m%2!==0)return vt}return l===mh&&u===wh?vt:vh},pQ=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=hQ(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(A){return[Jn,Qo,c4].indexOf(A)!==-1?Pu:A}));var a=e.wordBreak==="keep-all"?i.map(function(A,l){return A&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,a]},gQ=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===u4,this.start=n,this.end=s}return t.prototype.slice=function(){return yr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),mQ=function(t,e){var r=b0(t),n=pQ(r,e),s=n[0],i=n[1],a=n[2],A=r.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var u=vt;c<A&&(u=fQ(r,i,s,++c,a))===vt;);if(u!==vt||c===A){var h=new gQ(r,u,l,c);return l=c,{value:h,done:!1}}return{done:!0,value:null}}}},wQ=1,vQ=2,Wu=4,N2=8,Kf=10,S2=47,su=92,xQ=9,yQ=32,xh=34,Uc=61,bQ=35,BQ=36,CQ=37,yh=39,bh=40,Ic=41,NQ=95,Qn=45,SQ=33,EQ=60,_Q=62,FQ=64,kQ=91,UQ=93,IQ=61,jQ=123,Bh=63,LQ=125,E2=124,QQ=126,TQ=128,_2=65533,lg=42,Mo=43,PQ=44,RQ=58,DQ=59,Ru=46,OQ=0,MQ=8,HQ=11,KQ=14,VQ=31,GQ=127,xi=-1,h4=48,f4=97,p4=101,zQ=102,qQ=117,$Q=122,g4=65,m4=69,w4=70,WQ=85,JQ=90,mn=function(t){return t>=h4&&t<=57},YQ=function(t){return t>=55296&&t<=57343},MA=function(t){return mn(t)||t>=g4&&t<=w4||t>=f4&&t<=zQ},XQ=function(t){return t>=f4&&t<=$Q},ZQ=function(t){return t>=g4&&t<=JQ},eT=function(t){return XQ(t)||ZQ(t)},tT=function(t){return t>=TQ},Ch=function(t){return t===Kf||t===xQ||t===yQ},Vf=function(t){return eT(t)||tT(t)||t===NQ},F2=function(t){return Vf(t)||mn(t)||t===Qn},rT=function(t){return t>=OQ&&t<=MQ||t===HQ||t>=KQ&&t<=VQ||t===GQ},Ia=function(t,e){return t!==su?!1:e!==Kf},Nh=function(t,e,r){return t===Qn?Vf(e)||Ia(e,r):Vf(t)?!0:!!(t===su&&Ia(t,e))},cg=function(t,e,r){return t===Mo||t===Qn?mn(e)?!0:e===Ru&&mn(r):mn(t===Ru?e:t)},nT=function(t){var e=0,r=1;(t[e]===Mo||t[e]===Qn)&&(t[e]===Qn&&(r=-1),e++);for(var n=[];mn(t[e]);)n.push(t[e++]);var s=n.length?parseInt(yr.apply(void 0,n),10):0;t[e]===Ru&&e++;for(var i=[];mn(t[e]);)i.push(t[e++]);var a=i.length,A=a?parseInt(yr.apply(void 0,i),10):0;(t[e]===m4||t[e]===p4)&&e++;var l=1;(t[e]===Mo||t[e]===Qn)&&(t[e]===Qn&&(l=-1),e++);for(var c=[];mn(t[e]);)c.push(t[e++]);var u=c.length?parseInt(yr.apply(void 0,c),10):0;return r*(s+A*Math.pow(10,-a))*Math.pow(10,l*u)},sT={type:2},iT={type:3},aT={type:4},oT={type:13},AT={type:8},lT={type:21},cT={type:9},uT={type:10},dT={type:11},hT={type:12},fT={type:14},Sh={type:23},pT={type:1},gT={type:25},mT={type:24},wT={type:26},vT={type:27},xT={type:28},yT={type:29},bT={type:31},Aw={type:32},v4=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(b0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Aw;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case xh:return this.consumeStringToken(xh);case bQ:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(F2(r)||Ia(n,s)){var i=Nh(r,n,s)?vQ:wQ,a=this.consumeName();return{type:5,value:a,flags:i}}break;case BQ:if(this.peekCodePoint(0)===Uc)return this.consumeCodePoint(),oT;break;case yh:return this.consumeStringToken(yh);case bh:return sT;case Ic:return iT;case lg:if(this.peekCodePoint(0)===Uc)return this.consumeCodePoint(),fT;break;case Mo:if(cg(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case PQ:return aT;case Qn:var A=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(cg(A,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Nh(A,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Qn&&c===_Q)return this.consumeCodePoint(),this.consumeCodePoint(),mT;break;case Ru:if(cg(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case S2:if(this.peekCodePoint(0)===lg)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===lg&&(u=this.consumeCodePoint(),u===S2))return this.consumeToken();if(u===xi)return this.consumeToken()}break;case RQ:return wT;case DQ:return vT;case EQ:if(this.peekCodePoint(0)===SQ&&this.peekCodePoint(1)===Qn&&this.peekCodePoint(2)===Qn)return this.consumeCodePoint(),this.consumeCodePoint(),gT;break;case FQ:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Nh(h,p,f)){var a=this.consumeName();return{type:7,value:a}}break;case kQ:return xT;case su:if(Ia(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case UQ:return yT;case IQ:if(this.peekCodePoint(0)===Uc)return this.consumeCodePoint(),AT;break;case jQ:return dT;case LQ:return hT;case qQ:case WQ:var m=this.peekCodePoint(0),w=this.peekCodePoint(1);return m===Mo&&(MA(w)||w===Bh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case E2:if(this.peekCodePoint(0)===Uc)return this.consumeCodePoint(),cT;if(this.peekCodePoint(0)===E2)return this.consumeCodePoint(),lT;break;case QQ:if(this.peekCodePoint(0)===Uc)return this.consumeCodePoint(),uT;break;case xi:return Aw}return Ch(e)?(this.consumeWhiteSpace(),bT):mn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Vf(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:yr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();MA(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Bh&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(yr.apply(void 0,e.map(function(l){return l===Bh?h4:l})),16),i=parseInt(yr.apply(void 0,e.map(function(l){return l===Bh?w4:l})),16);return{type:30,start:s,end:i}}var a=parseInt(yr.apply(void 0,e),16);if(this.peekCodePoint(0)===Qn&&MA(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var A=[];MA(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();var i=parseInt(yr.apply(void 0,A),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===bh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===bh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===xi)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===yh||r===xh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===xi||this.peekCodePoint(0)===Ic)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Sh)}for(;;){var s=this.consumeCodePoint();if(s===xi||s===Ic)return{type:22,value:yr.apply(void 0,e)};if(Ch(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===xi||this.peekCodePoint(0)===Ic?(this.consumeCodePoint(),{type:22,value:yr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Sh);if(s===xh||s===yh||s===bh||rT(s))return this.consumeBadUrlRemnants(),Sh;if(s===su)if(Ia(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Sh;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;Ch(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ic||e===xi)return;Ia(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=yr.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===xi||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Kf)return this._value.splice(0,n),pT;if(s===su){var i=this._value[n+1];i!==xi&&i!==void 0&&(i===Kf?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Ia(s,i)&&(r+=this.consumeStringSlice(n),r+=yr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Wu,n=this.peekCodePoint(0);for((n===Mo||n===Qn)&&e.push(this.consumeCodePoint());mn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Ru&&mn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=N2;mn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===m4||n===p4)&&((s===Mo||s===Qn)&&mn(i)||mn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=N2;mn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[nT(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Nh(s,i,a)){var A=this.consumeName();return{type:15,number:r,flags:n,unit:A}}return s===CQ?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(MA(e)){for(var r=yr(e);MA(this.peekCodePoint(0))&&r.length<6;)r+=yr(this.consumeCodePoint());Ch(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||YQ(n)||n>1114111?_2:n}return e===xi?_2:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(F2(r))e+=yr(r);else if(Ia(r,this.peekCodePoint(0)))e+=yr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),x4=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new v4;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||CT(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Aw:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Ju=function(t){return t.type===15},Vl=function(t){return t.type===17},Rt=function(t){return t.type===20},BT=function(t){return t.type===0},lw=function(t,e){return Rt(t)&&t.value===e},y4=function(t){return t.type!==31},Rl=function(t){return t.type!==31&&t.type!==4},_i=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},CT=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ro=function(t){return t.type===17||t.type===15},jr=function(t){return t.type===16||ro(t)},b4=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},nn={type:17,number:0,flags:Wu},Kv={type:16,number:50,flags:Wu},Da={type:16,number:100,flags:Wu},Vc=function(t,e,r){var n=t[0],s=t[1];return[Gt(n,e),Gt(typeof s<"u"?s:n,r)]},Gt=function(t,e){if(t.type===16)return t.number/100*e;if(Ju(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},B4="deg",C4="grad",N4="rad",S4="turn",B0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case B4:return Math.PI*e.number/180;case C4:return Math.PI/200*e.number;case N4:return e.number;case S4:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},E4=function(t){return t.type===15&&(t.unit===B4||t.unit===C4||t.unit===N4||t.unit===S4)},_4=function(t){var e=t.filter(Rt).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[nn,nn];case"to top":case"bottom":return Bs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[nn,Da];case"to right":case"left":return Bs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Da,Da];case"to bottom":case"top":return Bs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Da,nn];case"to left":case"right":return Bs(270)}return 0},Bs=function(t){return Math.PI*t/180},Xa={name:"color",parse:function(t,e){if(e.type===18){var r=NT[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Oa(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),a=e.value.substring(3,4);return Oa(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Oa(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),a=e.value.substring(6,8);return Oa(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(a,16)/255)}}if(e.type===20){var A=Yi[e.value.toUpperCase()];if(typeof A<"u")return A}return Yi.TRANSPARENT}},Za=function(t){return(255&t)===0},Vr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},Oa=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},k2=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},U2=function(t,e){var r=e.filter(Rl);if(r.length===3){var n=r.map(k2),s=n[0],i=n[1],a=n[2];return Oa(s,i,a,1)}if(r.length===4){var A=r.map(k2),s=A[0],i=A[1],a=A[2],l=A[3];return Oa(s,i,a,l)}return 0};function ug(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var I2=function(t,e){var r=e.filter(Rl),n=r[0],s=r[1],i=r[2],a=r[3],A=(n.type===17?Bs(n.number):B0.parse(t,n))/(Math.PI*2),l=jr(s)?s.number/100:0,c=jr(i)?i.number/100:0,u=typeof a<"u"&&jr(a)?Gt(a,1):1;if(l===0)return Oa(c*255,c*255,c*255,1);var h=c<=.5?c*(l+1):c+l-c*l,p=c*2-h,f=ug(p,h,A+1/3),m=ug(p,h,A),w=ug(p,h,A-1/3);return Oa(f*255,m*255,w*255,u)},NT={hsl:I2,hsla:I2,rgb:U2,rgba:U2},iu=function(t,e){return Xa.parse(t,x4.create(e).parseComponentValue())},Yi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ST={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Rt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ET={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},C0=function(t,e){var r=Xa.parse(t,e[0]),n=e[1];return n&&jr(n)?{color:r,stop:n}:{color:r,stop:null}},j2=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=nn),n.stop===null&&(n.stop=Da);for(var s=[],i=0,a=0;a<t.length;a++){var A=t[a].stop;if(A!==null){var l=Gt(A,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,a=0;a<s.length;a++){var u=s[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var h=a-c,p=s[c-1],f=(u-p)/(h+1),m=1;m<=h;m++)s[c+m-1]=f*m;c=null}}return t.map(function(w,B){var x=w.color;return{color:x,stop:Math.max(Math.min(1,s[B]/e),0)}})},_T=function(t,e,r){var n=e/2,s=r/2,i=Gt(t[0],e)-n,a=s-Gt(t[1],r);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},FT=function(t,e,r){var n=typeof t=="number"?t:_T(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,a=r/2,A=s/2,l=Math.sin(n-Math.PI/2)*A,c=Math.cos(n-Math.PI/2)*A;return[s,i-c,i+c,a-l,a+l]},Vs=function(t,e){return Math.sqrt(t*t+e*e)},L2=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(a,A){var l=A[0],c=A[1],u=Vs(r-l,n-c);return(s?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:A,optimumDistance:u}:a},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},kT=function(t,e,r,n,s){var i=0,a=0;switch(t.size){case 0:t.shape===0?i=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=a=Math.min(Vs(e,r),Vs(e,r-s),Vs(e-n,r),Vs(e-n,r-s));else if(t.shape===1){var A=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=L2(n,s,e,r,!0),c=l[0],u=l[1];i=Vs(c-e,(u-r)/A),a=A*i}break;case 1:t.shape===0?i=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=a=Math.max(Vs(e,r),Vs(e,r-s),Vs(e-n,r),Vs(e-n,r-s));else if(t.shape===1){var A=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),h=L2(n,s,e,r,!1),c=h[0],u=h[1];i=Vs(c-e,(u-r)/A),a=A*i}break}return Array.isArray(t.size)&&(i=Gt(t.size[0],n),a=t.size.length===2?Gt(t.size[1],s):i),[i,a]},UT=function(t,e){var r=Bs(180),n=[];return _i(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&a.value==="to"){r=_4(s);return}else if(E4(a)){r=B0.parse(t,a);return}}var A=C0(t,s);n.push(A)}),{angle:r,stops:n,type:1}},Eh=function(t,e){var r=Bs(180),n=[];return _i(e).forEach(function(s,i){if(i===0){var a=s[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=_4(s);return}else if(E4(a)){r=(B0.parse(t,a)+Bs(270))%Bs(360);return}}var A=C0(t,s);n.push(A)}),{angle:r,stops:n,type:1}},IT=function(t,e){var r=Bs(180),n=[],s=1,i=0,a=3,A=[];return _i(e).forEach(function(l,c){var u=l[0];if(c===0){if(Rt(u)&&u.value==="linear"){s=1;return}else if(Rt(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var h=Xa.parse(t,u.values[0]);n.push({stop:nn,color:h})}else if(u.name==="to"){var h=Xa.parse(t,u.values[0]);n.push({stop:Da,color:h})}else if(u.name==="color-stop"){var p=u.values.filter(Rl);if(p.length===2){var h=Xa.parse(t,p[1]),f=p[0];Vl(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:h})}}}}),s===1?{angle:(r+Bs(180))%Bs(360),stops:n,type:s}:{size:a,shape:i,stops:n,position:A,type:s}},F4="closest-side",k4="farthest-side",U4="closest-corner",I4="farthest-corner",j4="circle",L4="ellipse",Q4="cover",T4="contain",jT=function(t,e){var r=0,n=3,s=[],i=[];return _i(e).forEach(function(a,A){var l=!0;if(A===0){var c=!1;l=a.reduce(function(h,p){if(c)if(Rt(p))switch(p.value){case"center":return i.push(Kv),h;case"top":case"left":return i.push(nn),h;case"right":case"bottom":return i.push(Da),h}else(jr(p)||ro(p))&&i.push(p);else if(Rt(p))switch(p.value){case j4:return r=0,!1;case L4:return r=1,!1;case"at":return c=!0,!1;case F4:return n=0,!1;case Q4:case k4:return n=1,!1;case T4:case U4:return n=2,!1;case I4:return n=3,!1}else if(ro(p)||jr(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return h},l)}if(l){var u=C0(t,a);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},_h=function(t,e){var r=0,n=3,s=[],i=[];return _i(e).forEach(function(a,A){var l=!0;if(A===0?l=a.reduce(function(u,h){if(Rt(h))switch(h.value){case"center":return i.push(Kv),!1;case"top":case"left":return i.push(nn),!1;case"right":case"bottom":return i.push(Da),!1}else if(jr(h)||ro(h))return i.push(h),!1;return u},l):A===1&&(l=a.reduce(function(u,h){if(Rt(h))switch(h.value){case j4:return r=0,!1;case L4:return r=1,!1;case T4:case F4:return n=0,!1;case k4:return n=1,!1;case U4:return n=2,!1;case Q4:case I4:return n=3,!1}else if(ro(h)||jr(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},l)),l){var c=C0(t,a);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},LT=function(t){return t.type===1},QT=function(t){return t.type===2},Vv={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=P4[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function TT(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!P4[t.name])}var P4={"linear-gradient":UT,"-moz-linear-gradient":Eh,"-ms-linear-gradient":Eh,"-o-linear-gradient":Eh,"-webkit-linear-gradient":Eh,"radial-gradient":jT,"-moz-radial-gradient":_h,"-ms-radial-gradient":_h,"-o-radial-gradient":_h,"-webkit-radial-gradient":_h,"-webkit-gradient":IT},PT={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Rl(n)&&TT(n)}).map(function(n){return Vv.parse(t,n)})}},RT={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Rt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},DT={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return _i(e).map(function(r){return r.filter(jr)}).map(b4)}},OT={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return _i(e).map(function(r){return r.filter(Rt).map(function(n){return n.value}).join(" ")}).map(MT)}},MT=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Sl;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Sl||(Sl={}));var HT={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return _i(e).map(function(r){return r.filter(KT)})}},KT=function(t){return Rt(t)||jr(t)},N0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},VT=N0("top"),GT=N0("right"),zT=N0("bottom"),qT=N0("left"),S0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return b4(r.filter(jr))}}},$T=S0("top-left"),WT=S0("top-right"),JT=S0("bottom-right"),YT=S0("bottom-left"),E0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},XT=E0("top"),ZT=E0("right"),e8=E0("bottom"),t8=E0("left"),_0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Ju(r)?r.number:0}}},r8=_0("top"),n8=_0("right"),s8=_0("bottom"),i8=_0("left"),a8={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},o8={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},A8={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Rt).reduce(function(r,n){return r|l8(n.value)},0)}},l8=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},c8={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},u8={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Gf;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Gf||(Gf={}));var d8={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Gf.STRICT;case"normal":default:return Gf.NORMAL}}},h8={name:"line-height",initialValue:"normal",prefix:!1,type:4},Q2=function(t,e){return Rt(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:jr(t)?Gt(t,e):e},f8={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Vv.parse(t,e)}},p8={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},cw={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},F0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},g8=F0("top"),m8=F0("right"),w8=F0("bottom"),v8=F0("left"),x8={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Rt).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},y8={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},k0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},b8=k0("top"),B8=k0("right"),C8=k0("bottom"),N8=k0("left"),S8={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},E8={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},_8={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&lw(e[0],"none")?[]:_i(e).map(function(r){for(var n={color:Yi.TRANSPARENT,offsetX:nn,offsetY:nn,blur:nn},s=0,i=0;i<r.length;i++){var a=r[i];ro(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:n.blur=a,s++):n.color=Xa.parse(t,a)}return n})}},F8={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},k8={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=j8[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},U8=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},I8=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],A=e[13];return e[14],e[15],e.length===16?[r,n,s,i,a,A]:null},j8={matrix:U8,matrix3d:I8},T2={type:16,number:50,flags:Wu},L8=[T2,T2],Q8={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(jr);return r.length!==2?L8:[r[0],r[1]]}},T8={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},au;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(au||(au={}));var P8={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return au.BREAK_ALL;case"keep-all":return au.KEEP_ALL;case"normal":default:return au.NORMAL}}},R8={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Vl(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},R4={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},D8={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Vl(e)?e.number:1}},O8={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},M8={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Rt).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},H8={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},K8={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},V8={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Vl(e))return e.number;if(Rt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},G8={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Rt).map(function(r){return r.value})}},z8={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Dr=function(t,e){return(t&e)!==0},q8={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},$8={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(y4),i=0;i<s.length;i++){var a=s[i],A=s[i+1];if(a.type===20){var l=A&&Vl(A)?A.number:1;n.push({counter:a.value,increment:l})}}return n}},W8={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(y4),s=0;s<n.length;s++){var i=n[s],a=n[s+1];if(Rt(i)&&i.value!=="none"){var A=a&&Vl(a)?a.number:0;r.push({counter:i.value,reset:A})}}return r}},J8={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Ju).map(function(r){return R4.parse(t,r)})}},Y8={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(BT);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var a=s[i].value,A=s[i+1].value;n.push({open:a,close:A})}return n}},P2=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},X8={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&lw(e[0],"none")?[]:_i(e).map(function(r){for(var n={color:255,offsetX:nn,offsetY:nn,blur:nn,spread:nn,inset:!1},s=0,i=0;i<r.length;i++){var a=r[i];lw(a,"inset")?n.inset=!0:ro(a)?(s===0?n.offsetX=a:s===1?n.offsetY=a:s===2?n.blur=a:n.spread=a,s++):n.color=Xa.parse(t,a)}return n})}},Z8={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Rt).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},eP={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},tP={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Ju(e)?e.number:0}},rP=function(){function t(e,r){var n,s;this.animationDuration=Me(e,J8,r.animationDuration),this.backgroundClip=Me(e,ST,r.backgroundClip),this.backgroundColor=Me(e,ET,r.backgroundColor),this.backgroundImage=Me(e,PT,r.backgroundImage),this.backgroundOrigin=Me(e,RT,r.backgroundOrigin),this.backgroundPosition=Me(e,DT,r.backgroundPosition),this.backgroundRepeat=Me(e,OT,r.backgroundRepeat),this.backgroundSize=Me(e,HT,r.backgroundSize),this.borderTopColor=Me(e,VT,r.borderTopColor),this.borderRightColor=Me(e,GT,r.borderRightColor),this.borderBottomColor=Me(e,zT,r.borderBottomColor),this.borderLeftColor=Me(e,qT,r.borderLeftColor),this.borderTopLeftRadius=Me(e,$T,r.borderTopLeftRadius),this.borderTopRightRadius=Me(e,WT,r.borderTopRightRadius),this.borderBottomRightRadius=Me(e,JT,r.borderBottomRightRadius),this.borderBottomLeftRadius=Me(e,YT,r.borderBottomLeftRadius),this.borderTopStyle=Me(e,XT,r.borderTopStyle),this.borderRightStyle=Me(e,ZT,r.borderRightStyle),this.borderBottomStyle=Me(e,e8,r.borderBottomStyle),this.borderLeftStyle=Me(e,t8,r.borderLeftStyle),this.borderTopWidth=Me(e,r8,r.borderTopWidth),this.borderRightWidth=Me(e,n8,r.borderRightWidth),this.borderBottomWidth=Me(e,s8,r.borderBottomWidth),this.borderLeftWidth=Me(e,i8,r.borderLeftWidth),this.boxShadow=Me(e,X8,r.boxShadow),this.color=Me(e,a8,r.color),this.direction=Me(e,o8,r.direction),this.display=Me(e,A8,r.display),this.float=Me(e,c8,r.cssFloat),this.fontFamily=Me(e,H8,r.fontFamily),this.fontSize=Me(e,K8,r.fontSize),this.fontStyle=Me(e,z8,r.fontStyle),this.fontVariant=Me(e,G8,r.fontVariant),this.fontWeight=Me(e,V8,r.fontWeight),this.letterSpacing=Me(e,u8,r.letterSpacing),this.lineBreak=Me(e,d8,r.lineBreak),this.lineHeight=Me(e,h8,r.lineHeight),this.listStyleImage=Me(e,f8,r.listStyleImage),this.listStylePosition=Me(e,p8,r.listStylePosition),this.listStyleType=Me(e,cw,r.listStyleType),this.marginTop=Me(e,g8,r.marginTop),this.marginRight=Me(e,m8,r.marginRight),this.marginBottom=Me(e,w8,r.marginBottom),this.marginLeft=Me(e,v8,r.marginLeft),this.opacity=Me(e,D8,r.opacity);var i=Me(e,x8,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Me(e,y8,r.overflowWrap),this.paddingTop=Me(e,b8,r.paddingTop),this.paddingRight=Me(e,B8,r.paddingRight),this.paddingBottom=Me(e,C8,r.paddingBottom),this.paddingLeft=Me(e,N8,r.paddingLeft),this.paintOrder=Me(e,Z8,r.paintOrder),this.position=Me(e,E8,r.position),this.textAlign=Me(e,S8,r.textAlign),this.textDecorationColor=Me(e,O8,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Me(e,M8,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=Me(e,_8,r.textShadow),this.textTransform=Me(e,F8,r.textTransform),this.transform=Me(e,k8,r.transform),this.transformOrigin=Me(e,Q8,r.transformOrigin),this.visibility=Me(e,T8,r.visibility),this.webkitTextStrokeColor=Me(e,eP,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Me(e,tP,r.webkitTextStrokeWidth),this.wordBreak=Me(e,P8,r.wordBreak),this.zIndex=Me(e,R8,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Za(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Dr(this.display,4)||Dr(this.display,33554432)||Dr(this.display,268435456)||Dr(this.display,536870912)||Dr(this.display,67108864)||Dr(this.display,134217728)},t}(),nP=function(){function t(e,r){this.content=Me(e,q8,r.content),this.quotes=Me(e,Y8,r.quotes)}return t}(),R2=function(){function t(e,r){this.counterIncrement=Me(e,$8,r.counterIncrement),this.counterReset=Me(e,W8,r.counterReset)}return t}(),Me=function(t,e,r){var n=new v4,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new x4(n.read());switch(e.type){case 2:var a=i.parseComponentValue();return e.parse(t,Rt(a)?a.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return B0.parse(t,i.parseComponentValue());case"color":return Xa.parse(t,i.parseComponentValue());case"image":return Vv.parse(t,i.parseComponentValue());case"length":var A=i.parseComponentValue();return ro(A)?A:nn;case"length-percentage":var l=i.parseComponentValue();return jr(l)?l:nn;case"time":return R4.parse(t,i.parseComponentValue())}break}},sP="data-html2canvas-debug",iP=function(t){var e=t.getAttribute(sP);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},uw=function(t,e){var r=iP(t);return r===1||e===r},Fi=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,uw(r,3))debugger;this.styles=new rP(e,window.getComputedStyle(r,null)),fw(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=y0(this.context,r),uw(r,4)&&(this.flags|=16)}return t}(),aP="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",D2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Fh=0;Fh<D2.length;Fh++)Gc[D2.charCodeAt(Fh)]=Fh;var oP=function(t){var e=t.length*.75,r=t.length,n,s=0,i,a,A,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Gc[t.charCodeAt(n)],a=Gc[t.charCodeAt(n+1)],A=Gc[t.charCodeAt(n+2)],l=Gc[t.charCodeAt(n+3)],u[s++]=i<<2|a>>4,u[s++]=(a&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},AP=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},lP=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Go=5,Gv=11,dg=2,cP=Gv-Go,D4=65536>>Go,uP=1<<Go,hg=uP-1,dP=1024>>Go,hP=D4+dP,fP=hP,pP=32,gP=fP+pP,mP=65536>>Gv,wP=1<<cP,vP=wP-1,O2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},xP=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},yP=function(t,e){var r=oP(t),n=Array.isArray(r)?lP(r):new Uint32Array(r),s=Array.isArray(r)?AP(r):new Uint16Array(r),i=24,a=O2(s,i/2,n[4]/2),A=n[5]===2?O2(s,(i+n[4])/2):xP(n,Math.ceil((i+n[4])/4));return new bP(n[0],n[1],n[2],n[3],a,A)},bP=function(){function t(e,r,n,s,i,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Go],r=(r<<dg)+(e&hg),this.data[r];if(e<=65535)return r=this.index[D4+(e-55296>>Go)],r=(r<<dg)+(e&hg),this.data[r];if(e<this.highStart)return r=gP-mP+(e>>Gv),r=this.index[r],r+=e>>Go&vP,r=this.index[r],r=(r<<dg)+(e&hg),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),M2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var kh=0;kh<M2.length;kh++)BP[M2.charCodeAt(kh)]=kh;var CP=1,fg=2,pg=3,H2=4,K2=5,NP=7,V2=8,gg=9,mg=10,G2=11,z2=12,q2=13,$2=14,wg=15,SP=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},EP=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var a=t[s];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},_P=yP(aP),gs="",vg="",FP=function(t){return _P.get(t)},kP=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],a=e[r];if(i===fg&&a===pg)return gs;if(i===fg||i===pg||i===H2||a===fg||a===pg||a===H2)return vg;if(i===V2&&[V2,gg,G2,z2].indexOf(a)!==-1||(i===G2||i===gg)&&(a===gg||a===mg)||(i===z2||i===mg)&&a===mg||a===q2||a===K2||a===NP||i===CP)return gs;if(i===q2&&a===$2){for(;s===K2;)s=e[--n];if(s===$2)return gs}if(i===wg&&a===wg){for(var A=0;s===wg;)A++,s=e[--n];if(A%2===0)return gs}return vg},UP=function(t){var e=SP(t),r=e.length,n=0,s=0,i=e.map(FP);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=gs;n<r&&(a=kP(e,i,++n))===gs;);if(a!==gs||n===r){var A=EP.apply(null,e.slice(s,n));return s=n,{value:A,done:!1}}return{done:!0,value:null}}}},IP=function(t){for(var e=UP(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},jP=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},LP=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=b0(n.data).map(function(l){return yr(l)}),i=0,a={},A=s.every(function(l,c){r.setStart(n,i),r.setEnd(n,i+l.length);var u=r.getBoundingClientRect();i+=l.length;var h=u.x>a.x||u.y>a.y;return a=u,c===0?!0:h});return t.body.removeChild(e),A},QP=function(){return typeof new Image().crossOrigin<"u"},TP=function(){return typeof new XMLHttpRequest().responseType=="string"},PP=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},W2=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},RP=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var a=dw(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),J2(a).then(function(A){n.drawImage(A,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",W2(l)?J2(dw(r,r,0,0,c)):Promise.reject(!1)}).then(function(A){return n.drawImage(A,0,0),W2(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},dw=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),A=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",r.toString()),A.setAttributeNS(null,"y",n.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(s),a},J2=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},rn={get SUPPORT_RANGE_BOUNDS(){var t=jP(document);return Object.defineProperty(rn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=rn.SUPPORT_RANGE_BOUNDS&&LP(document);return Object.defineProperty(rn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=PP(document);return Object.defineProperty(rn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?RP(document):Promise.resolve(!1);return Object.defineProperty(rn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=QP();return Object.defineProperty(rn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=TP();return Object.defineProperty(rn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(rn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(rn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ou=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),DP=function(t,e,r,n){var s=HP(e,r),i=[],a=0;return s.forEach(function(A){if(r.textDecorationLine.length||A.trim().length>0)if(rn.SUPPORT_RANGE_BOUNDS){var l=Y2(n,a,A.length).getClientRects();if(l.length>1){var c=zv(A),u=0;c.forEach(function(p){i.push(new ou(p,ra.fromDOMRectList(t,Y2(n,u+a,p.length).getClientRects()))),u+=p.length})}else i.push(new ou(A,ra.fromDOMRectList(t,l)))}else{var h=n.splitText(A.length);i.push(new ou(A,OP(t,n))),n=h}else rn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(A.length));a+=A.length}),i},OP=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=y0(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return ra.EMPTY},Y2=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},zv=function(t){if(rn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return IP(t)},MP=function(t,e){if(rn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return VP(t,e)},HP=function(t,e){return e.letterSpacing!==0?zv(t):MP(t,e)},KP=[32,160,4961,65792,65793,4153,4241],VP=function(t,e){for(var r=mQ(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var a=s.value.slice(),A=b0(a),l="";A.forEach(function(c){KP.indexOf(c)===-1?l+=yr(c):(l.length&&n.push(l),n.push(yr(c)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},GP=function(){function t(e,r,n){this.text=zP(r.data,n.textTransform),this.textBounds=DP(e,this.text,n,r)}return t}(),zP=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(qP,$P);case 2:return t.toUpperCase();default:return t}},qP=/(^|\s|:|-|\(|\))([a-z])/g,$P=function(t,e,r){return t.length>0?e+r.toUpperCase():t},O4=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(Fi),M4=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(Fi),H4=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,a=y0(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(Fi),K4=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Fi),hw=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(Fi),WP=[{type:15,flags:0,unit:"px",number:3}],JP=[{type:16,flags:0,number:50}],YP=function(t){return t.width>t.height?new ra(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ra(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},XP=function(t){var e=t.type===ZP?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},zf="checkbox",qf="radio",ZP="password",X2=707406591,qv=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=XP(n),(s.type===zf||s.type===qf)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=YP(s.bounds)),s.type){case zf:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=WP;break;case qf:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=JP;break}return s}return e}(Fi),V4=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(Fi),G4=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Fi),z4=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=$4(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?iu(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Yi.TRANSPARENT,a=n.contentWindow.document.body?iu(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Yi.TRANSPARENT;s.backgroundColor=Za(i)?Za(a)?s.styles.backgroundColor:a:i}}catch{}return s}return e}(Fi),eR=["OL","UL","MENU"],sf=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,W4(s)&&s.data.trim().length>0)r.textNodes.push(new GP(t,s,r.styles));else if(pl(s))if(Z4(s)&&s.assignedNodes)s.assignedNodes().forEach(function(A){return sf(t,A,r,n)});else{var a=q4(t,s);a.styles.isVisible()&&(tR(s,a,n)?a.flags|=4:rR(a.styles)&&(a.flags|=2),eR.indexOf(s.tagName)!==-1&&(a.flags|=8),r.elements.push(a),s.slot,s.shadowRoot?sf(t,s.shadowRoot,a,n):!$f(s)&&!J4(s)&&!Wf(s)&&sf(t,s,a,n))}},q4=function(t,e){return pw(e)?new O4(t,e):Y4(e)?new M4(t,e):J4(e)?new H4(t,e):nR(e)?new K4(t,e):sR(e)?new hw(t,e):iR(e)?new qv(t,e):Wf(e)?new V4(t,e):$f(e)?new G4(t,e):X4(e)?new z4(t,e):new Fi(t,e)},$4=function(t,e){var r=q4(t,e);return r.flags|=4,sf(t,e,r,r),r},tR=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||$v(t)&&r.styles.isTransparent()},rR=function(t){return t.isPositioned()||t.isFloating()},W4=function(t){return t.nodeType===Node.TEXT_NODE},pl=function(t){return t.nodeType===Node.ELEMENT_NODE},fw=function(t){return pl(t)&&typeof t.style<"u"&&!af(t)},af=function(t){return typeof t.className=="object"},nR=function(t){return t.tagName==="LI"},sR=function(t){return t.tagName==="OL"},iR=function(t){return t.tagName==="INPUT"},aR=function(t){return t.tagName==="HTML"},J4=function(t){return t.tagName==="svg"},$v=function(t){return t.tagName==="BODY"},Y4=function(t){return t.tagName==="CANVAS"},Z2=function(t){return t.tagName==="VIDEO"},pw=function(t){return t.tagName==="IMG"},X4=function(t){return t.tagName==="IFRAME"},eb=function(t){return t.tagName==="STYLE"},oR=function(t){return t.tagName==="SCRIPT"},$f=function(t){return t.tagName==="TEXTAREA"},Wf=function(t){return t.tagName==="SELECT"},Z4=function(t){return t.tagName==="SLOT"},tb=function(t){return t.tagName.indexOf("-")>0},AR=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(A){var l=r.counters[A.counter];l&&A.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var a=[];return i&&s.forEach(function(A){var l=r.counters[A.counter];a.push(A.counter),l||(l=r.counters[A.counter]=[]),l.push(A.reset)}),a},t}(),rb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},nb={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},lR={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},cR={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},HA=function(t,e,r,n,s,i){return t<e||t>r?Du(t,s,i.length>0):n.integers.reduce(function(a,A,l){for(;t>=A;)t-=A,a+=n.values[l];return a},"")+i},eN=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},vr=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(eN(Math.abs(t),i,n,function(a){return yr(Math.floor(a%i)+e)})+s)},_o=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return eN(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},YA=1,Sa=2,Ea=4,zc=8,Ki=function(t,e,r,n,s,i){if(t<-9999||t>9999)return Du(t,4,s.length>0);var a=Math.abs(t),A=s;if(a===0)return e[0]+A;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&Dr(i,YA)&&A!==""?A=e[c]+A:c>1||c===1&&l===0||c===1&&l===1&&Dr(i,Sa)||c===1&&l===1&&Dr(i,Ea)&&t>100||c===1&&l>1&&Dr(i,zc)?A=e[c]+(l>0?r[l-1]:"")+A:c===1&&l>0&&(A=r[l-1]+A),a=Math.floor(a/10)}return(t<0?n:"")+A},sb="",ib="",ab="",xg="",Du=function(t,e,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",a=r?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var A=vr(t,48,57,!0,n);return A.length<4?"0"+A:A;case 4:return _o(t,"",s);case 6:return HA(t,1,3999,rb,3,n).toLowerCase();case 7:return HA(t,1,3999,rb,3,n);case 8:return vr(t,945,969,!1,n);case 9:return vr(t,97,122,!1,n);case 10:return vr(t,65,90,!1,n);case 11:return vr(t,1632,1641,!0,n);case 12:case 49:return HA(t,1,9999,nb,3,n);case 35:return HA(t,1,9999,nb,3,n).toLowerCase();case 13:return vr(t,2534,2543,!0,n);case 14:case 30:return vr(t,6112,6121,!0,n);case 15:return _o(t,"",s);case 16:return _o(t,"",s);case 17:case 48:return Ki(t,"",sb,"",s,Sa|Ea|zc);case 47:return Ki(t,"",ib,"",s,YA|Sa|Ea|zc);case 42:return Ki(t,"",sb,"",s,Sa|Ea|zc);case 41:return Ki(t,"",ib,"",s,YA|Sa|Ea|zc);case 26:return Ki(t,"","",ab,s,0);case 25:return Ki(t,"","",ab,s,YA|Sa|Ea);case 31:return Ki(t,"","",xg,i,YA|Sa|Ea);case 33:return Ki(t,"","",xg,i,0);case 32:return Ki(t,"","",xg,i,YA|Sa|Ea);case 18:return vr(t,2406,2415,!0,n);case 20:return HA(t,1,19999,cR,3,n);case 21:return vr(t,2790,2799,!0,n);case 22:return vr(t,2662,2671,!0,n);case 22:return HA(t,1,10999,lR,3,n);case 23:return _o(t,"");case 24:return _o(t,"");case 27:return vr(t,3302,3311,!0,n);case 28:return _o(t,"",s);case 29:return _o(t,"",s);case 34:return vr(t,3792,3801,!0,n);case 37:return vr(t,6160,6169,!0,n);case 38:return vr(t,4160,4169,!0,n);case 39:return vr(t,2918,2927,!0,n);case 40:return vr(t,1776,1785,!0,n);case 43:return vr(t,3046,3055,!0,n);case 44:return vr(t,3174,3183,!0,n);case 45:return vr(t,3664,3673,!0,n);case 46:return vr(t,3872,3881,!0,n);case 3:default:return vr(t,48,57,!0,n)}},tN="data-html2canvas-ignore",ob=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new AR,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=uR(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=s.contentWindow,l=A.document,c=fR(s).then(function(){return Cn(n,void 0,void 0,function(){var u,h;return gn(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(wR),A&&(A.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==r.top||A.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-r.left,A.scrollY-r.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,hR(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,h)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(gR(document.doctype)+"<html></html>"),mR(this.referenceElement.ownerDocument,i,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(uw(e,2))debugger;if(Y4(e))return this.createCanvasClone(e);if(Z2(e))return this.createVideoClone(e);if(eb(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return pw(r)&&(pw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),tb(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return yg(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),a=s.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var A=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!pl(r)||!oR(r)&&!r.hasAttribute(tN)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!pl(r)||!eb(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(pl(i)&&Z4(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(A){return s.appendChildNode(r,A,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(W4(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&pl(e)&&(fw(e)||af(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),A=n.getComputedStyle(e,":after");this.referenceElement===e&&fw(s)&&(this.clonedReferenceElement=s),$v(s)&&yR(s);var l=this.counters.parse(new R2(this.context,i)),c=this.resolvePseudoContent(e,s,a,Au.BEFORE);tb(e)&&(r=!0),Z2(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,A,Au.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||af(e))&&!X4(e)||r)&&yg(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),($f(e)||Wf(e))&&($f(s)||Wf(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var a=n.content,A=r.ownerDocument;if(!(!A||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new R2(this.context,n));var l=new nP(this.context,n),c=A.createElement("html2canvaspseudoelement");yg(n,c),l.content.forEach(function(h){if(h.type===0)c.appendChild(A.createTextNode(h.value));else if(h.type===22){var p=A.createElement("img");p.src=h.value,p.style.opacity="1",c.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var f=h.values.filter(Rt);f.length&&c.appendChild(A.createTextNode(e.getAttribute(f[0].value)||""))}else if(h.name==="counter"){var m=h.values.filter(Rl),w=m[0],B=m[1];if(w&&Rt(w)){var x=i.counters.getCounterValue(w.value),y=B&&Rt(B)?cw.parse(i.context,B.value):3;c.appendChild(A.createTextNode(Du(x,y,!1)))}}else if(h.name==="counters"){var C=h.values.filter(Rl),w=C[0],k=C[1],B=C[2];if(w&&Rt(w)){var R=i.counters.getCounterValues(w.value),P=B&&Rt(B)?cw.parse(i.context,B.value):3,M=k&&k.type===0?k.value:"",U=R.map(function(L){return Du(L,P,!1)}).join(M);c.appendChild(A.createTextNode(U))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(A.createTextNode(P2(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode(P2(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(h.value))}}),c.className=gw+" "+mw;var u=s===Au.BEFORE?" "+gw:" "+mw;return af(r)?r.className.baseValue+=u:r.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Au;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Au||(Au={}));var uR=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(tN,"true"),t.body.appendChild(r),r},dR=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},hR=function(t){return Promise.all([].slice.call(t.images,0).map(dR))},fR=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},pR=["all","d","content"],yg=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);pR.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},gR=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},mR=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},wR=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},vR=":before",xR=":after",gw="___html2canvas___pseudoelement_before",mw="___html2canvas___pseudoelement_after",Ab=`{
    content: "" !important;
    display: none !important;
}`,yR=function(t){bR(t,"."+gw+vR+Ab+`
         .`+mw+xR+Ab)},bR=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},rN=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),BR=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Bg(e)||ER(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Cn(this,void 0,void 0,function(){var r,n,s,i,a=this;return gn(this,function(A){switch(A.label){case 0:return r=rN.isSameOrigin(e),n=!bg(e)&&this._options.useCORS===!0&&rn.SUPPORT_CORS_IMAGES&&!r,s=!bg(e)&&!r&&!Bg(e)&&typeof this._options.proxy=="string"&&rn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!bg(e)&&!Bg(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(_R(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,a){var A=rn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")i(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(p){return a(p)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+s)}}l.send()})},t}(),CR=/^data:image\/svg\+xml/i,NR=/^data:image\/.*;base64,/i,SR=/^data:image\/.*/i,ER=function(t){return rn.SUPPORT_SVG_DRAWING||!FR(t)},bg=function(t){return SR.test(t)},_R=function(t){return NR.test(t)},Bg=function(t){return t.substr(0,4)==="blob"},FR=function(t){return t.substr(-3).toLowerCase()==="svg"||CR.test(t)},Re=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),KA=function(t,e,r){return new Re(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Uh=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=KA(this.start,this.startControl,e),s=KA(this.startControl,this.endControl,e),i=KA(this.endControl,this.end,e),a=KA(n,s,e),A=KA(s,i,e),l=KA(a,A,e);return r?new t(this.start,n,a,l):new t(l,A,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),vs=function(t){return t.type===1},kR=function(){function t(e){var r=e.styles,n=e.bounds,s=Vc(r.borderTopLeftRadius,n.width,n.height),i=s[0],a=s[1],A=Vc(r.borderTopRightRadius,n.width,n.height),l=A[0],c=A[1],u=Vc(r.borderBottomRightRadius,n.width,n.height),h=u[0],p=u[1],f=Vc(r.borderBottomLeftRadius,n.width,n.height),m=f[0],w=f[1],B=[];B.push((i+l)/n.width),B.push((m+h)/n.width),B.push((a+w)/n.height),B.push((c+p)/n.height);var x=Math.max.apply(Math,B);x>1&&(i/=x,a/=x,l/=x,c/=x,h/=x,p/=x,m/=x,w/=x);var y=n.width-l,C=n.height-p,k=n.width-h,R=n.height-w,P=r.borderTopWidth,M=r.borderRightWidth,U=r.borderBottomWidth,H=r.borderLeftWidth,$=Gt(r.paddingTop,e.bounds.width),L=Gt(r.paddingRight,e.bounds.width),T=Gt(r.paddingBottom,e.bounds.width),W=Gt(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?er(n.left+H/3,n.top+P/3,i-H/3,a-P/3,kt.TOP_LEFT):new Re(n.left+H/3,n.top+P/3),this.topRightBorderDoubleOuterBox=i>0||a>0?er(n.left+y,n.top+P/3,l-M/3,c-P/3,kt.TOP_RIGHT):new Re(n.left+n.width-M/3,n.top+P/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?er(n.left+k,n.top+C,h-M/3,p-U/3,kt.BOTTOM_RIGHT):new Re(n.left+n.width-M/3,n.top+n.height-U/3),this.bottomLeftBorderDoubleOuterBox=m>0||w>0?er(n.left+H/3,n.top+R,m-H/3,w-U/3,kt.BOTTOM_LEFT):new Re(n.left+H/3,n.top+n.height-U/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?er(n.left+H*2/3,n.top+P*2/3,i-H*2/3,a-P*2/3,kt.TOP_LEFT):new Re(n.left+H*2/3,n.top+P*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?er(n.left+y,n.top+P*2/3,l-M*2/3,c-P*2/3,kt.TOP_RIGHT):new Re(n.left+n.width-M*2/3,n.top+P*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?er(n.left+k,n.top+C,h-M*2/3,p-U*2/3,kt.BOTTOM_RIGHT):new Re(n.left+n.width-M*2/3,n.top+n.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||w>0?er(n.left+H*2/3,n.top+R,m-H*2/3,w-U*2/3,kt.BOTTOM_LEFT):new Re(n.left+H*2/3,n.top+n.height-U*2/3),this.topLeftBorderStroke=i>0||a>0?er(n.left+H/2,n.top+P/2,i-H/2,a-P/2,kt.TOP_LEFT):new Re(n.left+H/2,n.top+P/2),this.topRightBorderStroke=i>0||a>0?er(n.left+y,n.top+P/2,l-M/2,c-P/2,kt.TOP_RIGHT):new Re(n.left+n.width-M/2,n.top+P/2),this.bottomRightBorderStroke=h>0||p>0?er(n.left+k,n.top+C,h-M/2,p-U/2,kt.BOTTOM_RIGHT):new Re(n.left+n.width-M/2,n.top+n.height-U/2),this.bottomLeftBorderStroke=m>0||w>0?er(n.left+H/2,n.top+R,m-H/2,w-U/2,kt.BOTTOM_LEFT):new Re(n.left+H/2,n.top+n.height-U/2),this.topLeftBorderBox=i>0||a>0?er(n.left,n.top,i,a,kt.TOP_LEFT):new Re(n.left,n.top),this.topRightBorderBox=l>0||c>0?er(n.left+y,n.top,l,c,kt.TOP_RIGHT):new Re(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||p>0?er(n.left+k,n.top+C,h,p,kt.BOTTOM_RIGHT):new Re(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||w>0?er(n.left,n.top+R,m,w,kt.BOTTOM_LEFT):new Re(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?er(n.left+H,n.top+P,Math.max(0,i-H),Math.max(0,a-P),kt.TOP_LEFT):new Re(n.left+H,n.top+P),this.topRightPaddingBox=l>0||c>0?er(n.left+Math.min(y,n.width-M),n.top+P,y>n.width+M?0:Math.max(0,l-M),Math.max(0,c-P),kt.TOP_RIGHT):new Re(n.left+n.width-M,n.top+P),this.bottomRightPaddingBox=h>0||p>0?er(n.left+Math.min(k,n.width-H),n.top+Math.min(C,n.height-U),Math.max(0,h-M),Math.max(0,p-U),kt.BOTTOM_RIGHT):new Re(n.left+n.width-M,n.top+n.height-U),this.bottomLeftPaddingBox=m>0||w>0?er(n.left+H,n.top+Math.min(R,n.height-U),Math.max(0,m-H),Math.max(0,w-U),kt.BOTTOM_LEFT):new Re(n.left+H,n.top+n.height-U),this.topLeftContentBox=i>0||a>0?er(n.left+H+W,n.top+P+$,Math.max(0,i-(H+W)),Math.max(0,a-(P+$)),kt.TOP_LEFT):new Re(n.left+H+W,n.top+P+$),this.topRightContentBox=l>0||c>0?er(n.left+Math.min(y,n.width+H+W),n.top+P+$,y>n.width+H+W?0:l-H+W,c-(P+$),kt.TOP_RIGHT):new Re(n.left+n.width-(M+L),n.top+P+$),this.bottomRightContentBox=h>0||p>0?er(n.left+Math.min(k,n.width-(H+W)),n.top+Math.min(C,n.height+P+$),Math.max(0,h-(M+L)),p-(U+T),kt.BOTTOM_RIGHT):new Re(n.left+n.width-(M+L),n.top+n.height-(U+T)),this.bottomLeftContentBox=m>0||w>0?er(n.left+H+W,n.top+R,Math.max(0,m-(H+W)),w-(U+T),kt.BOTTOM_LEFT):new Re(n.left+H+W,n.top+n.height-(U+T))}return t}(),kt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(kt||(kt={}));var er=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),a=r*i,A=n*i,l=t+r,c=e+n;switch(s){case kt.TOP_LEFT:return new Uh(new Re(t,c),new Re(t,c-A),new Re(l-a,e),new Re(l,e));case kt.TOP_RIGHT:return new Uh(new Re(t,e),new Re(t+a,e),new Re(l,c-A),new Re(l,c));case kt.BOTTOM_RIGHT:return new Uh(new Re(l,e),new Re(l,e+A),new Re(t+a,c),new Re(t,c));case kt.BOTTOM_LEFT:default:return new Uh(new Re(l,c),new Re(l-a,c),new Re(t,e+A),new Re(t,e))}},Jf=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},UR=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Yf=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},IR=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Ih=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),jR=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),LR=function(t){return t.type===0},nN=function(t){return t.type===1},QR=function(t){return t.type===2},lb=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},TR=function(t,e,r,n,s){return t.map(function(i,a){switch(a){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},sN=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),iN=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new kR(this.container),this.container.styles.opacity<1&&this.effects.push(new jR(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new IR(n,s,i))}if(this.container.styles.overflowX!==0){var a=Jf(this.curves),A=Yf(this.curves);lb(a,A)?this.effects.push(new Ih(a,6)):(this.effects.push(new Ih(a,2)),this.effects.push(new Ih(A,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!nN(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=Jf(n.curves),A=Yf(n.curves);lb(a,A)||s.unshift(new Ih(A,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return Dr(l.target,e)})},t}(),ww=function(t,e,r,n){t.container.elements.forEach(function(s){var i=Dr(s.flags,4),a=Dr(s.flags,2),A=new iN(s,t);Dr(s.styles.display,2048)&&n.push(A);var l=Dr(s.flags,8)?[]:n;if(i||a){var c=i||s.styles.isPositioned()?r:e,u=new sN(A);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var p=0;c.negativeZIndex.some(function(m,w){return h>m.element.container.styles.zIndex.order?(p=w,!1):p>0}),c.negativeZIndex.splice(p,0,u)}else if(h>0){var f=0;c.positiveZIndex.some(function(m,w){return h>=m.element.container.styles.zIndex.order?(f=w+1,!1):f>0}),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);ww(A,u,i?u:r,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(A):e.nonInlineLevel.push(A),ww(A,e,r,l);Dr(s.flags,8)&&aN(s,l)})},aN=function(t,e){for(var r=t instanceof hw?t.start:1,n=t instanceof hw?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof K4&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Du(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},PR=function(t){var e=new iN(t,null),r=new sN(e),n=[];return ww(e,r,r,n),aN(e.container,n),r},cb=function(t,e){switch(e){case 0:return Cs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Cs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Cs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Cs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},RR=function(t,e){switch(e){case 0:return Cs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Cs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Cs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Cs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},DR=function(t,e){switch(e){case 0:return Cs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Cs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Cs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Cs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},OR=function(t,e){switch(e){case 0:return jh(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return jh(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return jh(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return jh(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},jh=function(t,e){var r=[];return vs(t)?r.push(t.subdivide(.5,!1)):r.push(t),vs(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Cs=function(t,e,r,n){var s=[];return vs(t)?s.push(t.subdivide(.5,!1)):s.push(t),vs(r)?s.push(r.subdivide(.5,!0)):s.push(r),vs(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),vs(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},oN=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Xf=function(t){var e=t.styles,r=t.bounds,n=Gt(e.paddingLeft,r.width),s=Gt(e.paddingRight,r.width),i=Gt(e.paddingTop,r.width),a=Gt(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+a))},MR=function(t,e){return t===0?e.bounds:t===2?Xf(e):oN(e)},HR=function(t,e){return t===0?e.bounds:t===2?Xf(e):oN(e)},Cg=function(t,e,r){var n=MR(XA(t.styles.backgroundOrigin,e),t),s=HR(XA(t.styles.backgroundClip,e),t),i=KR(XA(t.styles.backgroundSize,e),r,n),a=i[0],A=i[1],l=Vc(XA(t.styles.backgroundPosition,e),n.width-a,n.height-A),c=VR(XA(t.styles.backgroundRepeat,e),l,i,n,s),u=Math.round(n.left+l[0]),h=Math.round(n.top+l[1]);return[c,u,h,a,A]},VA=function(t){return Rt(t)&&t.value===Sl.AUTO},Lh=function(t){return typeof t=="number"},KR=function(t,e,r){var n=e[0],s=e[1],i=e[2],a=t[0],A=t[1];if(!a)return[0,0];if(jr(a)&&A&&jr(A))return[Gt(a,r.width),Gt(A,r.height)];var l=Lh(i);if(Rt(a)&&(a.value===Sl.CONTAIN||a.value===Sl.COVER)){if(Lh(i)){var c=r.width/r.height;return c<i!=(a.value===Sl.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=Lh(n),h=Lh(s),p=u||h;if(VA(a)&&(!A||VA(A))){if(u&&h)return[n,s];if(!l&&!p)return[r.width,r.height];if(p&&l){var f=u?n:s*i,m=h?s:n/i;return[f,m]}var w=u?n:r.width,B=h?s:r.height;return[w,B]}if(l){var x=0,y=0;return jr(a)?x=Gt(a,r.width):jr(A)&&(y=Gt(A,r.height)),VA(a)?x=y*i:(!A||VA(A))&&(y=x/i),[x,y]}var C=null,k=null;if(jr(a)?C=Gt(a,r.width):A&&jr(A)&&(k=Gt(A,r.height)),C!==null&&(!A||VA(A))&&(k=u&&h?C/n*s:r.height),k!==null&&VA(a)&&(C=u&&h?k/s*n:r.width),C!==null&&k!==null)return[C,k];throw new Error("Unable to calculate background-size for element")},XA=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},VR=function(t,e,r,n,s){var i=e[0],a=e[1],A=r[0],l=r[1];switch(t){case 2:return[new Re(Math.round(n.left),Math.round(n.top+a)),new Re(Math.round(n.left+n.width),Math.round(n.top+a)),new Re(Math.round(n.left+n.width),Math.round(l+n.top+a)),new Re(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new Re(Math.round(n.left+i),Math.round(n.top)),new Re(Math.round(n.left+i+A),Math.round(n.top)),new Re(Math.round(n.left+i+A),Math.round(n.height+n.top)),new Re(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Re(Math.round(n.left+i),Math.round(n.top+a)),new Re(Math.round(n.left+i+A),Math.round(n.top+a)),new Re(Math.round(n.left+i+A),Math.round(n.top+a+l)),new Re(Math.round(n.left+i),Math.round(n.top+a+l))];default:return[new Re(Math.round(s.left),Math.round(s.top)),new Re(Math.round(s.left+s.width),Math.round(s.top)),new Re(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Re(Math.round(s.left),Math.round(s.height+s.top))]}},GR="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ub="Hidden Text",zR=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),s.src=GR,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(ub)),n.appendChild(i),n.appendChild(s);var A=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(ub)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:A,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),AN=function(){function t(e,r){this.context=e,this.options=r}return t}(),qR=1e4,$R=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new zR(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),QR(r)&&(this.ctx.globalAlpha=r.opacity),LR(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),nN(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Cn(this,void 0,void 0,function(){var n;return gn(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Cn(this,void 0,void 0,function(){return gn(this,function(n){switch(n.label){case 0:if(Dr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var a=zv(r.text);a.reduce(function(A,l){return i.ctx.fillText(l,A,r.bounds.top+s),A+i.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),s=ZR(r.fontFamily).join(", "),i=Ju(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return Cn(this,void 0,void 0,function(){var s,i,a,A,l,c,u,h,p=this;return gn(this,function(f){return s=this.createFontStyle(n),i=s[0],a=s[1],A=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,A),c=l.baseline,u=l.middle,h=n.paintOrder,r.textBounds.forEach(function(m){h.forEach(function(w){switch(w){case 0:p.ctx.fillStyle=Vr(n.color),p.renderTextWithLetterSpacing(m,n.letterSpacing,c);var B=n.textShadow;B.length&&m.text.trim().length&&(B.slice(0).reverse().forEach(function(x){p.ctx.shadowColor=Vr(x.color),p.ctx.shadowOffsetX=x.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=x.offsetY.number*p.options.scale,p.ctx.shadowBlur=x.blur.number,p.renderTextWithLetterSpacing(m,n.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=Vr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(x){switch(x){case 1:p.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:p.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:p.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(p.ctx.strokeStyle=Vr(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Xf(r),a=Yf(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Cn(this,void 0,void 0,function(){var n,s,i,a,A,l,y,y,c,u,h,p,k,f,m,R,w,B,x,y,C,k,R;return gn(this,function(P){switch(P.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,a=0,A=n.textNodes,P.label=1;case 1:return a<A.length?(l=A[a],[4,this.renderTextNode(l,i)]):[3,4];case 2:P.sent(),P.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof O4))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=P.sent(),this.renderReplacedElement(n,s,y),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof M4&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof H4))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=P.sent(),this.renderReplacedElement(n,s,y),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof z4&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=P.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),P.label=14;case 14:if(n instanceof qv&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===zf?n.checked&&(this.ctx.save(),this.path([new Re(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Re(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Re(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Re(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Re(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Re(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Re(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=Vr(X2),this.ctx.fill(),this.ctx.restore()):n.type===qf&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Vr(X2),this.ctx.fill(),this.ctx.restore())),WR(n)&&n.value.length){switch(p=this.createFontStyle(i),k=p[0],f=p[1],m=this.fontMetrics.getMetrics(k,f).baseline,this.ctx.font=k,this.ctx.fillStyle=Vr(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=YR(n.styles.textAlign),R=Xf(n),w=0,n.styles.textAlign){case 1:w+=R.width/2;break;case 2:w+=R.width;break}B=R.add(w,0,0,-R.height/2+1),this.ctx.save(),this.path([new Re(R.left,R.top),new Re(R.left+R.width,R.top),new Re(R.left+R.width,R.top+R.height),new Re(R.left,R.top+R.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ou(n.value,B),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Dr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(x=n.styles.listStyleImage,x.type!==0)return[3,18];y=void 0,C=x.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return y=P.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(k=this.createFontStyle(i)[0],this.ctx.font=k,this.ctx.fillStyle=Vr(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",R=new ra(n.bounds.left,n.bounds.top+Gt(n.styles.paddingTop,n.bounds.width),n.bounds.width,Q2(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ou(r.listValue,R),i.letterSpacing,Q2(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Cn(this,void 0,void 0,function(){var n,s,x,i,a,x,A,l,x,c,u,x,h,p,x,f,m,x,w,B,x;return gn(this,function(y){switch(y.label){case 0:if(Dr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,s=r.negativeZIndex,y.label=2;case 2:return n<s.length?(x=s[n],[4,this.renderStack(x)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,a=r.nonInlineLevel,y.label=7;case 7:return i<a.length?(x=a[i],[4,this.renderNode(x)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:A=0,l=r.nonPositionedFloats,y.label=11;case 11:return A<l.length?(x=l[A],[4,this.renderStack(x)]):[3,14];case 12:y.sent(),y.label=13;case 13:return A++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return c<u.length?(x=u[c],[4,this.renderStack(x)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:h=0,p=r.inlineLevel,y.label=19;case 19:return h<p.length?(x=p[h],[4,this.renderNode(x)]):[3,22];case 20:y.sent(),y.label=21;case 21:return h++,[3,19];case 22:f=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return f<m.length?(x=m[f],[4,this.renderStack(x)]):[3,26];case 24:y.sent(),y.label=25;case 25:return f++,[3,23];case 26:w=0,B=r.positiveZIndex,y.label=27;case 27:return w<B.length?(x=B[w],[4,this.renderStack(x)]):[3,30];case 28:y.sent(),y.label=29;case 29:return w++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var a=vs(s)?s.start:s;i===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),vs(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,A=a.createElement("canvas");A.width=Math.max(1,n),A.height=Math.max(1,s);var l=A.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),A},e.prototype.renderBackgroundImage=function(r){return Cn(this,void 0,void 0,function(){var n,s,i,a,A,l;return gn(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(u){var h,p,f,$,ie,Z,W,J,U,m,$,ie,Z,W,J,w,B,x,y,C,k,R,P,M,U,H,$,L,T,W,J,le,ie,Z,q,z,se,ue,_,I,V,Y;return gn(this,function(ee){switch(ee.label){case 0:if(u.type!==0)return[3,5];h=void 0,p=u.url,ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return h=ee.sent(),[3,4];case 3:return ee.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(f=Cg(r,n,[h.width,h.height,h.width/h.height]),$=f[0],ie=f[1],Z=f[2],W=f[3],J=f[4],U=i.ctx.createPattern(i.resizeImage(h,W,J),"repeat"),i.renderRepeat($,U,ie,Z)),[3,6];case 5:LT(u)?(m=Cg(r,n,[null,null,null]),$=m[0],ie=m[1],Z=m[2],W=m[3],J=m[4],w=FT(u.angle,W,J),B=w[0],x=w[1],y=w[2],C=w[3],k=w[4],R=document.createElement("canvas"),R.width=W,R.height=J,P=R.getContext("2d"),M=P.createLinearGradient(x,C,y,k),j2(u.stops,B).forEach(function(re){return M.addColorStop(re.stop,Vr(re.color))}),P.fillStyle=M,P.fillRect(0,0,W,J),W>0&&J>0&&(U=i.ctx.createPattern(R,"repeat"),i.renderRepeat($,U,ie,Z))):QT(u)&&(H=Cg(r,n,[null,null,null]),$=H[0],L=H[1],T=H[2],W=H[3],J=H[4],le=u.position.length===0?[Kv]:u.position,ie=Gt(le[0],W),Z=Gt(le[le.length-1],J),q=kT(u,ie,Z,W,J),z=q[0],se=q[1],z>0&&se>0&&(ue=i.ctx.createRadialGradient(L+ie,T+Z,0,L+ie,T+Z,z),j2(u.stops,z*2).forEach(function(re){return ue.addColorStop(re.stop,Vr(re.color))}),i.path($),i.ctx.fillStyle=ue,z!==se?(_=r.bounds.left+.5*r.bounds.width,I=r.bounds.top+.5*r.bounds.height,V=se/z,Y=1/V,i.ctx.save(),i.ctx.translate(_,I),i.ctx.transform(1,0,0,V,0,0),i.ctx.translate(-_,-I),i.ctx.fillRect(L,Y*(T-I)+I,W,J*Y),i.ctx.restore()):i.ctx.fill())),ee.label=6;case 6:return n--,[2]}})},i=this,a=0,A=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<A.length?(l=A[a],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return Cn(this,void 0,void 0,function(){return gn(this,function(i){return this.path(cb(s,n)),this.ctx.fillStyle=Vr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return Cn(this,void 0,void 0,function(){var a,A;return gn(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return a=RR(i,s),this.path(a),this.ctx.fillStyle=Vr(r),this.ctx.fill(),A=DR(i,s),this.path(A),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Cn(this,void 0,void 0,function(){var n,s,i,a,A,l,c,u,h=this;return gn(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!Za(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=JR(XA(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Za(n.backgroundColor)||(this.ctx.fillStyle=Vr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){h.ctx.save();var m=Jf(r.curves),w=f.inset?0:qR,B=TR(m,-w+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(h.path(m),h.ctx.clip(),h.mask(B)):(h.mask(m),h.ctx.clip(),h.path(B)),h.ctx.shadowOffsetX=f.offsetX.number+w,h.ctx.shadowOffsetY=f.offsetY.number,h.ctx.shadowColor=Vr(f.color),h.ctx.shadowBlur=f.blur.number,h.ctx.fillStyle=f.inset?Vr(f.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:A=0,l=0,c=i,p.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!Za(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,A,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,A,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,A,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,A,r.curves)];case 10:p.sent(),p.label=11;case 11:A++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,a){return Cn(this,void 0,void 0,function(){var A,l,c,u,h,p,f,m,w,B,x,y,C,k,R,P,R,P;return gn(this,function(M){return this.ctx.save(),A=OR(i,s),l=cb(i,s),a===2&&(this.path(l),this.ctx.clip()),vs(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),vs(l[1])?(h=l[1].end.x,p=l[1].end.y):(h=l[1].x,p=l[1].y),s===0||s===2?f=Math.abs(c-h):f=Math.abs(u-p),this.ctx.beginPath(),a===3?this.formatPath(A):this.formatPath(l.slice(0,2)),m=n<3?n*3:n*2,w=n<3?n*2:n,a===3&&(m=n,w=n),B=!0,f<=m*2?B=!1:f<=m*2+w?(x=f/(2*m+w),m*=x,w*=x):(y=Math.floor((f+w)/(m+w)),C=(f-y*m)/(y-1),k=(f-(y+1)*m)/y,w=k<=0||Math.abs(w-C)<Math.abs(w-k)?C:k),B&&(a===3?this.ctx.setLineDash([0,m+w]):this.ctx.setLineDash([m,w])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Vr(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(vs(l[0])&&(R=l[3],P=l[0],this.ctx.beginPath(),this.formatPath([new Re(R.end.x,R.end.y),new Re(P.start.x,P.start.y)]),this.ctx.stroke()),vs(l[1])&&(R=l[1],P=l[2],this.ctx.beginPath(),this.formatPath([new Re(R.end.x,R.end.y),new Re(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Cn(this,void 0,void 0,function(){var n;return gn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Vr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=PR(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(AN),WR=function(t){return t instanceof G4||t instanceof V4?!0:t instanceof qv&&t.type!==qf&&t.type!==zf},JR=function(t,e){switch(t){case 0:return Jf(e);case 2:return UR(e);case 1:default:return Yf(e)}},YR=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},XR=["-apple-system","system-ui"],ZR=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return XR.indexOf(e)===-1}):t},e7=function(t){si(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return Cn(this,void 0,void 0,function(){var n,s;return gn(this,function(i){switch(i.label){case 0:return n=dw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,t7(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Vr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(AN),t7=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},r7=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,dh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,dh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,dh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,dh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),n7=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new r7({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new BR(this,e)}return t.instanceCount=1,t}(),lN=function(t,e){return e===void 0&&(e={}),s7(t,e)};typeof window<"u"&&rN.setContext(window);var s7=function(t,e){return Cn(void 0,void 0,void 0,function(){var r,n,s,i,a,A,l,c,u,h,p,f,m,w,B,x,y,C,k,R,M,P,M,U,H,$,L,T,W,J,le,ie,Z,q,z,se,ue,_,I,V;return gn(this,function(Y){switch(Y.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(U=e.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(H=e.imageTimeout)!==null&&H!==void 0?H:15e3,proxy:e.proxy,useCORS:($=e.useCORS)!==null&&$!==void 0?$:!1},i=Ym({logging:(L=e.logging)!==null&&L!==void 0?L:!0,cache:e.cache},s),a={windowWidth:(T=e.windowWidth)!==null&&T!==void 0?T:n.innerWidth,windowHeight:(W=e.windowHeight)!==null&&W!==void 0?W:n.innerHeight,scrollX:(J=e.scrollX)!==null&&J!==void 0?J:n.pageXOffset,scrollY:(le=e.scrollY)!==null&&le!==void 0?le:n.pageYOffset},A=new ra(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new n7(i,A),c=(ie=e.foreignObjectRendering)!==null&&ie!==void 0?ie:!1,u={allowTaint:(Z=e.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),h=new ob(l,t,u),p=h.clonedReferenceElement,p?[4,h.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=Y.sent(),m=$v(p)||aR(p)?T6(p.ownerDocument):y0(l,p),w=m.width,B=m.height,x=m.left,y=m.top,C=i7(l,p,e.backgroundColor),k={canvas:e.canvas,backgroundColor:C,scale:(z=(q=e.scale)!==null&&q!==void 0?q:n.devicePixelRatio)!==null&&z!==void 0?z:1,x:((se=e.x)!==null&&se!==void 0?se:0)+x,y:((ue=e.y)!==null&&ue!==void 0?ue:0)+y,width:(_=e.width)!==null&&_!==void 0?_:Math.ceil(w),height:(I=e.height)!==null&&I!==void 0?I:Math.ceil(B)},c?(l.logger.debug("Document cloned, using foreign object rendering"),M=new e7(l,k),[4,M.render(p)]):[3,3];case 2:return R=Y.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+y+" with size "+w+"x"+B+" using computed rendering"),l.logger.debug("Starting DOM parsing"),P=$4(l,p),C===P.styles.backgroundColor&&(P.styles.backgroundColor=Yi.TRANSPARENT),l.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),M=new $R(l,k),[4,M.render(P)];case 4:R=Y.sent(),Y.label=5;case 5:return(!((V=e.removeContainer)!==null&&V!==void 0)||V)&&(ob.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,R]}})})},i7=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?iu(t,getComputedStyle(n.documentElement).backgroundColor):Yi.TRANSPARENT,i=n.body?iu(t,getComputedStyle(n.body).backgroundColor):Yi.TRANSPARENT,a=typeof r=="string"?iu(t,r):r===null?Yi.TRANSPARENT:4294967295;return e===n.documentElement?Za(s)?Za(i)?a:i:s:a};const a7=Object.freeze(Object.defineProperty({__proto__:null,default:lN},Symbol.toStringTag,{value:"Module"})),o7="modulepreload",A7=function(t,e){return new URL(t,e).href},db={},vw=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const a=document.getElementsByTagName("link"),A=document.querySelector("meta[property=csp-nonce]"),l=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=A7(c,n),c in db)return;db[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!n)for(let m=a.length-1;m>=0;m--){const w=a[m];if(w.href===c&&(!u||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":o7,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,w)=>{f.addEventListener("load",m),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=a,window.dispatchEvent(A),!A.defaultPrevented)throw a}return s.then(a=>{for(const A of a||[])A.status==="rejected"&&i(A.reason);return e().catch(i)})};function Lt(t){"@babel/helpers - typeof";return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(t)}var vn=Uint8Array,ts=Uint16Array,Wv=Int32Array,U0=new vn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),I0=new vn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xw=new vn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cN=function(t,e){for(var r=new ts(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new Wv(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},uN=cN(U0,2),dN=uN.b,yw=uN.r;dN[28]=258,yw[258]=28;var hN=cN(I0,0),l7=hN.b,hb=hN.r,bw=new ts(32768);for(var Jt=0;Jt<32768;++Jt){var Ba=(Jt&43690)>>1|(Jt&21845)<<1;Ba=(Ba&52428)>>2|(Ba&13107)<<2,Ba=(Ba&61680)>>4|(Ba&3855)<<4,bw[Jt]=((Ba&65280)>>8|(Ba&255)<<8)>>1}var Ei=function(t,e,r){for(var n=t.length,s=0,i=new ts(e);s<n;++s)t[s]&&++i[t[s]-1];var a=new ts(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var A;if(r){A=new ts(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],h=a[t[s]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)A[bw[h]>>l]=c}else for(A=new ts(n),s=0;s<n;++s)t[s]&&(A[s]=bw[a[t[s]-1]++]>>15-t[s]);return A},no=new vn(288);for(var Jt=0;Jt<144;++Jt)no[Jt]=8;for(var Jt=144;Jt<256;++Jt)no[Jt]=9;for(var Jt=256;Jt<280;++Jt)no[Jt]=7;for(var Jt=280;Jt<288;++Jt)no[Jt]=8;var Ou=new vn(32);for(var Jt=0;Jt<32;++Jt)Ou[Jt]=5;var c7=Ei(no,9,0),u7=Ei(no,9,1),d7=Ei(Ou,5,0),h7=Ei(Ou,5,1),Ng=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Ms=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Sg=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Jv=function(t){return(t+7)/8|0},fN=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new vn(t.subarray(e,r))},f7=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$s=function(t,e,r){var n=new Error(e||f7[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,$s),!r)throw n;return n},p7=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new vn(0);var a=!r,A=a||e.i!=2,l=e.i;a&&(r=new vn(s*3));var c=function(Ee){var je=r.length;if(Ee>je){var ke=new vn(Math.max(je*2,Ee));ke.set(r),r=ke}},u=e.f||0,h=e.p||0,p=e.b||0,f=e.l,m=e.d,w=e.m,B=e.n,x=s*8;do{if(!f){u=Ms(t,h,1);var y=Ms(t,h+1,3);if(h+=3,y)if(y==1)f=u7,m=h7,w=9,B=5;else if(y==2){var P=Ms(t,h,31)+257,M=Ms(t,h+10,15)+4,U=P+Ms(t,h+5,31)+1;h+=14;for(var H=new vn(U),$=new vn(19),L=0;L<M;++L)$[xw[L]]=Ms(t,h+L*3,7);h+=M*3;for(var T=Ng($),W=(1<<T)-1,J=Ei($,T,1),L=0;L<U;){var le=J[Ms(t,h,W)];h+=le&15;var C=le>>4;if(C<16)H[L++]=C;else{var ie=0,Z=0;for(C==16?(Z=3+Ms(t,h,3),h+=2,ie=H[L-1]):C==17?(Z=3+Ms(t,h,7),h+=3):C==18&&(Z=11+Ms(t,h,127),h+=7);Z--;)H[L++]=ie}}var q=H.subarray(0,P),z=H.subarray(P);w=Ng(q),B=Ng(z),f=Ei(q,w,1),m=Ei(z,B,1)}else $s(1);else{var C=Jv(h)+4,k=t[C-4]|t[C-3]<<8,R=C+k;if(R>s){l&&$s(0);break}A&&c(p+k),r.set(t.subarray(C,R),p),e.b=p+=k,e.p=h=R*8,e.f=u;continue}if(h>x){l&&$s(0);break}}A&&c(p+131072);for(var se=(1<<w)-1,ue=(1<<B)-1,_=h;;_=h){var ie=f[Sg(t,h)&se],I=ie>>4;if(h+=ie&15,h>x){l&&$s(0);break}if(ie||$s(2),I<256)r[p++]=I;else if(I==256){_=h,f=null;break}else{var V=I-254;if(I>264){var L=I-257,Y=U0[L];V=Ms(t,h,(1<<Y)-1)+dN[L],h+=Y}var ee=m[Sg(t,h)&ue],re=ee>>4;ee||$s(3),h+=ee&15;var z=l7[re];if(re>3){var Y=I0[re];z+=Sg(t,h)&(1<<Y)-1,h+=Y}if(h>x){l&&$s(0);break}A&&c(p+131072);var fe=p+V;if(p<z){var de=i-z,Be=Math.min(z,fe);for(de+p<0&&$s(3);p<Be;++p)r[p]=n[de+p]}for(;p<fe;++p)r[p]=r[p-z]}}e.l=f,e.p=_,e.b=p,e.f=u,f&&(u=1,e.m=w,e.d=m,e.n=B)}while(!u);return p!=r.length&&a?fN(r,0,p):r.subarray(0,p)},Vi=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},jc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Eg=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:gN,l:0};if(s==1){var a=new vn(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(R,P){return R.f-P.f}),r.push({s:-1,f:25001});var A=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:A.f+l.f,l:A,r:l};u!=s-1;)A=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:A.f+l.f,l:A,r:l};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var f=new ts(p+1),m=Bw(r[u-1],f,0);if(m>e){var n=0,w=0,B=m-e,x=1<<B;for(i.sort(function(P,M){return f[M.s]-f[P.s]||P.f-M.f});n<s;++n){var y=i[n].s;if(f[y]>e)w+=x-(1<<m-f[y]),f[y]=e;else break}for(w>>=B;w>0;){var C=i[n].s;f[C]<e?w-=1<<e-f[C]++-1:++n}for(;n>=0&&w;--n){var k=i[n].s;f[k]==e&&(--f[k],++w)}m=e}return{t:new vn(f),l:m}},Bw=function(t,e,r){return t.s==-1?Math.max(Bw(t.l,e,r+1),Bw(t.r,e,r+1)):e[t.s]=r},fb=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ts(++e),n=0,s=t[0],i=1,a=function(l){r[n++]=l},A=1;A<=e;++A)if(t[A]==s&&A!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[A]}return{c:r.subarray(0,n),n:e}},Lc=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},pN=function(t,e,r){var n=r.length,s=Jv(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},pb=function(t,e,r,n,s,i,a,A,l,c,u){Vi(e,u++,r),++s[256];for(var h=Eg(s,15),p=h.t,f=h.l,m=Eg(i,15),w=m.t,B=m.l,x=fb(p),y=x.c,C=x.n,k=fb(w),R=k.c,P=k.n,M=new ts(19),U=0;U<y.length;++U)++M[y[U]&31];for(var U=0;U<R.length;++U)++M[R[U]&31];for(var H=Eg(M,7),$=H.t,L=H.l,T=19;T>4&&!$[xw[T-1]];--T);var W=c+5<<3,J=Lc(s,no)+Lc(i,Ou)+a,le=Lc(s,p)+Lc(i,w)+a+14+3*T+Lc(M,$)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&W<=J&&W<=le)return pN(e,u,t.subarray(l,l+c));var ie,Z,q,z;if(Vi(e,u,1+(le<J)),u+=2,le<J){ie=Ei(p,f,0),Z=p,q=Ei(w,B,0),z=w;var se=Ei($,L,0);Vi(e,u,C-257),Vi(e,u+5,P-1),Vi(e,u+10,T-4),u+=14;for(var U=0;U<T;++U)Vi(e,u+3*U,$[xw[U]]);u+=3*T;for(var ue=[y,R],_=0;_<2;++_)for(var I=ue[_],U=0;U<I.length;++U){var V=I[U]&31;Vi(e,u,se[V]),u+=$[V],V>15&&(Vi(e,u,I[U]>>5&127),u+=I[U]>>12)}}else ie=c7,Z=no,q=d7,z=Ou;for(var U=0;U<A;++U){var Y=n[U];if(Y>255){var V=Y>>18&31;jc(e,u,ie[V+257]),u+=Z[V+257],V>7&&(Vi(e,u,Y>>23&31),u+=U0[V]);var ee=Y&31;jc(e,u,q[ee]),u+=z[ee],ee>3&&(jc(e,u,Y>>5&8191),u+=I0[ee])}else jc(e,u,ie[Y]),u+=Z[Y]}return jc(e,u,ie[256]),u+Z[256]},g7=new Wv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gN=new vn(0),m7=function(t,e,r,n,s,i){var a=i.z||t.length,A=new vn(n+a+5*(1+Math.ceil(a/7e3))+s),l=A.subarray(n,A.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var h=g7[e-1],p=h>>13,f=h&8191,m=(1<<r)-1,w=i.p||new ts(32768),B=i.h||new ts(m+1),x=Math.ceil(r/3),y=2*x,C=function($e){return(t[$e]^t[$e+1]<<x^t[$e+2]<<y)&m},k=new Wv(25e3),R=new ts(288),P=new ts(32),M=0,U=0,H=i.i||0,$=0,L=i.w||0,T=0;H+2<a;++H){var W=C(H),J=H&32767,le=B[W];if(w[J]=le,B[W]=J,L<=H){var ie=a-H;if((M>7e3||$>24576)&&(ie>423||!c)){u=pb(t,l,0,k,R,P,U,$,T,H-T,u),$=M=U=0,T=H;for(var Z=0;Z<286;++Z)R[Z]=0;for(var Z=0;Z<30;++Z)P[Z]=0}var q=2,z=0,se=f,ue=J-le&32767;if(ie>2&&W==C(H-ue))for(var _=Math.min(p,ie)-1,I=Math.min(32767,H),V=Math.min(258,ie);ue<=I&&--se&&J!=le;){if(t[H+q]==t[H+q-ue]){for(var Y=0;Y<V&&t[H+Y]==t[H+Y-ue];++Y);if(Y>q){if(q=Y,z=ue,Y>_)break;for(var ee=Math.min(ue,Y-2),re=0,Z=0;Z<ee;++Z){var fe=H-ue+Z&32767,de=w[fe],Be=fe-de&32767;Be>re&&(re=Be,le=fe)}}}J=le,le=w[J],ue+=J-le&32767}if(z){k[$++]=268435456|yw[q]<<18|hb[z];var Ee=yw[q]&31,je=hb[z]&31;U+=U0[Ee]+I0[je],++R[257+Ee],++P[je],L=H+q,++M}else k[$++]=t[H],++R[t[H]]}}for(H=Math.max(H,L);H<a;++H)k[$++]=t[H],++R[t[H]];u=pb(t,l,c,k,R,P,U,$,T,H-T,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=B,i.p=w,i.i=H,i.w=L)}else{for(var H=i.w||0;H<a+c;H+=65535){var ke=H+65535;ke>=a&&(l[u/8|0]=c,ke=a),u=pN(l,u+1,t.subarray(H,ke))}i.i=a}return fN(A,0,n+Jv(u)+s)},mN=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,a=0;a!=i;){for(var A=Math.min(a+2655,i);a<A;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},w7=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new vn(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return m7(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},wN=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},v7=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=mN();s.p(e.dictionary),wN(t,2,s.d())}},x7=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&$s(6,"invalid zlib data"),(t[1]>>5&1)==1&&$s(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Cw(t,e){e||(e={});var r=mN();r.p(t);var n=w7(t,e,e.dictionary?6:2,4);return v7(n,e),wN(n,n.length-4,r.d()),n}function y7(t,e){return p7(t.subarray(x7(t),-4),{i:2},e,e)}var b7=typeof TextDecoder<"u"&&new TextDecoder,B7=0;try{b7.decode(gN,{stream:!0}),B7=1}catch{}var et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function _g(){et.console&&typeof et.console.log=="function"&&et.console.log.apply(et.console,arguments)}var Mt={log:_g,warn:function(t){et.console&&(typeof et.console.warn=="function"?et.console.warn.apply(et.console,arguments):_g.call(null,arguments))},error:function(t){et.console&&(typeof et.console.error=="function"?et.console.error.apply(et.console,arguments):_g(t))}};function Fg(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Io(n.response,e,r)},n.onerror=function(){Mt.error("could not download file")},n.send()}function gb(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var lu,Nw,Io=et.saveAs||((typeof window>"u"?"undefined":Lt(window))!=="object"||window!==et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=et.URL||et.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?gb(s.href)?Fg(t,e,r):Qh(s,s.target="_blank"):Qh(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Qh(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(gb(t))Fg(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Qh(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Lt(i)!=="object"&&(Mt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Fg(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(et.HTMLElement)||et.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Lt(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var u=A.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},A.readAsDataURL(t)}else{var l=et.URL||et.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kg(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=dn(r,n,s,i,e[0],7,-680876936),i=dn(i,r,n,s,e[1],12,-389564586),s=dn(s,i,r,n,e[2],17,606105819),n=dn(n,s,i,r,e[3],22,-1044525330),r=dn(r,n,s,i,e[4],7,-176418897),i=dn(i,r,n,s,e[5],12,1200080426),s=dn(s,i,r,n,e[6],17,-1473231341),n=dn(n,s,i,r,e[7],22,-45705983),r=dn(r,n,s,i,e[8],7,1770035416),i=dn(i,r,n,s,e[9],12,-1958414417),s=dn(s,i,r,n,e[10],17,-42063),n=dn(n,s,i,r,e[11],22,-1990404162),r=dn(r,n,s,i,e[12],7,1804603682),i=dn(i,r,n,s,e[13],12,-40341101),s=dn(s,i,r,n,e[14],17,-1502002290),r=hn(r,n=dn(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=hn(i,r,n,s,e[6],9,-1069501632),s=hn(s,i,r,n,e[11],14,643717713),n=hn(n,s,i,r,e[0],20,-373897302),r=hn(r,n,s,i,e[5],5,-701558691),i=hn(i,r,n,s,e[10],9,38016083),s=hn(s,i,r,n,e[15],14,-660478335),n=hn(n,s,i,r,e[4],20,-405537848),r=hn(r,n,s,i,e[9],5,568446438),i=hn(i,r,n,s,e[14],9,-1019803690),s=hn(s,i,r,n,e[3],14,-187363961),n=hn(n,s,i,r,e[8],20,1163531501),r=hn(r,n,s,i,e[13],5,-1444681467),i=hn(i,r,n,s,e[2],9,-51403784),s=hn(s,i,r,n,e[7],14,1735328473),r=fn(r,n=hn(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=fn(i,r,n,s,e[8],11,-2022574463),s=fn(s,i,r,n,e[11],16,1839030562),n=fn(n,s,i,r,e[14],23,-35309556),r=fn(r,n,s,i,e[1],4,-1530992060),i=fn(i,r,n,s,e[4],11,1272893353),s=fn(s,i,r,n,e[7],16,-155497632),n=fn(n,s,i,r,e[10],23,-1094730640),r=fn(r,n,s,i,e[13],4,681279174),i=fn(i,r,n,s,e[0],11,-358537222),s=fn(s,i,r,n,e[3],16,-722521979),n=fn(n,s,i,r,e[6],23,76029189),r=fn(r,n,s,i,e[9],4,-640364487),i=fn(i,r,n,s,e[12],11,-421815835),s=fn(s,i,r,n,e[15],16,530742520),r=pn(r,n=fn(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=pn(i,r,n,s,e[7],10,1126891415),s=pn(s,i,r,n,e[14],15,-1416354905),n=pn(n,s,i,r,e[5],21,-57434055),r=pn(r,n,s,i,e[12],6,1700485571),i=pn(i,r,n,s,e[3],10,-1894986606),s=pn(s,i,r,n,e[10],15,-1051523),n=pn(n,s,i,r,e[1],21,-2054922799),r=pn(r,n,s,i,e[8],6,1873313359),i=pn(i,r,n,s,e[15],10,-30611744),s=pn(s,i,r,n,e[6],15,-1560198380),n=pn(n,s,i,r,e[13],21,1309151649),r=pn(r,n,s,i,e[4],6,-145523070),i=pn(i,r,n,s,e[11],10,-1120210379),s=pn(s,i,r,n,e[2],15,718787259),n=pn(n,s,i,r,e[9],21,-343485551),t[0]=Ma(r,t[0]),t[1]=Ma(n,t[1]),t[2]=Ma(s,t[2]),t[3]=Ma(i,t[3])}function j0(t,e,r,n,s,i){return e=Ma(Ma(e,t),Ma(n,i)),Ma(e<<s|e>>>32-s,r)}function dn(t,e,r,n,s,i,a){return j0(e&r|~e&n,t,e,s,i,a)}function hn(t,e,r,n,s,i,a){return j0(e&n|r&~n,t,e,s,i,a)}function fn(t,e,r,n,s,i,a){return j0(e^r^n,t,e,s,i,a)}function pn(t,e,r,n,s,i,a){return j0(r^(e|~n),t,e,s,i,a)}function xN(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)kg(n,C7(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(kg(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,kg(n,s),n}function C7(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}lu=et.atob.bind(et),Nw=et.btoa.bind(et);var mb="0123456789abcdef".split("");function N7(t){for(var e="",r=0;r<4;r++)e+=mb[t>>8*r+4&15]+mb[t>>8*r&15];return e}function S7(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Sw(t){return xN(t).map(S7).join("")}var E7=function(t){for(var e=0;e<t.length;e++)t[e]=N7(t[e]);return t.join("")}(xN("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ma(t,e){if(E7){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ew(t,e){var r,n,s,i;if(t!==r){for(var a=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),A=[],l=0;l<256;l++)A[l]=l;var c=0;for(l=0;l<256;l++){var u=A[l];c=(c+u+a.charCodeAt(l))%256,A[l]=A[c],A[c]=u}r=t,n=A}else A=n;var h=e.length,p=0,f=0,m="";for(l=0;l<h;l++)f=(f+(u=A[p=(p+1)%256]))%256,A[p]=A[f],A[f]=u,a=A[(A[p]+A[f])%256],m+=String.fromCharCode(e.charCodeAt(l)^a);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var wb={print:4,modify:8,copy:16,"annot-forms":32};function ZA(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(A){if(wb.perm!==void 0)throw new Error("Invalid permission: "+A);s+=wb[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Sw(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Ew(this.encryptionKey,this.padding)}function el(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function vb(t){if(Lt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var a=e[r][i];try{a[0].apply(t,n)}catch(A){et.console&&Mt.error("jsPDF PubSub Error",A.message,A)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Zf(t){if(!(this instanceof Zf))return new Zf(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function yN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function To(t,e,r,n,s){if(!(this instanceof To))return new To(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,yN.call(this,n,s)}function gl(t,e,r,n,s){if(!(this instanceof gl))return new gl(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,yN.call(this,n,s)}function Ze(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],A=1,l=16,c="S",u=null;Lt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),A=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=vb;var m="1.3",w=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(v){m=v};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return B};var x=f.__private__.getPageFormat=function(v){return B[v]};s=s||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},C=y.COMPAT;function k(){this.saveGraphicsState(),ne(new Je(Pe,0,0,-Pe,0,ca()*Pe).toString()+" cm"),this.setFontSize(this.getFontSize()/Pe),c="n",C=y.ADVANCED}function R(){this.restoreGraphicsState(),c="S",C=y.COMPAT}var P=f.__private__.combineFontStyleAndFontWeight=function(v,Q){if(v=="bold"&&Q=="normal"||v=="bold"&&Q==400||v=="normal"&&Q=="italic"||v=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(v=Q==400||Q==="normal"?v==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||v!=="normal"?(Q==700?"bold":Q)+""+v:"bold"),v};f.advancedAPI=function(v){var Q=C===y.COMPAT;return Q&&k.call(this),typeof v!="function"||(v(this),Q&&R.call(this)),this},f.compatAPI=function(v){var Q=C===y.ADVANCED;return Q&&R.call(this),typeof v!="function"||(v(this),Q&&k.call(this)),this},f.isAdvancedAPI=function(){return C===y.ADVANCED};var M,U=function(v){if(C!==y.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=f.roundToPrecision=f.__private__.roundToPrecision=function(v,Q){var te=e||Q;if(isNaN(v)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(te).replace(/0+$/,"")};M=f.hpf=f.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return H(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return H(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return H(v,16)};var $=f.f2=f.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return H(v,2)},L=f.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return H(v,3)},T=f.scale=f.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return C===y.COMPAT?v*Pe:C===y.ADVANCED?v:void 0},W=function(v){return C===y.COMPAT?ca()-v:C===y.ADVANCED?v:void 0},J=function(v){return T(W(v))};f.__private__.setPrecision=f.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var le,ie="00000000000000000000000000000000",Z=f.__private__.getFileId=function(){return ie},q=f.__private__.setFileId=function(v){return ie=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(An=new ZA(u.userPermissions,u.userPassword,u.ownerPassword,ie)),ie};f.setFileId=function(v){return q(v),this},f.getFileId=function(){return Z()};var z=f.__private__.convertDateToPDFDate=function(v){var Q=v.getTimezoneOffset(),te=Q<0?"+":"-",ae=Math.floor(Math.abs(Q/60)),pe=Math.abs(Q%60),xe=[te,V(ae),"'",V(pe),"'"].join("");return["D:",v.getFullYear(),V(v.getMonth()+1),V(v.getDate()),V(v.getHours()),V(v.getMinutes()),V(v.getSeconds()),xe].join("")},se=f.__private__.convertPDFDateToDate=function(v){var Q=parseInt(v.substr(2,4),10),te=parseInt(v.substr(6,2),10)-1,ae=parseInt(v.substr(8,2),10),pe=parseInt(v.substr(10,2),10),xe=parseInt(v.substr(12,2),10),Se=parseInt(v.substr(14,2),10);return new Date(Q,te,ae,pe,xe,Se,0)},ue=f.__private__.setCreationDate=function(v){var Q;if(v===void 0&&(v=new Date),v instanceof Date)Q=z(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=v}return le=Q},_=f.__private__.getCreationDate=function(v){var Q=le;return v==="jsDate"&&(Q=se(le)),Q};f.setCreationDate=function(v){return ue(v),this},f.getCreationDate=function(v){return _(v)};var I,V=f.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},Y=f.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ee=0,re=[],fe=[],de=0,Be=[],Ee=[],je=!1,ke=fe,$e=function(){ee=0,de=0,fe=[],re=[],Be=[],Ii=Er(),Is=Er()};f.__private__.setCustomOutputDestination=function(v){je=!0,ke=v};var we=function(v){je||(ke=v)};f.__private__.resetCustomOutputDestination=function(){je=!1,ke=fe};var ne=f.__private__.out=function(v){return v=v.toString(),de+=v.length+1,ke.push(v),ke},lt=f.__private__.write=function(v){return ne(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ve=f.__private__.getArrayBuffer=function(v){for(var Q=v.length,te=new ArrayBuffer(Q),ae=new Uint8Array(te);Q--;)ae[Q]=v.charCodeAt(Q);return te},_e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return _e};var Ue=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(v){return Ue=C===y.ADVANCED?v/Pe:v,this};var Te,Qe=f.__private__.getFontSize=f.getFontSize=function(){return C===y.COMPAT?Ue:Ue*Pe},ze=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(v){return ze=v,this},f.__private__.getR2L=f.getR2L=function(){return ze};var it,dt=f.__private__.setZoomMode=function(v){var Q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Te=v;else if(isNaN(v)){if(Q.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Te=v}else Te=parseInt(v,10)};f.__private__.getZoomMode=function(){return Te};var pt,Bt=f.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');it=v};f.__private__.getPageMode=function(){return it};var Tt=f.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');pt=v};f.__private__.getLayoutMode=function(){return pt},f.__private__.setDisplayMode=f.setDisplayMode=function(v,Q,te){return dt(v),Tt(Q),Bt(te),this};var tt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(v){if(Object.keys(tt).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tt[v]},f.__private__.getDocumentProperties=function(){return tt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(v){for(var Q in tt)tt.hasOwnProperty(Q)&&v[Q]&&(tt[Q]=v[Q]);return this},f.__private__.setDocumentProperty=function(v,Q){if(Object.keys(tt).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tt[v]=Q};var gt,Pe,on,St,Fs,Dt={},Zt={},Ai=[],_t={},uo={},Ar={},ks={},Ui=null,lr=0,at=[],Ft=new vb(f),ho=t.hotfixes||[],Wr={},li={},ci=[],Je=function v(Q,te,ae,pe,xe,Se){if(!(this instanceof v))return new v(Q,te,ae,pe,xe,Se);isNaN(Q)&&(Q=1),isNaN(te)&&(te=0),isNaN(ae)&&(ae=0),isNaN(pe)&&(pe=1),isNaN(xe)&&(xe=0),isNaN(Se)&&(Se=0),this._matrix=[Q,te,ae,pe,xe,Se]};Object.defineProperty(Je.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Je.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Je.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Je.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Je.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Je.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Je.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Je.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Je.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Je.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Je.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Je.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Je.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Je.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Je.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Je.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Je.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(v)},Je.prototype.multiply=function(v){var Q=v.sx*this.sx+v.shy*this.shx,te=v.sx*this.shy+v.shy*this.sy,ae=v.shx*this.sx+v.sy*this.shx,pe=v.shx*this.shy+v.sy*this.sy,xe=v.tx*this.sx+v.ty*this.shx+this.tx,Se=v.tx*this.shy+v.ty*this.sy+this.ty;return new Je(Q,te,ae,pe,xe,Se)},Je.prototype.decompose=function(){var v=this.sx,Q=this.shy,te=this.shx,ae=this.sy,pe=this.tx,xe=this.ty,Se=Math.sqrt(v*v+Q*Q),De=(v/=Se)*te+(Q/=Se)*ae;te-=v*De,ae-=Q*De;var qe=Math.sqrt(te*te+ae*ae);return De/=qe,v*(ae/=qe)<Q*(te/=qe)&&(v=-v,Q=-Q,De=-De,Se=-Se),{scale:new Je(Se,0,0,qe,0,0),translate:new Je(1,0,0,1,pe,xe),rotate:new Je(v,Q,-Q,v,0,0),skew:new Je(1,0,De,1,0,0)}},Je.prototype.toString=function(v){return this.join(" ")},Je.prototype.inversed=function(){var v=this.sx,Q=this.shy,te=this.shx,ae=this.sy,pe=this.tx,xe=this.ty,Se=1/(v*ae-Q*te),De=ae*Se,qe=-Q*Se,ct=-te*Se,ot=v*Se;return new Je(De,qe,ct,ot,-De*pe-ct*xe,-qe*pe-ot*xe)},Je.prototype.applyToPoint=function(v){var Q=v.x*this.sx+v.y*this.shx+this.tx,te=v.x*this.shy+v.y*this.sy+this.ty;return new gA(Q,te)},Je.prototype.applyToRectangle=function(v){var Q=this.applyToPoint(v),te=this.applyToPoint(new gA(v.x+v.w,v.y+v.h));return new tc(Q.x,Q.y,te.x-Q.x,te.y-Q.y)},Je.prototype.clone=function(){var v=this.sx,Q=this.shy,te=this.shx,ae=this.sy,pe=this.tx,xe=this.ty;return new Je(v,Q,te,ae,pe,xe)},f.Matrix=Je;var Us=f.matrixMult=function(v,Q){return Q.multiply(v)},ui=new Je(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ui;var Fn=function(v,Q){if(!uo[v]){var te=(Q instanceof To?"Sh":"P")+(Object.keys(_t).length+1).toString(10);Q.id=te,uo[v]=te,_t[te]=Q,Ft.publish("addPattern",Q)}};f.ShadingPattern=To,f.TilingPattern=gl,f.addShadingPattern=function(v,Q){return U("addShadingPattern()"),Fn(v,Q),this},f.beginTilingPattern=function(v){U("beginTilingPattern()"),pd(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},f.endTilingPattern=function(v,Q){U("endTilingPattern()"),Q.stream=Ee[I].join(`
`),Fn(v,Q),Ft.publish("endTilingPattern",Q),ci.pop().restore()};var Qr=f.__private__.newObject=function(){var v=Er();return Kn(v,!0),v},Er=f.__private__.newObjectDeferred=function(){return ee++,re[ee]=function(){return de},ee},Kn=function(v,Q){return Q=typeof Q=="boolean"&&Q,re[v]=de,Q&&ne(v+" 0 obj"),v},nA=f.__private__.newAdditionalObject=function(){var v={objId:Er(),content:""};return Be.push(v),v},Ii=Er(),Is=Er(),js=f.__private__.decodeColorString=function(v){var Q=v.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length===5&&(Q[4]==="k"||Q[4]==="K")&&(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var te=parseFloat(Q[0]);Q=[te,te,te,"r"]}for(var ae="#",pe=0;pe<3;pe++)ae+=("0"+Math.floor(255*parseFloat(Q[pe])).toString(16)).slice(-2);return ae},Ls=f.__private__.encodeColorString=function(v){var Q;typeof v=="string"&&(v={ch1:v});var te=v.ch1,ae=v.ch2,pe=v.ch3,xe=v.ch4,Se=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var De=new vN(te);if(De.ok)te=De.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var qe=parseInt(te.substr(1),16);te=qe>>16&255,ae=qe>>8&255,pe=255&qe}if(ae===void 0||xe===void 0&&te===ae&&ae===pe)if(typeof te=="string")Q=te+" "+Se[0];else switch(v.precision){case 2:Q=$(te/255)+" "+Se[0];break;case 3:default:Q=L(te/255)+" "+Se[0]}else if(xe===void 0||Lt(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return Q=["1.","1.","1.",Se[1]].join(" ");if(typeof te=="string")Q=[te,ae,pe,Se[1]].join(" ");else switch(v.precision){case 2:Q=[$(te/255),$(ae/255),$(pe/255),Se[1]].join(" ");break;default:case 3:Q=[L(te/255),L(ae/255),L(pe/255),Se[1]].join(" ")}}else if(typeof te=="string")Q=[te,ae,pe,xe,Se[2]].join(" ");else switch(v.precision){case 2:Q=[$(te),$(ae),$(pe),$(xe),Se[2]].join(" ");break;case 3:default:Q=[L(te),L(ae),L(pe),L(xe),Se[2]].join(" ")}return Q},di=f.__private__.getFilters=function(){return a},As=f.__private__.putStream=function(v){var Q=(v=v||{}).data||"",te=v.filters||di(),ae=v.alreadyAppliedFilters||[],pe=v.addLength1||!1,xe=Q.length,Se=v.objectId,De=function(ln){return ln};if(u!==null&&Se===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(De=An.encryptor(Se,0));var qe={};te===!0&&(te=["FlateEncode"]);var ct=v.additionalKeyValues||[],ot=(qe=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(Q,te):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(qe.data.length!==0&&(ct.push({key:"Length",value:qe.data.length}),pe===!0&&ct.push({key:"Length1",value:xe})),ot.length!=0)if(ot.split("/").length-1==1)ct.push({key:"Filter",value:ot});else{ct.push({key:"Filter",value:"["+ot+"]"});for(var yt=0;yt<ct.length;yt+=1)if(ct[yt].key==="DecodeParms"){for(var rr=[],cr=0;cr<qe.reverseChain.split("/").length-1;cr+=1)rr.push("null");rr.push(ct[yt].value),ct[yt].value="["+rr.join(" ")+"]"}}ne("<<");for(var _r=0;_r<ct.length;_r++)ne("/"+ct[_r].key+" "+ct[_r].value);ne(">>"),qe.data.length!==0&&(ne("stream"),ne(De(qe.data)),ne("endstream"))},hi=f.__private__.putPage=function(v){var Q=v.number,te=v.data,ae=v.objId,pe=v.contentsObjId;Kn(ae,!0),ne("<</Type /Page"),ne("/Parent "+v.rootDictionaryObjId+" 0 R"),ne("/Resources "+v.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(M(v.mediaBox.bottomLeftX))+" "+parseFloat(M(v.mediaBox.bottomLeftY))+" "+M(v.mediaBox.topRightX)+" "+M(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&ne("/CropBox ["+M(v.cropBox.bottomLeftX)+" "+M(v.cropBox.bottomLeftY)+" "+M(v.cropBox.topRightX)+" "+M(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&ne("/BleedBox ["+M(v.bleedBox.bottomLeftX)+" "+M(v.bleedBox.bottomLeftY)+" "+M(v.bleedBox.topRightX)+" "+M(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&ne("/TrimBox ["+M(v.trimBox.bottomLeftX)+" "+M(v.trimBox.bottomLeftY)+" "+M(v.trimBox.topRightX)+" "+M(v.trimBox.topRightY)+"]"),v.artBox!==null&&ne("/ArtBox ["+M(v.artBox.bottomLeftX)+" "+M(v.artBox.bottomLeftY)+" "+M(v.artBox.topRightX)+" "+M(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&ne("/UserUnit "+v.userUnit),Ft.publish("putPage",{objId:ae,pageContext:at[Q],pageNumber:Q,page:te}),ne("/Contents "+pe+" 0 R"),ne(">>"),ne("endobj");var xe=te.join(`
`);return C===y.ADVANCED&&(xe+=`
Q`),Kn(pe,!0),As({data:xe,filters:di(),objectId:pe}),ne("endobj"),ae},fo=f.__private__.putPages=function(){var v,Q,te=[];for(v=1;v<=lr;v++)at[v].objId=Er(),at[v].contentsObjId=Er();for(v=1;v<=lr;v++)te.push(hi({number:v,data:Ee[v],objId:at[v].objId,contentsObjId:at[v].contentsObjId,mediaBox:at[v].mediaBox,cropBox:at[v].cropBox,bleedBox:at[v].bleedBox,trimBox:at[v].trimBox,artBox:at[v].artBox,userUnit:at[v].userUnit,rootDictionaryObjId:Ii,resourceDictionaryObjId:Is}));Kn(Ii,!0),ne("<</Type /Pages");var ae="/Kids [";for(Q=0;Q<lr;Q++)ae+=te[Q]+" 0 R ";ne(ae+"]"),ne("/Count "+lr),ne(">>"),ne("endobj"),Ft.publish("postPutPages")},sA=function(v){Ft.publish("putFont",{font:v,out:ne,newObject:Qr,putStream:As}),v.isAlreadyPutted!==!0&&(v.objectNumber=Qr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+el(v.postScriptName)),ne("/Subtype /Type1"),typeof v.encoding=="string"&&ne("/Encoding /"+v.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},iA=function(){for(var v in Dt)Dt.hasOwnProperty(v)&&(h===!1||h===!0&&p.hasOwnProperty(v))&&sA(Dt[v])},aA=function(v){v.objectNumber=Qr();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[M(v.x),M(v.y),M(v.x+v.width),M(v.y+v.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var te=v.pages[1].join(`
`);As({data:te,additionalKeyValues:Q,objectId:v.objectNumber}),ne("endobj")},oA=function(){for(var v in Wr)Wr.hasOwnProperty(v)&&aA(Wr[v])},Yu=function(v,Q){var te,ae=[],pe=1/(Q-1);for(te=0;te<1;te+=pe)ae.push(te);if(ae.push(1),v[0].offset!=0){var xe={offset:0,color:v[0].color};v.unshift(xe)}if(v[v.length-1].offset!=1){var Se={offset:1,color:v[v.length-1].color};v.push(Se)}for(var De="",qe=0,ct=0;ct<ae.length;ct++){for(te=ae[ct];te>v[qe+1].offset;)qe++;var ot=v[qe].offset,yt=(te-ot)/(v[qe+1].offset-ot),rr=v[qe].color,cr=v[qe+1].color;De+=Y(Math.round((1-yt)*rr[0]+yt*cr[0]).toString(16))+Y(Math.round((1-yt)*rr[1]+yt*cr[1]).toString(16))+Y(Math.round((1-yt)*rr[2]+yt*cr[2]).toString(16))}return De.trim()},L0=function(v,Q){Q||(Q=21);var te=Qr(),ae=Yu(v.colors,Q),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+Q+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),As({data:ae,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),ne("endobj"),v.objectNumber=Qr(),ne("<< /ShadingType "+v.type),ne("/ColorSpace /DeviceRGB");var xe="/Coords ["+M(parseFloat(v.coords[0]))+" "+M(parseFloat(v.coords[1]))+" ";v.type===2?xe+=M(parseFloat(v.coords[2]))+" "+M(parseFloat(v.coords[3])):xe+=M(parseFloat(v.coords[2]))+" "+M(parseFloat(v.coords[3]))+" "+M(parseFloat(v.coords[4]))+" "+M(parseFloat(v.coords[5])),ne(xe+="]"),v.matrix&&ne("/Matrix ["+v.matrix.toString()+"]"),ne("/Function "+te+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Q0=function(v,Q){var te=Er(),ae=Qr();Q.push({resourcesOid:te,objectOid:ae}),v.objectNumber=ae;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+v.boundingBox.map(M).join(" ")+"]"}),pe.push({key:"XStep",value:M(v.xStep)}),pe.push({key:"YStep",value:M(v.yStep)}),pe.push({key:"Resources",value:te+" 0 R"}),v.matrix&&pe.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),As({data:v.stream,additionalKeyValues:pe,objectId:v.objectNumber}),ne("endobj")},AA=function(v){var Q;for(Q in _t)_t.hasOwnProperty(Q)&&(_t[Q]instanceof To?L0(_t[Q]):_t[Q]instanceof gl&&Q0(_t[Q],v))},Xu=function(v){for(var Q in v.objectNumber=Qr(),ne("<<"),v)switch(Q){case"opacity":ne("/ca "+$(v[Q]));break;case"stroke-opacity":ne("/CA "+$(v[Q]))}ne(">>"),ne("endobj")},T0=function(){var v;for(v in Ar)Ar.hasOwnProperty(v)&&Xu(Ar[v])},Gl=function(){for(var v in ne("/XObject <<"),Wr)Wr.hasOwnProperty(v)&&Wr[v].objectNumber>=0&&ne("/"+v+" "+Wr[v].objectNumber+" 0 R");Ft.publish("putXobjectDict"),ne(">>")},P0=function(){An.oid=Qr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+An.v),ne("/R "+An.r),ne("/U <"+An.toHexString(An.U)+">"),ne("/O <"+An.toHexString(An.O)+">"),ne("/P "+An.P),ne(">>"),ne("endobj")},Zu=function(){for(var v in ne("/Font <<"),Dt)Dt.hasOwnProperty(v)&&(h===!1||h===!0&&p.hasOwnProperty(v))&&ne("/"+v+" "+Dt[v].objectNumber+" 0 R");ne(">>")},R0=function(){if(Object.keys(_t).length>0){for(var v in ne("/Shading <<"),_t)_t.hasOwnProperty(v)&&_t[v]instanceof To&&_t[v].objectNumber>=0&&ne("/"+v+" "+_t[v].objectNumber+" 0 R");Ft.publish("putShadingPatternDict"),ne(">>")}},lA=function(v){if(Object.keys(_t).length>0){for(var Q in ne("/Pattern <<"),_t)_t.hasOwnProperty(Q)&&_t[Q]instanceof f.TilingPattern&&_t[Q].objectNumber>=0&&_t[Q].objectNumber<v&&ne("/"+Q+" "+_t[Q].objectNumber+" 0 R");Ft.publish("putTilingPatternDict"),ne(">>")}},D0=function(){if(Object.keys(Ar).length>0){var v;for(v in ne("/ExtGState <<"),Ar)Ar.hasOwnProperty(v)&&Ar[v].objectNumber>=0&&ne("/"+v+" "+Ar[v].objectNumber+" 0 R");Ft.publish("putGStateDict"),ne(">>")}},gr=function(v){Kn(v.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Zu(),R0(),lA(v.objectOid),D0(),Gl(),ne(">>"),ne("endobj")},ed=function(){var v=[];iA(),T0(),oA(),AA(v),Ft.publish("putResources"),v.forEach(gr),gr({resourcesOid:Is,objectOid:Number.MAX_SAFE_INTEGER}),Ft.publish("postPutResources")},td=function(){Ft.publish("putAdditionalObjects");for(var v=0;v<Be.length;v++){var Q=Be[v];Kn(Q.objId,!0),ne(Q.content),ne("endobj")}Ft.publish("postPutAdditionalObjects")},rd=function(v){Zt[v.fontName]=Zt[v.fontName]||{},Zt[v.fontName][v.fontStyle]=v.id},zl=function(v,Q,te,ae,pe){var xe={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:v,fontName:Q,fontStyle:te,encoding:ae,isStandardFont:pe||!1,metadata:{}};return Ft.publish("addFont",{font:xe,instance:this}),Dt[xe.id]=xe,rd(xe),xe.id},O0=function(v){for(var Q=0,te=_e.length;Q<te;Q++){var ae=zl.call(this,v[Q][0],v[Q][1],v[Q][2],_e[Q][3],!0);h===!1&&(p[ae]=!0);var pe=v[Q][0].split("-");rd({id:ae,fontName:pe[0],fontStyle:pe[1]||""})}Ft.publish("addFonts",{fonts:Dt,dictionary:Zt})},Qs=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ae){var Q=ae.stack||"";~Q.indexOf(" at ")&&(Q=Q.split(" at ")[1]);var te="Error in function "+Q.split(`
`)[0].split("<")[0]+": "+ae.message;if(!et.console)throw new Error(te);et.console.error(te,ae),et.alert&&alert(te)}},v.foo.bar=v,v.foo},cA=function(v,Q){var te,ae,pe,xe,Se,De,qe,ct,ot;if(pe=(Q=Q||{}).sourceEncoding||"Unicode",Se=Q.outputEncoding,(Q.autoencode||Se)&&Dt[gt].metadata&&Dt[gt].metadata[pe]&&Dt[gt].metadata[pe].encoding&&(xe=Dt[gt].metadata[pe].encoding,!Se&&Dt[gt].encoding&&(Se=Dt[gt].encoding),!Se&&xe.codePages&&(Se=xe.codePages[0]),typeof Se=="string"&&(Se=xe[Se]),Se)){for(qe=!1,De=[],te=0,ae=v.length;te<ae;te++)(ct=Se[v.charCodeAt(te)])?De.push(String.fromCharCode(ct)):De.push(v[te]),De[te].charCodeAt(0)>>8&&(qe=!0);v=De.join("")}for(te=v.length;qe===void 0&&te!==0;)v.charCodeAt(te-1)>>8&&(qe=!0),te--;if(!qe)return v;for(De=Q.noBOM?[]:[254,255],te=0,ae=v.length;te<ae;te++){if((ot=(ct=v.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");De.push(ot),De.push(ct-(ot<<8))}return String.fromCharCode.apply(void 0,De)},kn=f.__private__.pdfEscape=f.pdfEscape=function(v,Q){return cA(v,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ql=f.__private__.beginPage=function(v){Ee[++lr]=[],at[lr]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},sd(lr),we(Ee[I])},nd=function(v,Q){var te,ae,pe;switch(r=Q||r,typeof v=="string"&&(te=x(v.toLowerCase()),Array.isArray(te)&&(ae=te[0],pe=te[1])),Array.isArray(v)&&(ae=v[0]*Pe,pe=v[1]*Pe),isNaN(ae)&&(ae=s[0],pe=s[1]),(ae>14400||pe>14400)&&(Mt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),pe=Math.min(14400,pe)),s=[ae,pe],r.substr(0,1)){case"l":pe>ae&&(s=[pe,ae]);break;case"p":ae>pe&&(s=[pe,ae])}ql(s),cd(Yl),ne(Ts),Zl!==0&&ne(Zl+" J"),ec!==0&&ne(ec+" j"),Ft.publish("addPage",{pageNumber:lr})},M0=function(v){v>0&&v<=lr&&(Ee.splice(v,1),at.splice(v,1),lr--,I>lr&&(I=lr),this.setPage(I))},sd=function(v){v>0&&v<=lr&&(I=v)},H0=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ee.length-1},id=function(v,Q,te){var ae,pe=void 0;return te=te||{},v=v!==void 0?v:Dt[gt].fontName,Q=Q!==void 0?Q:Dt[gt].fontStyle,ae=v.toLowerCase(),Zt[ae]!==void 0&&Zt[ae][Q]!==void 0?pe=Zt[ae][Q]:Zt[v]!==void 0&&Zt[v][Q]!==void 0?pe=Zt[v][Q]:te.disableWarning===!1&&Mt.warn("Unable to look up font label for font '"+v+"', '"+Q+"'. Refer to getFontList() for available fonts."),pe||te.noFallback||(pe=Zt.times[Q])==null&&(pe=Zt.times.normal),pe},K0=f.__private__.putInfo=function(){var v=Qr(),Q=function(ae){return ae};for(var te in u!==null&&(Q=An.encryptor(v,0)),ne("<<"),ne("/Producer ("+kn(Q("jsPDF "+Ze.version))+")"),tt)tt.hasOwnProperty(te)&&tt[te]&&ne("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+kn(Q(tt[te]))+")");ne("/CreationDate ("+kn(Q(le))+")"),ne(">>"),ne("endobj")},$l=f.__private__.putCatalog=function(v){var Q=(v=v||{}).rootDictionaryObjId||Ii;switch(Qr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+Q+" 0 R"),Te||(Te="fullwidth"),Te){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+Te;te.substr(te.length-1)==="%"&&(Te=parseInt(Te)/100),typeof Te=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+$(Te)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}it&&ne("/PageMode /"+it),Ft.publish("putCatalog"),ne(">>"),ne("endobj")},V0=f.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(ee+1)),ne("/Root "+ee+" 0 R"),ne("/Info "+(ee-1)+" 0 R"),u!==null&&ne("/Encrypt "+An.oid+" 0 R"),ne("/ID [ <"+ie+"> <"+ie+"> ]"),ne(">>")},G0=f.__private__.putHeader=function(){ne("%PDF-"+m),ne("%")},z0=f.__private__.putXRef=function(){var v="0000000000";ne("xref"),ne("0 "+(ee+1)),ne("0000000000 65535 f ");for(var Q=1;Q<=ee;Q++)typeof re[Q]=="function"?ne((v+re[Q]()).slice(-10)+" 00000 n "):re[Q]!==void 0?ne((v+re[Q]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},ji=f.__private__.buildDocument=function(){$e(),we(fe),Ft.publish("buildDocument"),G0(),fo(),td(),ed(),u!==null&&P0(),K0(),$l();var v=de;return z0(),V0(),ne("startxref"),ne(""+v),ne("%%EOF"),we(Ee[I]),fe.join(`
`)},uA=f.__private__.getBlob=function(v){return new Blob([Ve(v)],{type:"application/pdf"})},dA=f.output=f.__private__.output=Qs(function(v,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",v){case void 0:return ji();case"save":f.save(Q.filename);break;case"arraybuffer":return Ve(ji());case"blob":return uA(ji());case"bloburi":case"bloburl":if(et.URL!==void 0&&typeof et.URL.createObjectURL=="function")return et.URL&&et.URL.createObjectURL(uA(ji()))||void 0;Mt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ae=ji();try{te=Nw(ae)}catch{te=Nw(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+Q.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(pe=Q.pdfObjectUrl,xe="");var Se='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",De=et.open();return De!==null&&De.document.write(Se),De}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',ct=et.open();if(ct!==null){ct.document.write(qe);var ot=this;ct.document.documentElement.querySelector("#pdfViewer").onload=function(){ct.document.title=Q.filename,ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ot.output("bloburl"))}}return ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',rr=et.open();if(rr!==null&&(rr.document.write(yt),rr.document.title=Q.filename),rr||typeof safari>"u")return rr;break;case"datauri":case"dataurl":return et.document.location.href=this.output("datauristring",Q);default:return null}}),ad=function(v){return Array.isArray(ho)===!0&&ho.indexOf(v)>-1};switch(n){case"pt":Pe=1;break;case"mm":Pe=72/25.4;break;case"cm":Pe=72/2.54;break;case"in":Pe=72;break;case"px":Pe=ad("px_scaling")==1?.75:96/72;break;case"pc":case"em":Pe=12;break;case"ex":Pe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Pe=n}var An=null;ue(),q();var q0=function(v){return u!==null?An.encryptor(v,0):function(Q){return Q}},od=f.__private__.getPageInfo=f.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:at[v].objId,pageNumber:v,pageContext:at[v]}},st=f.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in at)if(at[Q].objId===v)break;return od(Q)},$0=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:at[I].objId,pageNumber:I,pageContext:at[I]}};f.addPage=function(){return nd.apply(this,arguments),this},f.setPage=function(){return sd.apply(this,arguments),we.call(this,Ee[I]),this},f.insertPage=function(v){return this.addPage(),this.movePage(I,v),this},f.movePage=function(v,Q){var te,ae;if(v>Q){te=Ee[v],ae=at[v];for(var pe=v;pe>Q;pe--)Ee[pe]=Ee[pe-1],at[pe]=at[pe-1];Ee[Q]=te,at[Q]=ae,this.setPage(Q)}else if(v<Q){te=Ee[v],ae=at[v];for(var xe=v;xe<Q;xe++)Ee[xe]=Ee[xe+1],at[xe]=at[xe+1];Ee[Q]=te,at[Q]=ae,this.setPage(Q)}return this},f.deletePage=function(){return M0.apply(this,arguments),this},f.__private__.text=f.text=function(v,Q,te,ae,pe){var xe,Se,De,qe,ct,ot,yt,rr,cr,_r=(ae=ae||{}).scope||this;if(typeof v=="number"&&typeof Q=="number"&&(typeof te=="string"||Array.isArray(te))){var ln=te;te=Q,Q=v,v=ln}if(arguments[3]instanceof Je?(U("The transform parameter of text() with a Matrix value"),cr=pe):(De=arguments[4],qe=arguments[5],Lt(yt=arguments[3])==="object"&&yt!==null||(typeof De=="string"&&(qe=De,De=null),typeof yt=="string"&&(qe=yt,yt=null),typeof yt=="number"&&(De=yt,yt=null),ae={flags:yt,angle:De,align:qe})),isNaN(Q)||isNaN(te)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return _r;var Mr="",Ps=!1,Vn=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:go,gi=_r.internal.scaleFactor;function gd(Ht){return Ht=Ht.split("	").join(Array(ae.TabLen||9).join(" ")),kn(Ht,yt)}function ic(Ht){for(var Kt,wr=Ht.concat(),Tr=[],Ri=wr.length;Ri--;)typeof(Kt=wr.shift())=="string"?Tr.push(Kt):Array.isArray(Ht)&&(Kt.length===1||Kt[1]===void 0&&Kt[2]===void 0)?Tr.push(Kt[0]):Tr.push([Kt[0],Kt[1],Kt[2]]);return Tr}function ac(Ht,Kt){var wr;if(typeof Ht=="string")wr=Kt(Ht)[0];else if(Array.isArray(Ht)){for(var Tr,Ri,fc=Ht.concat(),EA=[],yd=fc.length;yd--;)typeof(Tr=fc.shift())=="string"?EA.push(Kt(Tr)[0]):Array.isArray(Tr)&&typeof Tr[0]=="string"&&(Ri=Kt(Tr[0],Tr[1],Tr[2]),EA.push([Ri[0],Ri[1],Ri[2]]));wr=EA}return wr}var wA=!1,oc=!0;if(typeof v=="string")wA=!0;else if(Array.isArray(v)){var Ac=v.concat();Se=[];for(var vA,Jr=Ac.length;Jr--;)(typeof(vA=Ac.shift())!="string"||Array.isArray(vA)&&typeof vA[0]!="string")&&(oc=!1);wA=oc}if(wA===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var xA=Ue/_r.internal.scaleFactor,yA=xA*(Vn-1);switch(ae.baseline){case"bottom":te-=yA;break;case"top":te+=xA-yA;break;case"hanging":te+=xA-2*yA;break;case"middle":te+=xA/2-yA}if((ot=ae.maxWidth||0)>0&&(typeof v=="string"?v=_r.splitTextToSize(v,ot):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Ht,Kt){return Ht.concat(_r.splitTextToSize(Kt,ot))},[]))),xe={text:v,x:Q,y:te,options:ae,mutex:{pdfEscape:kn,activeFontKey:gt,fonts:Dt,activeFontSize:Ue}},Ft.publish("preProcessText",xe),v=xe.text,De=(ae=xe.options).angle,!(cr instanceof Je)&&De&&typeof De=="number"){De*=Math.PI/180,ae.rotationDirection===0&&(De=-De),C===y.ADVANCED&&(De=-De);var bA=Math.cos(De),lc=Math.sin(De);cr=new Je(bA,lc,-lc,bA,0,0)}else De&&De instanceof Je&&(cr=De);C!==y.ADVANCED||cr||(cr=ui),(ct=ae.charSpace||pA)!==void 0&&(Mr+=M(T(ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rr=ae.horizontalScale)!==void 0&&(Mr+=M(100*rr)+` Tz
`),ae.lang;var Un=-1,sp=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,cc=_r.internal.getCurrentPageInfo().pageContext;switch(sp){case 0:case!1:case"fill":Un=0;break;case 1:case!0:case"stroke":Un=1;break;case 2:case"fillThenStroke":Un=2;break;case 3:case"invisible":Un=3;break;case 4:case"fillAndAddForClipping":Un=4;break;case 5:case"strokeAndAddPathForClipping":Un=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Un=6;break;case 7:case"addToPathForClipping":Un=7}var md=cc.usedRenderingMode!==void 0?cc.usedRenderingMode:-1;Un!==-1?Mr+=Un+` Tr
`:md!==-1&&(Mr+=`0 Tr
`),Un!==-1&&(cc.usedRenderingMode=Un),qe=ae.align||"left";var ls,BA=Ue*Vn,wd=_r.internal.pageSize.getWidth(),vd=Dt[gt];ct=ae.charSpace||pA,ot=ae.maxWidth||0,yt=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var ua=[],vo=function(Ht){return _r.getStringUnitWidth(Ht,{font:vd,charSpace:ct,fontSize:Ue,doKerning:!1})*Ue/gi};if(Object.prototype.toString.call(v)==="[object Array]"){var In;Se=ic(v),qe!=="left"&&(ls=Se.map(vo));var yn,da=0;if(qe==="right"){Q-=ls[0],v=[],Jr=Se.length;for(var Qi=0;Qi<Jr;Qi++)Qi===0?(yn=pi(Q),In=Li(te)):(yn=T(da-ls[Qi]),In=-BA),v.push([Se[Qi],yn,In]),da=ls[Qi]}else if(qe==="center"){Q-=ls[0]/2,v=[],Jr=Se.length;for(var Ti=0;Ti<Jr;Ti++)Ti===0?(yn=pi(Q),In=Li(te)):(yn=T((da-ls[Ti])/2),In=-BA),v.push([Se[Ti],yn,In]),da=ls[Ti]}else if(qe==="left"){v=[],Jr=Se.length;for(var CA=0;CA<Jr;CA++)v.push(Se[CA])}else if(qe==="justify"&&vd.encoding==="Identity-H"){v=[],Jr=Se.length,ot=ot!==0?ot:wd;for(var Pi=0,mr=0;mr<Jr;mr++)if(In=mr===0?Li(te):-BA,yn=mr===0?pi(Q):Pi,mr<Jr-1){var uc=T((ot-ls[mr])/(Se[mr].split(" ").length-1)),bn=Se[mr].split(" ");v.push([bn[0]+" ",yn,In]),Pi=0;for(var cs=1;cs<bn.length;cs++){var NA=(vo(bn[cs-1]+" "+bn[cs])-vo(bn[cs]))*gi+uc;cs==bn.length-1?v.push([bn[cs],NA,0]):v.push([bn[cs]+" ",NA,0]),Pi-=NA}}else v.push([Se[mr],yn,In]);v.push(["",Pi,0])}else{if(qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Jr=Se.length,ot=ot!==0?ot:wd,mr=0;mr<Jr;mr++)In=mr===0?Li(te):-BA,yn=mr===0?pi(Q):0,mr<Jr-1?ua.push(M(T((ot-ls[mr])/(Se[mr].split(" ").length-1)))):ua.push(0),v.push([Se[mr],yn,In])}}var xd=typeof ae.R2L=="boolean"?ae.R2L:ze;xd===!0&&(v=ac(v,function(Ht,Kt,wr){return[Ht.split("").reverse().join(""),Kt,wr]})),xe={text:v,x:Q,y:te,options:ae,mutex:{pdfEscape:kn,activeFontKey:gt,fonts:Dt,activeFontSize:Ue}},Ft.publish("postProcessText",xe),v=xe.text,Ps=xe.mutex.isHex||!1;var dc=Dt[gt].encoding;dc!=="WinAnsiEncoding"&&dc!=="StandardEncoding"||(v=ac(v,function(Ht,Kt,wr){return[gd(Ht),Kt,wr]})),Se=ic(v),v=[];for(var xo,yo,ha,bo=0,SA=1,Bo=Array.isArray(Se[0])?SA:bo,fa="",hc=function(Ht,Kt,wr){var Tr="";return wr instanceof Je?(wr=typeof ae.angle=="number"?Us(wr,new Je(1,0,0,1,Ht,Kt)):Us(new Je(1,0,0,1,Ht,Kt),wr),C===y.ADVANCED&&(wr=Us(new Je(1,0,0,-1,0,0),wr)),Tr=wr.join(" ")+` Tm
`):Tr=M(Ht)+" "+M(Kt)+` Td
`,Tr},us=0;us<Se.length;us++){switch(fa="",Bo){case SA:ha=(Ps?"<":"(")+Se[us][0]+(Ps?">":")"),xo=parseFloat(Se[us][1]),yo=parseFloat(Se[us][2]);break;case bo:ha=(Ps?"<":"(")+Se[us]+(Ps?">":")"),xo=pi(Q),yo=Li(te)}ua!==void 0&&ua[us]!==void 0&&(fa=ua[us]+` Tw
`),us===0?v.push(fa+hc(xo,yo,cr)+ha):Bo===bo?v.push(fa+ha):Bo===SA&&v.push(fa+hc(xo,yo,cr)+ha)}v=Bo===bo?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var ds=`BT
/`;return ds+=gt+" "+Ue+` Tf
`,ds+=M(Ue*Vn)+` TL
`,ds+=mo+`
`,ds+=Mr,ds+=v,ne(ds+="ET"),p[gt]=!0,_r};var W0=f.__private__.clip=f.clip=function(v){return ne(v==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return W0("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ne("n"),this};var fi=f.__private__.isValidStyle=function(v){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(Q=!0),Q};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(v){return fi(v)&&(c=v),this};var Ad=f.__private__.getStyle=f.getStyle=function(v){var Q=c;switch(v){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=v}return Q},ld=f.close=function(){return ne("h"),this};f.stroke=function(){return ne("S"),this},f.fill=function(v){return hA("f",v),this},f.fillEvenOdd=function(v){return hA("f*",v),this},f.fillStroke=function(v){return hA("B",v),this},f.fillStrokeEvenOdd=function(v){return hA("B*",v),this};var hA=function(v,Q){Lt(Q)==="object"?Y0(Q,v):ne(v)},Wl=function(v){v===null||C===y.ADVANCED&&v===void 0||(v=Ad(v),ne(v))};function J0(v,Q,te,ae,pe){var xe=new gl(Q||this.boundingBox,te||this.xStep,ae||this.yStep,this.gState,pe||this.matrix);xe.stream=this.stream;var Se=v+"$$"+this.cloneIndex+++"$$";return Fn(Se,xe),xe}var Y0=function(v,Q){var te=uo[v.key],ae=_t[te];if(ae instanceof To)ne("q"),ne(X0(Q)),ae.gState&&f.setGState(ae.gState),ne(v.matrix.toString()+" cm"),ne("/"+te+" sh"),ne("Q");else if(ae instanceof gl){var pe=new Je(1,0,0,-1,0,ca());v.matrix&&(pe=pe.multiply(v.matrix||ui),te=J0.call(ae,v.key,v.boundingBox,v.xStep,v.yStep,pe).id),ne("q"),ne("/Pattern cs"),ne("/"+te+" scn"),ae.gState&&f.setGState(ae.gState),ne(Q),ne("Q")}},X0=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Jl=f.moveTo=function(v,Q){return ne(M(T(v))+" "+M(J(Q))+" m"),this},po=f.lineTo=function(v,Q){return ne(M(T(v))+" "+M(J(Q))+" l"),this},Aa=f.curveTo=function(v,Q,te,ae,pe,xe){return ne([M(T(v)),M(J(Q)),M(T(te)),M(J(ae)),M(T(pe)),M(J(xe)),"c"].join(" ")),this};f.__private__.line=f.line=function(v,Q,te,ae,pe){if(isNaN(v)||isNaN(Q)||isNaN(te)||isNaN(ae)||!fi(pe))throw new Error("Invalid arguments passed to jsPDF.line");return C===y.COMPAT?this.lines([[te-v,ae-Q]],v,Q,[1,1],pe||"S"):this.lines([[te-v,ae-Q]],v,Q,[1,1]).stroke()},f.__private__.lines=f.lines=function(v,Q,te,ae,pe,xe){var Se,De,qe,ct,ot,yt,rr,cr,_r,ln,Mr,Ps;if(typeof v=="number"&&(Ps=te,te=Q,Q=v,v=Ps),ae=ae||[1,1],xe=xe||!1,isNaN(Q)||isNaN(te)||!Array.isArray(v)||!Array.isArray(ae)||!fi(pe)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jl(Q,te),Se=ae[0],De=ae[1],ct=v.length,ln=Q,Mr=te,qe=0;qe<ct;qe++)(ot=v[qe]).length===2?(ln=ot[0]*Se+ln,Mr=ot[1]*De+Mr,po(ln,Mr)):(yt=ot[0]*Se+ln,rr=ot[1]*De+Mr,cr=ot[2]*Se+ln,_r=ot[3]*De+Mr,ln=ot[4]*Se+ln,Mr=ot[5]*De+Mr,Aa(yt,rr,cr,_r,ln,Mr));return xe&&ld(),Wl(pe),this},f.path=function(v){for(var Q=0;Q<v.length;Q++){var te=v[Q],ae=te.c;switch(te.op){case"m":Jl(ae[0],ae[1]);break;case"l":po(ae[0],ae[1]);break;case"c":Aa.apply(this,ae);break;case"h":ld()}}return this},f.__private__.rect=f.rect=function(v,Q,te,ae,pe){if(isNaN(v)||isNaN(Q)||isNaN(te)||isNaN(ae)||!fi(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return C===y.COMPAT&&(ae=-ae),ne([M(T(v)),M(J(Q)),M(T(te)),M(T(ae)),"re"].join(" ")),Wl(pe),this},f.__private__.triangle=f.triangle=function(v,Q,te,ae,pe,xe,Se){if(isNaN(v)||isNaN(Q)||isNaN(te)||isNaN(ae)||isNaN(pe)||isNaN(xe)||!fi(Se))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-v,ae-Q],[pe-te,xe-ae],[v-pe,Q-xe]],v,Q,[1,1],Se,!0),this},f.__private__.roundedRect=f.roundedRect=function(v,Q,te,ae,pe,xe,Se){if(isNaN(v)||isNaN(Q)||isNaN(te)||isNaN(ae)||isNaN(pe)||isNaN(xe)||!fi(Se))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var De=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*te),xe=Math.min(xe,.5*ae),this.lines([[te-2*pe,0],[pe*De,0,pe,xe-xe*De,pe,xe],[0,ae-2*xe],[0,xe*De,-pe*De,xe,-pe,xe],[2*pe-te,0],[-pe*De,0,-pe,-xe*De,-pe,-xe],[0,2*xe-ae],[0,-xe*De,pe*De,-xe,pe,-xe]],v+pe,Q,[1,1],Se,!0),this},f.__private__.ellipse=f.ellipse=function(v,Q,te,ae,pe){if(isNaN(v)||isNaN(Q)||isNaN(te)||isNaN(ae)||!fi(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*te,Se=4/3*(Math.SQRT2-1)*ae;return Jl(v+te,Q),Aa(v+te,Q-Se,v+xe,Q-ae,v,Q-ae),Aa(v-xe,Q-ae,v-te,Q-Se,v-te,Q),Aa(v-te,Q+Se,v-xe,Q+ae,v,Q+ae),Aa(v+xe,Q+ae,v+te,Q+Se,v+te,Q),Wl(pe),this},f.__private__.circle=f.circle=function(v,Q,te,ae){if(isNaN(v)||isNaN(Q)||isNaN(te)||!fi(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,Q,te,te,ae)},f.setFont=function(v,Q,te){return te&&(Q=P(Q,te)),gt=id(v,Q,{disableWarning:!1}),this};var Z0=f.__private__.getFont=f.getFont=function(){return Dt[id.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var v,Q,te={};for(v in Zt)if(Zt.hasOwnProperty(v))for(Q in te[v]=[],Zt[v])Zt[v].hasOwnProperty(Q)&&te[v].push(Q);return te},f.addFont=function(v,Q,te,ae,pe){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(te=P(te,ae)),pe=pe||"Identity-H",zl.call(this,v,Q,te,pe)};var go,Yl=t.lineWidth||.200025,fA=f.__private__.getLineWidth=f.getLineWidth=function(){return Yl},cd=f.__private__.setLineWidth=f.setLineWidth=function(v){return Yl=v,ne(M(T(v))+" w"),this};f.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(v,Q){if(v=v||[],Q=Q||0,isNaN(Q)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(te){return M(T(te))}).join(" "),Q=M(T(Q)),ne("["+v+"] "+Q+" d"),this};var ud=f.__private__.getLineHeight=f.getLineHeight=function(){return Ue*go};f.__private__.getLineHeight=f.getLineHeight=function(){return Ue*go};var dd=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(go=v),this},hd=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return go};dd(t.lineHeight);var pi=f.__private__.getHorizontalCoordinate=function(v){return T(v)},Li=f.__private__.getVerticalCoordinate=function(v){return C===y.ADVANCED?v:at[I].mediaBox.topRightY-at[I].mediaBox.bottomLeftY-T(v)},ep=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(v){return M(pi(v))},la=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(v){return M(Li(v))},Ts=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return js(Ts)},f.__private__.setStrokeColor=f.setDrawColor=function(v,Q,te,ae){return Ts=Ls({ch1:v,ch2:Q,ch3:te,ch4:ae,pdfColorType:"draw",precision:2}),ne(Ts),this};var Xl=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return js(Xl)},f.__private__.setFillColor=f.setFillColor=function(v,Q,te,ae){return Xl=Ls({ch1:v,ch2:Q,ch3:te,ch4:ae,pdfColorType:"fill",precision:2}),ne(Xl),this};var mo=t.textColor||"0 g",tp=f.__private__.getTextColor=f.getTextColor=function(){return js(mo)};f.__private__.setTextColor=f.setTextColor=function(v,Q,te,ae){return mo=Ls({ch1:v,ch2:Q,ch3:te,ch4:ae,pdfColorType:"text",precision:3}),this};var pA=t.charSpace,rp=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(pA||0)};f.__private__.setCharSpace=f.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return pA=v,this};var Zl=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(v){var Q=f.CapJoinStyles[v];if(Q===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zl=Q,ne(Q+" J"),this};var ec=0;f.__private__.setLineJoin=f.setLineJoin=function(v){var Q=f.CapJoinStyles[v];if(Q===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ec=Q,ne(Q+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(M(T(v))+" M"),this},f.GState=Zf,f.setGState=function(v){(v=typeof v=="string"?Ar[ks[v]]:fd(null,v)).equals(Ui)||(ne("/"+v.id+" gs"),Ui=v)};var fd=function(v,Q){if(!v||!ks[v]){var te=!1;for(var ae in Ar)if(Ar.hasOwnProperty(ae)&&Ar[ae].equals(Q)){te=!0;break}if(te)Q=Ar[ae];else{var pe="GS"+(Object.keys(Ar).length+1).toString(10);Ar[pe]=Q,Q.id=pe}return v&&(ks[v]=Q.id),Ft.publish("addGState",Q),Q}};f.addGState=function(v,Q){return fd(v,Q),this},f.saveGraphicsState=function(){return ne("q"),Ai.push({key:gt,size:Ue,color:mo}),this},f.restoreGraphicsState=function(){ne("Q");var v=Ai.pop();return gt=v.key,Ue=v.size,mo=v.color,Ui=null,this},f.setCurrentTransformationMatrix=function(v){return ne(v.toString()+" cm"),this},f.comment=function(v){return ne("#"+v),this};var gA=function(v,Q){var te=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(xe){isNaN(xe)||(te=parseFloat(xe))}});var ae=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(xe){isNaN(xe)||(ae=parseFloat(xe))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(xe){pe=xe.toString()}}),this},tc=function(v,Q,te,ae){gA.call(this,v,Q),this.type="rect";var pe=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Se){isNaN(Se)||(pe=parseFloat(Se))}});var xe=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(Se){isNaN(Se)||(xe=parseFloat(Se))}}),this},rc=function(){this.page=lr,this.currentPage=I,this.pages=Ee.slice(0),this.pagesContext=at.slice(0),this.x=on,this.y=St,this.matrix=Fs,this.width=wo(I),this.height=ca(I),this.outputDestination=ke,this.id="",this.objectNumber=-1};rc.prototype.restore=function(){lr=this.page,I=this.currentPage,at=this.pagesContext,Ee=this.pages,on=this.x,St=this.y,Fs=this.matrix,nc(I,this.width),sc(I,this.height),ke=this.outputDestination};var pd=function(v,Q,te,ae,pe){ci.push(new rc),lr=I=0,Ee=[],on=v,St=Q,Fs=pe,ql([te,ae])},np=function(v){if(li[v])ci.pop().restore();else{var Q=new rc,te="Xo"+(Object.keys(Wr).length+1).toString(10);Q.id=te,li[v]=te,Wr[te]=Q,Ft.publish("addFormObject",Q),ci.pop().restore()}};for(var mA in f.beginFormObject=function(v,Q,te,ae,pe){return pd(v,Q,te,ae,pe),this},f.endFormObject=function(v){return np(v),this},f.doFormObject=function(v,Q){var te=Wr[li[v]];return ne("q"),ne(Q.toString()+" cm"),ne("/"+te.id+" Do"),ne("Q"),this},f.getFormObject=function(v){var Q=Wr[li[v]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},f.save=function(v,Q){return v=v||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(Io(uA(ji()),v),typeof Io.unload=="function"&&et.setTimeout&&setTimeout(Io.unload,911),this):new Promise(function(te,ae){try{var pe=Io(uA(ji()),v);typeof Io.unload=="function"&&et.setTimeout&&setTimeout(Io.unload,911),te(pe)}catch(xe){ae(xe.message)}})},Ze.API)Ze.API.hasOwnProperty(mA)&&(mA==="events"&&Ze.API.events.length?function(v,Q){var te,ae,pe;for(pe=Q.length-1;pe!==-1;pe--)te=Q[pe][0],ae=Q[pe][1],v.subscribe.apply(v,[te].concat(typeof ae=="function"?[ae]:ae))}(Ft,Ze.API.events):f[mA]=Ze.API[mA]);var wo=f.getPageWidth=function(v){return(at[v=v||I].mediaBox.topRightX-at[v].mediaBox.bottomLeftX)/Pe},nc=f.setPageWidth=function(v,Q){at[v].mediaBox.topRightX=Q*Pe+at[v].mediaBox.bottomLeftX},ca=f.getPageHeight=function(v){return(at[v=v||I].mediaBox.topRightY-at[v].mediaBox.bottomLeftY)/Pe},sc=f.setPageHeight=function(v,Q){at[v].mediaBox.topRightY=Q*Pe+at[v].mediaBox.bottomLeftY};return f.internal={pdfEscape:kn,getStyle:Ad,getFont:Z0,getFontSize:Qe,getCharSpace:rp,getTextColor:tp,getLineHeight:ud,getLineHeightFactor:hd,getLineWidth:fA,write:lt,getHorizontalCoordinate:pi,getVerticalCoordinate:Li,getCoordinateString:ep,getVerticalCoordinateString:la,collections:{},newObject:Qr,newAdditionalObject:nA,newObjectDeferred:Er,newObjectDeferredBegin:Kn,getFilters:di,putStream:As,events:Ft,scaleFactor:Pe,pageSize:{getWidth:function(){return wo(I)},setWidth:function(v){nc(I,v)},getHeight:function(){return ca(I)},setHeight:function(v){sc(I,v)}},encryptionOptions:u,encryption:An,getEncryptor:q0,output:dA,getNumberOfPages:H0,pages:Ee,out:ne,f2:$,f3:L,getPageInfo:od,getPageInfoByObjId:st,getCurrentPageInfo:$0,getPDFVersion:w,Point:gA,Rectangle:tc,Matrix:Je,hasHotfix:ad},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return wo(I)},set:function(v){nc(I,v)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ca(I)},set:function(v){sc(I,v)},enumerable:!0,configurable:!0}),O0.call(f,_e),gt="F1",nd(s,r),Ft.publish("initialized"),f}ZA.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},ZA.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ZA.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ZA.prototype.processOwnerPassword=function(t,e){return Ew(Sw(e).substr(0,5),t)},ZA.prototype.encryptor=function(t,e){var r=Sw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Ew(r,n)}},Zf.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Lt(t)!==Lt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ze.API={events:[]},Ze.version="2.5.2";var dr=Ze.API,Yv=1,rA=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},GA=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(t){return t.toFixed(2)},Ca=function(t){return t.toFixed(5)};dr.__acroform__={};var Hn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},xb=function(t){return t*Yv},yi=function(t){var e=new BN,r=Ke.internal.getHeight(t)||0,n=Ke.internal.getWidth(t)||0;return e.BBox=[0,0,Number(At(n)),Number(At(r))],e},_7=dr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},F7=dr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},k7=dr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Br=dr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return k7(t,e-1)},Cr=dr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _7(t,e-1)},Nr=dr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return F7(t,e-1)},U7=dr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],A=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+A)||0,l.upperRight_X=r(s+a)||0,l.upperRight_Y=n(i)||0,[Number(At(l.lowerLeft_X)),Number(At(l.lowerLeft_Y)),Number(At(l.upperRight_X)),Number(At(l.upperRight_Y))]},I7=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=_w(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+At(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=yi(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},_w=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var i=r,a=Ke.internal.getHeight(t)||0;a=a<0?-a:a;var A=Ke.internal.getWidth(t)||0;A=A<0?-A:A;var l=function(L,T,W){if(L+1<s.length){var J=T+" "+s[L+1][0];return Th(J,t,W).width<=A-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,h=Th("3",t,i).height,p=t.multiline?a-i:(a-h)/2,f=p+=2,m=0,w=0,B=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Th(e,t,i=12).width+", FieldWidth:"+A+`
`;break}for(var x="",y=0,C=0;C<s.length;C++)if(s.hasOwnProperty(C)){var k=!1;if(s[C].length!==1&&B!==s[C].length-1){if((h+2)*(y+2)+2>a)continue e;x+=s[C][B],k=!0,w=C,C--}else{x=(x+=s[C][B]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var R=parseInt(C),P=l(R,x,i),M=C>=s.length-1;if(P&&!M){x+=" ",B=0;continue}if(P||M){if(M)w=R;else if(t.multiline&&(h+2)*(y+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>a)continue e;w=R}}for(var U="",H=m;H<=w;H++){var $=s[H];if(t.multiline){if(H===w){U+=$[B]+" ",B=(B+1)%$.length;continue}if(H===m){U+=$[$.length-1]+" ";continue}}U+=$[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,u=Th(U,t,i).width,t.textAlign){case"right":c=A-u-2;break;case"center":c=(A-u)/2;break;case"left":default:c=2}e+=At(c)+" "+At(f)+` Td
`,e+="("+rA(U)+`) Tj
`,e+=-At(c)+` 0 Td
`,f=-(i+2),u=0,m=k?w:w+1,y++,x=""}break}return n.text=e,n.fontSize=i,n},Th=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},j7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},L7=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Q7=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),Lt(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},T7=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ii.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(j7)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Yv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new CN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&L7(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var A=n[a],l=[],c=A.Rect;if(A.Rect&&(A.Rect=U7(A.Rect,s)),s.internal.newObjectDeferredBegin(A.objId,!0),A.DA=Ke.createDefaultAppearanceStream(A),Lt(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=c,A.hasAppearanceStream&&!A.appearanceStreamContent){var u=I7(A);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(A.appearanceStreamContent){var h="";for(var p in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(p)){var f=A.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var m=f[a];typeof m=="function"&&(m=m.call(s,A)),h+="/"+a+" "+m+" ",s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(s,A)),h+="/"+a+" "+m,s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:A.objId}),s.internal.out("endobj")}i&&Q7(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},bN=dr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Lt(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+rA(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ug=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+rA(n(t))+")"},Ci=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ci.prototype.toString=function(){return this.objId+" 0 R"},Ci.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ci.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:bN(s,this.objId,this.scope)}):s instanceof Ci?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var BN=function(){Ci.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Hn(BN,Ci);var CN=function(){Ci.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+rA(r(t))+")"}},set:function(r){t=r}})};Hn(CN,Ci);var ii=function t(){Ci.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Br(e,3)},set:function(x){x?this.F=Cr(e,3):this.F=Nr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof e0)return;i="FieldObject"+t.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+rA(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Yv:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof e0||this instanceof zo))return Ug(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof zr?p:Ug(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof zr?x:x.substr(0,1)==="("?GA(x.substr(1,x.length-2)):GA(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?GA(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof zr?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof zr?f:Ug(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof zr?x:x.substr(0,1)==="("?GA(x.substr(1,x.length-2)):GA(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?GA(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof zr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(x){x=!!x,w=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(x){m=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,1)},set:function(x){x?this.Ff=Cr(this.Ff,1):this.Ff=Nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,2)},set:function(x){x?this.Ff=Cr(this.Ff,2):this.Ff=Nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,3)},set:function(x){x?this.Ff=Cr(this.Ff,3):this.Ff=Nr(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');B=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(B){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:B=2;break;case"center":case 1:B=1;break;case"left":case 0:default:B=0}}})};Hn(ii,Ci);var El=function(){ii.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bN(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,A){A||(A=1);for(var l,c=[];l=a.exec(i);)c.push(l[A]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,18)},set:function(r){r?this.Ff=Cr(this.Ff,18):this.Ff=Nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Cr(this.Ff,19):this.Ff=Nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,20)},set:function(r){r?(this.Ff=Cr(this.Ff,20),e.sort()):this.Ff=Nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,22)},set:function(r){r?this.Ff=Cr(this.Ff,22):this.Ff=Nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,23)},set:function(r){r?this.Ff=Cr(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,27)},set:function(r){r?this.Ff=Cr(this.Ff,27):this.Ff=Nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Hn(El,ii);var _l=function(){El.call(this),this.fontName="helvetica",this.combo=!1};Hn(_l,El);var Fl=function(){_l.call(this),this.combo=!0};Hn(Fl,_l);var of=function(){Fl.call(this),this.edit=!0};Hn(of,Fl);var zr=function(){ii.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,15)},set:function(r){r?this.Ff=Cr(this.Ff,15):this.Ff=Nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,16)},set:function(r){r?this.Ff=Cr(this.Ff,16):this.Ff=Nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,17)},set:function(r){r?this.Ff=Cr(this.Ff,17):this.Ff=Nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,26)},set:function(r){r?this.Ff=Cr(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+rA(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Lt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Hn(zr,ii);var Af=function(){zr.call(this),this.pushButton=!0};Hn(Af,zr);var kl=function(){zr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Hn(kl,zr);var e0=function(){var t,e;ii.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(A){return A};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+rA(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Lt(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ke.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hn(e0,ii),kl.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},kl.prototype.createOption=function(t){var e=new e0;return e.Parent=this,e.optionName=t,this.Kids.push(e),P7.call(this.scope,e),e};var lf=function(){zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ke.CheckBox.createAppearanceStream()};Hn(lf,zr);var zo=function(){ii.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,13)},set:function(e){e?this.Ff=Cr(this.Ff,13):this.Ff=Nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,21)},set:function(e){e?this.Ff=Cr(this.Ff,21):this.Ff=Nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,23)},set:function(e){e?this.Ff=Cr(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,24)},set:function(e){e?this.Ff=Cr(this.Ff,24):this.Ff=Nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,25)},set:function(e){e?this.Ff=Cr(this.Ff,25):this.Ff=Nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,26)},set:function(e){e?this.Ff=Cr(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hn(zo,ii);var cf=function(){zo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Br(this.Ff,14)},set:function(t){t?this.Ff=Cr(this.Ff,14):this.Ff=Nr(this.Ff,14)}}),this.password=!0};Hn(cf,zo);var Ke={CheckBox:{createAppearanceStream:function(){return{N:{On:Ke.CheckBox.YesNormal},D:{On:Ke.CheckBox.YesPushDown,Off:Ke.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=_w(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+At(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=yi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=Ke.internal.getHeight(t),a=Ke.internal.getWidth(t),A=_w(t,t.caption);return s.push("1 g"),s.push("0 0 "+At(a)+" "+At(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+At(a-1)+" "+At(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+At(A.fontSize)+" Tf "+n),s.push(A.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ke.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ke.RadioButton.Circle.YesNormal,e.D[t]=Ke.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=yi(t);e.scope=t.scope;var r=[],n=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Ke.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ca(Ke.internal.getWidth(t)/2)+" "+Ca(Ke.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=[],n=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ke.internal.Bezier_C).toFixed(5)),a=Number((n*Ke.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ca(Ke.internal.getWidth(t)/2)+" "+Ca(Ke.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ca(Ke.internal.getWidth(t)/2)+" "+Ca(Ke.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=[],n=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ke.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ca(Ke.internal.getWidth(t)/2)+" "+Ca(Ke.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ke.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ke.RadioButton.Cross.YesNormal,e.D[t]=Ke.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=yi(t);e.scope=t.scope;var r=[],n=Ke.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+At(Ke.internal.getWidth(t)-2)+" "+At(Ke.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),r.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),r.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),r.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=Ke.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+At(Ke.internal.getWidth(t)-2)+" "+At(Ke.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),n.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),n.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),n.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=yi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ke.internal.getWidth(t))+" "+At(Ke.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ke.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ke.internal.getWidth(t),r=Ke.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ke.internal.getWidth=function(t){var e=0;return Lt(t)==="object"&&(e=xb(t.Rect[2])),e},Ke.internal.getHeight=function(t){var e=0;return Lt(t)==="object"&&(e=xb(t.Rect[3])),e};var P7=dr.addField=function(t){if(T7(this,t),!(t instanceof ii))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};dr.AcroFormChoiceField=El,dr.AcroFormListBox=_l,dr.AcroFormComboBox=Fl,dr.AcroFormEditBox=of,dr.AcroFormButton=zr,dr.AcroFormPushButton=Af,dr.AcroFormRadioButton=kl,dr.AcroFormCheckBox=lf,dr.AcroFormTextField=zo,dr.AcroFormPasswordField=cf,dr.AcroFormAppearance=Ke,dr.AcroForm={ChoiceField:El,ListBox:_l,ComboBox:Fl,EditBox:of,Button:zr,PushButton:Af,RadioButton:kl,CheckBox:lf,TextField:zo,PasswordField:cf,Appearance:Ke},Ze.AcroForm={ChoiceField:El,ListBox:_l,ComboBox:Fl,EditBox:of,Button:zr,PushButton:Af,RadioButton:kl,CheckBox:lf,TextField:zo,PasswordField:cf,Appearance:Ke};Ze.AcroForm;function NN(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(L,T){var W,J,le,ie,Z,q=e;if((T=T||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(P(L))for(Z in r)for(le=r[Z],W=0;W<le.length;W+=1){for(ie=!0,J=0;J<le[W].length;J+=1)if(le[W][J]!==void 0&&le[W][J]!==L[J]){ie=!1;break}if(ie===!0){q=Z;break}}else for(Z in r)for(le=r[Z],W=0;W<le.length;W+=1){for(ie=!0,J=0;J<le[W].length;J+=1)if(le[W][J]!==void 0&&le[W][J]!==L.charCodeAt(J)){ie=!1;break}if(ie===!0){q=Z;break}}return q===e&&T!==e&&(q=T),q},s=function L(T){for(var W=this.internal.write,J=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:T.width}),ie.push({key:"Height",value:T.height}),T.colorSpace===B.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===B.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var Z="",q=0,z=T.transparency.length;q<z;q++)Z+=T.transparency[q]+" "+T.transparency[q]+" ";ie.push({key:"Mask",value:"["+Z+"]"})}T.sMask!==void 0&&ie.push({key:"SMask",value:T.objectId+1+" 0 R"});var se=T.filter!==void 0?["/"+T.filter]:void 0;if(J({data:T.data,additionalKeyValues:ie,alreadyAppliedFilters:se,objectId:T.objectId}),W("endobj"),"sMask"in T&&T.sMask!==void 0){var ue="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,_={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:ue,data:T.sMask};"filter"in T&&(_.filter=T.filter),L.call(this,_)}if(T.colorSpace===B.INDEXED){var I=this.internal.newObject();J({data:U(new Uint8Array(T.palette)),objectId:I}),W("endobj")}},i=function(){var L=this.internal.collections.addImage_images;for(var T in L)s.call(this,L[T])},a=function(){var L,T=this.internal.collections.addImage_images,W=this.internal.write;for(var J in T)W("/I"+(L=T[J]).index,L.objectId,"0","R")},A=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var L=this.internal.collections.addImage_images;return A.call(this),L},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(L){return typeof t["process"+L.toUpperCase()]=="function"},h=function(L){return Lt(L)==="object"&&L.nodeType===1},p=function(L,T){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var W=""+L.getAttribute("src");if(W.indexOf("data:image/")===0)return lu(unescape(W).split("base64,").pop());var J=t.loadFile(W,!0);if(J!==void 0)return J}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var le;switch(T){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return lu(L.toDataURL(le,1).split("base64,").pop())}},f=function(L){var T=this.internal.collections.addImage_images;if(T){for(var W in T)if(L===T[W].alias)return T[W]}},m=function(L,T,W){return L||T||(L=-96,T=-96),L<0&&(L=-1*W.width*72/L/this.internal.scaleFactor),T<0&&(T=-1*W.height*72/T/this.internal.scaleFactor),L===0&&(L=T*W.width/W.height),T===0&&(T=L*W.height/W.width),[L,T]},w=function(L,T,W,J,le,ie){var Z=m.call(this,W,J,le),q=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,se=l.call(this);if(W=Z[0],J=Z[1],se[le.index]=le,ie){ie*=Math.PI/180;var ue=Math.cos(ie),_=Math.sin(ie),I=function(Y){return Y.toFixed(4)},V=[I(ue),I(_),I(-1*_),I(ue),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,q(L),z(T+J),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([q(W),"0","0",q(J),"0","0","cm"].join(" "))):this.internal.write([q(W),"0","0",q(J),q(L),z(T+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},B=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(L){var T,W,J=0;if(typeof L=="string")for(W=L.length,T=0;T<W;T++)J=(J<<5)-J+L.charCodeAt(T),J|=0;else if(P(L))for(W=L.byteLength/2,T=0;T<W;T++)J=(J<<5)-J+L[T],J|=0;return J},C=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var T=!0;return L.length===0&&(T=!1),L.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(T=!1),T},k=t.__addimage__.extractImageFromDataUrl=function(L){var T=(L=L||"").split("base64,"),W=null;if(T.length===2){var J=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(J)&&(W={mimeType:J[1],charset:J[2],data:T[1]})}return W},R=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(L){return R()&&L instanceof ArrayBuffer};var P=t.__addimage__.isArrayBufferView=function(L){return R()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},M=t.__addimage__.binaryStringToUint8Array=function(L){for(var T=L.length,W=new Uint8Array(T),J=0;J<T;J++)W[J]=L.charCodeAt(J);return W},U=t.__addimage__.arrayBufferToBinaryString=function(L){for(var T="",W=P(L)?L:new Uint8Array(L),J=0;J<W.length;J+=8192)T+=String.fromCharCode.apply(null,W.subarray(J,J+8192));return T};t.addImage=function(){var L,T,W,J,le,ie,Z,q,z;if(typeof arguments[1]=="number"?(T=e,W=arguments[1],J=arguments[2],le=arguments[3],ie=arguments[4],Z=arguments[5],q=arguments[6],z=arguments[7]):(T=arguments[1],W=arguments[2],J=arguments[3],le=arguments[4],ie=arguments[5],Z=arguments[6],q=arguments[7],z=arguments[8]),Lt(L=arguments[0])==="object"&&!h(L)&&"imageData"in L){var se=L;L=se.imageData,T=se.format||T||e,W=se.x||W||0,J=se.y||J||0,le=se.w||se.width||le,ie=se.h||se.height||ie,Z=se.alias||Z,q=se.compression||q,z=se.rotation||se.angle||z}var ue=this.internal.getFilters();if(q===void 0&&ue.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(W)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var _=H.call(this,L,T,Z,q);return w.call(this,W,J,le,ie,_,z),this};var H=function(L,T,W,J){var le,ie,Z;if(typeof L=="string"&&n(L)===e){L=unescape(L);var q=$(L,!1);(q!==""||(q=t.loadFile(L,!0))!==void 0)&&(L=q)}if(h(L)&&(L=p(L,T)),T=n(L,T),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((Z=W)==null||Z.length===0)&&(W=function(z){return typeof z=="string"||P(z)?y(z):P(z.data)?y(z.data):null}(L)),(le=f.call(this,W))||(R()&&(L instanceof Uint8Array||T==="RGBA"||(ie=L,L=M(L))),le=this["process"+T.toUpperCase()](L,c.call(this),W,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in t.image_compression?z:x.NONE}(J),ie)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},$=t.__addimage__.convertBase64ToBinaryString=function(L,T){var W;T=typeof T!="boolean"||T;var J,le="";if(typeof L=="string"){J=(W=k(L))!==null?W.data:L;try{le=lu(J)}catch(ie){if(T)throw C(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};t.getImageProperties=function(L){var T,W,J="";if(h(L)&&(L=p(L)),typeof L=="string"&&n(L)===e&&((J=$(L,!1))===""&&(J=t.loadFile(L)||""),L=J),W=n(L),!u(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!R()||L instanceof Uint8Array||(L=M(L)),!(T=this["process"+W.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=W,T}})(Ze.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ze.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(w.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y)+"] ")+"/Contents ("+f(x(n.contents))+")",i+=" /Popup "+B.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(x(y))+") >>",w.content=i;var C=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+A(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+A(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(i+=" /Open true"),i+=" >>",B.content=i,this.internal.write(w.objId,"0 R",B.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+A(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var R=this.annotations._nameMap[n.options.name];n.options.pageNumber=R.page,n.options.top=R.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var P=A(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,a){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:a,type:"link"})},t.textWithLink=function(r,n,s,i){var a,A,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){A=i.maxWidth;var u=this.splitTextToSize(r,A).length;a=Math.ceil(c*u)}else A=l,a=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,A,a,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ze.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},A=t.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&s.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&i(w)&&e[w.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(w){var B=0,x=r,y="",C=0;for(B=0;B<w.length;B+=1)x[w.charCodeAt(B)]!==void 0?(C++,typeof(x=x[w.charCodeAt(B)])=="number"&&(y+=String.fromCharCode(x),x=r,C=0),B===w.length-1&&(x=r,y+=w.charAt(B-(C-1)),B-=C-1,C=0)):(x=r,y+=w.charAt(B-C),B-=C,C=0);return y};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(w,B,x){return a(w)?i(w)===!1?-1:!c(w)||!a(B)&&!a(x)||!a(x)&&A(B)||A(w)&&!a(B)||A(w)&&l(B)||A(w)&&A(B)?0:u(w)&&a(B)&&!A(B)&&a(x)&&c(x)?3:A(w)||!a(x)?1:2:-1},f=function(w){var B=0,x=0,y=0,C="",k="",R="",P=(w=w||"").split("\\s+"),M=[];for(B=0;B<P.length;B+=1){for(M.push(""),x=0;x<P[B].length;x+=1)C=P[B][x],k=P[B][x-1],R=P[B][x+1],a(C)?(y=p(C,k,R),M[B]+=y!==-1?String.fromCharCode(e[C.charCodeAt(0)][y]):C):M[B]+=C;M[B]=h(M[B])}return M.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var w,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(B)){var y=0;for(x=[],y=0;y<B.length;y+=1)Array.isArray(B[y])?x.push([f(B[y][0]),B[y][1],B[y][2]]):x.push([f(B[y])]);w=x}else w=f(B);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",m])}(Ze.API),Ze.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(A){r=A}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(A){n=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(A){s=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(A){i=A}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(A){a=A}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ze.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(w){m=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,w=0,B=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,k){return C.concat(B.splitTextToSize(k,x))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)f<(w=this.getStringUnitWidth(l[y],{font:h})*u)&&(f=w);return f!==0&&(m=l.length),{w:f/=p,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,m,w,B,x=[],y=[],C=[],k={},R={},P=[],M=[],U=(p=p||{}).autoSize||!1,H=p.printHeaders!==!1,$=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,L=p.margins||Object.assign({width:this.getPageWidth()},e),T=typeof p.padding=="number"?p.padding:3,W=p.headerBackgroundColor||"#c8c8c8",J=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=J,this.setFontSize($),h==null)y=x=Object.keys(u[0]),C=x.map(function(){return"left"});else if(Array.isArray(h)&&Lt(h[0])==="object")for(x=h.map(function(se){return se.name}),y=h.map(function(se){return se.prompt||se.name||""}),C=h.map(function(se){return se.align||"left"}),f=0;f<h.length;f+=1)R[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=x=h,C=x.map(function(){return"left"}));if(U||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<x.length;f+=1){for(k[B=x[f]]=u.map(function(se){return se[B]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=k[B],this.setFont(void 0,"normal"),w=0;w<m.length;w+=1)P.push(this.getTextDimensions(m[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[B]=Math.max.apply(null,P)+T+T,P=[]}if(H){var le={};for(f=0;f<x.length;f+=1)le[x[f]]={},le[x[f]].text=y[f],le[x[f]].align=C[f];var ie=A.call(this,le,R);M=x.map(function(se){return new i(l,c,R[se],ie,le[se].text,void 0,le[se].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var Z=h.reduce(function(se,ue){return se[ue.name]=ue.align,se},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var q=A.call(this,u[f],R);for(w=0;w<x.length;w+=1){var z=u[f][x[w]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:w,data:z},this),a.call(this,new i(l,c,R[x[w]],q,z,f+2,Z[x[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var A=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+u+u},this).reduce(function(f,m){return Math.max(f,m)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Ze.API);var SN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},EN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Fw=NN(EN),_N=[100,200,300,400,500,600,700,800,900],R7=NN(_N);function kw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return SN[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof Fw[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function yb(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var D7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},bb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bb(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function O7(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},D7,r.genericFontFamilies||{}),i=null,a=null,A=0;A<e.length;++A)if(s[(i=kw(e[A])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){a=t[i.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+Bb(i)+"' and default family '"+n+"'.");if(a=function(l,c){if(c[l])return c[l];var u=Fw[l],h=u<=Fw.normal?-1:1,p=yb(c,EN,u,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(i.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=SN[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(i.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=R7[l],h=yb(c,_N,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Bb(i)+"'.");return a}function Cb(t){return t.trimLeft()}function M7(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function H7(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ph,Nb,Sb,Ig=["times"];(function(t){var e,r,n,s,i,a,A,l,c,u=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new l,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new a,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new a,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=_;Object.defineProperty(this,"pdf",{get:function(){return I}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(we){V=!!we}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(we){Y=!!we}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(we){isNaN(we)||(ee=we)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(we){isNaN(we)||(re=we)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(we){var ne;typeof we=="number"?ne=[we,we,we,we]:((ne=new Array(4))[0]=we[0],ne[1]=we.length>=2?we[1]:ne[0],ne[2]=we.length>=3?we[2]:ne[0],ne[3]=we.length>=4?we[3]:ne[1]),c.margin=ne}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(we){fe=we}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(we){de=we}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(we){Be=we}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(we){we instanceof u&&(c=we)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(we){c.path=we}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(we){Ee=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var ne;ne=p(we),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var ne=p(we);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var je=null;function ke(we,ne){if(je===null){var lt=function(Ve){var _e=[];return Object.keys(Ve).forEach(function(Ue){Ve[Ue].forEach(function(Te){var Qe=null;switch(Te){case"bold":Qe={family:Ue,weight:"bold"};break;case"italic":Qe={family:Ue,style:"italic"};break;case"bolditalic":Qe={family:Ue,weight:"bold",style:"italic"};break;case"":case"normal":Qe={family:Ue}}Qe!==null&&(Qe.ref={name:Ue,style:Te},_e.push(Qe))})}),_e}(we.getFontList());je=function(Ve){for(var _e={},Ue=0;Ue<Ve.length;++Ue){var Te=kw(Ve[Ue]),Qe=Te.family,ze=Te.stretch,it=Te.style,dt=Te.weight;_e[Qe]=_e[Qe]||{},_e[Qe][ze]=_e[Qe][ze]||{},_e[Qe][ze][it]=_e[Qe][ze][it]||{},_e[Qe][ze][it][dt]=Te}return _e}(lt.concat(ne))}return je}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(we){je=null,$e=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var ne;if(this.ctx.font=we,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var lt=ne[1],Ve=(ne[2],ne[3]),_e=ne[4],Ue=(ne[5],ne[6]),Te=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(Te==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:Te==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var Qe=function(tt){var gt,Pe,on=[],St=tt.trim();if(St==="")return Ig;if(St in bb)return[bb[St]];for(;St!=="";){switch(Pe=null,gt=(St=Cb(St)).charAt(0)){case'"':case"'":Pe=M7(St.substring(1),gt);break;default:Pe=H7(St)}if(Pe===null||(on.push(Pe[0]),(St=Cb(Pe[1]))!==""&&St.charAt(0)!==","))return Ig;St=St.replace(/^,/,"")}return on}(Ue);if(this.fontFaces){var ze=O7(ke(this.pdf,this.fontFaces),Qe.map(function(tt){return{family:tt,stretch:"normal",weight:Ve,style:lt}}));this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var it="";(Ve==="bold"||parseInt(Ve,10)>=700||lt==="bold")&&(it="bold"),lt==="italic"&&(it+="italic"),it.length===0&&(it="normal");for(var dt="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bt=0;Bt<Qe.length;Bt++){if(this.pdf.internal.getFont(Qe[Bt],it,{noFallback:!0,disableWarning:!0})!==void 0){dt=Qe[Bt];break}if(it==="bolditalic"&&this.pdf.internal.getFont(Qe[Bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)dt=Qe[Bt],it="bold";else if(this.pdf.internal.getFont(Qe[Bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){dt=Qe[Bt],it="normal";break}}if(dt===""){for(var Tt=0;Tt<Qe.length;Tt++)if(pt[Qe[Tt]]){dt=pt[Qe[Tt]];break}}dt=dt===""?"Times":dt,this.pdf.setFont(dt,it)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};h.prototype.setLineDash=function(_){this.lineDash=_},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(_,I){if(isNaN(_)||isNaN(I))throw Mt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(_,I));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(_,I)},h.prototype.closePath=function(){var _=new a(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&Lt(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){_=new a(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(_.x,_.y)},h.prototype.lineTo=function(_,I){if(isNaN(_)||isNaN(I))throw Mt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(_,I));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(_,I,V,Y){if(isNaN(V)||isNaN(Y)||isNaN(_)||isNaN(I))throw Mt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new a(V,Y)),re=this.ctx.transform.applyToPoint(new a(_,I));this.path.push({type:"qct",x1:re.x,y1:re.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},h.prototype.bezierCurveTo=function(_,I,V,Y,ee,re){if(isNaN(ee)||isNaN(re)||isNaN(_)||isNaN(I)||isNaN(V)||isNaN(Y))throw Mt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new a(ee,re)),de=this.ctx.transform.applyToPoint(new a(_,I)),Be=this.ctx.transform.applyToPoint(new a(V,Y));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Be.x,y2:Be.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},h.prototype.arc=function(_,I,V,Y,ee,re){if(isNaN(_)||isNaN(I)||isNaN(V)||isNaN(Y)||isNaN(ee))throw Mt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new a(_,I));_=fe.x,I=fe.y;var de=this.ctx.transform.applyToPoint(new a(0,V)),Be=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(de.x-Be.x,2)+Math.pow(de.y-Be.y,2))}Math.abs(ee-Y)>=2*Math.PI&&(Y=0,ee=2*Math.PI),this.path.push({type:"arc",x:_,y:I,radius:V,startAngle:Y,endAngle:ee,counterclockwise:re})},h.prototype.arcTo=function(_,I,V,Y,ee){throw new Error("arcTo not implemented.")},h.prototype.rect=function(_,I,V,Y){if(isNaN(_)||isNaN(I)||isNaN(V)||isNaN(Y))throw Mt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,I),this.lineTo(_+V,I),this.lineTo(_+V,I+Y),this.lineTo(_,I+Y),this.lineTo(_,I),this.lineTo(_+V,I),this.lineTo(_,I)},h.prototype.fillRect=function(_,I,V,Y){if(isNaN(_)||isNaN(I)||isNaN(V)||isNaN(Y))throw Mt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,I,V,Y),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},h.prototype.strokeRect=function(_,I,V,Y){if(isNaN(_)||isNaN(I)||isNaN(V)||isNaN(Y))throw Mt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(_,I,V,Y),this.stroke())},h.prototype.clearRect=function(_,I,V,Y){if(isNaN(_)||isNaN(I)||isNaN(V)||isNaN(Y))throw Mt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,I,V,Y))},h.prototype.save=function(_){_=typeof _!="boolean"||_;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},h.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(I),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(_){var I,V,Y,ee;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))I=0,V=0,Y=0,ee=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(re!==null)I=parseInt(re[1]),V=parseInt(re[2]),Y=parseInt(re[3]),ee=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)I=parseInt(re[1]),V=parseInt(re[2]),Y=parseInt(re[3]),ee=parseFloat(re[4]);else{if(ee=1,typeof _=="string"&&_.charAt(0)!=="#"){var fe=new vN(_);_=fe.ok?fe.toHex():"#000000"}_.length===4?(I=_.substring(1,2),I+=I,V=_.substring(2,3),V+=V,Y=_.substring(3,4),Y+=Y):(I=_.substring(1,3),V=_.substring(3,5),Y=_.substring(5,7)),I=parseInt(I,16),V=parseInt(V,16),Y=parseInt(Y,16)}}return{r:I,g:V,b:Y,a:ee,style:_}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(_,I,V,Y){if(isNaN(I)||isNaN(V)||typeof _!="string")throw Mt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!f.call(this)){var ee=q(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;T.call(this,{text:_,x:I,y:V,scale:re,angle:ee,align:this.textAlign,maxWidth:Y})}},h.prototype.strokeText=function(_,I,V,Y){if(isNaN(I)||isNaN(V)||typeof _!="string")throw Mt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){Y=isNaN(Y)?void 0:Y;var ee=q(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;T.call(this,{text:_,x:I,y:V,scale:re,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:Y})}},h.prototype.measureText=function(_){if(typeof _!="string")throw Mt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,V=this.pdf.internal.scaleFactor,Y=I.internal.getFontSize(),ee=I.getStringUnitWidth(_)*Y/I.internal.scaleFactor,re=function(fe){var de=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new re({width:ee*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(_,I){if(isNaN(_)||isNaN(I))throw Mt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(_,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(_){if(isNaN(_))throw Mt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new l(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},h.prototype.translate=function(_,I){if(isNaN(_)||isNaN(I))throw Mt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,_,I);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(_,I,V,Y,ee,re){if(isNaN(_)||isNaN(I)||isNaN(V)||isNaN(Y)||isNaN(ee)||isNaN(re))throw Mt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(_,I,V,Y,ee,re);this.ctx.transform=this.ctx.transform.multiply(fe)},h.prototype.setTransform=function(_,I,V,Y,ee,re){_=isNaN(_)?1:_,I=isNaN(I)?0:I,V=isNaN(V)?0:V,Y=isNaN(Y)?1:Y,ee=isNaN(ee)?0:ee,re=isNaN(re)?0:re,this.ctx.transform=new l(_,I,V,Y,ee,re)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(_,I,V,Y,ee,re,fe,de,Be){var Ee=this.pdf.getImageProperties(_),je=1,ke=1,$e=1,we=1;Y!==void 0&&de!==void 0&&($e=de/Y,we=Be/ee,je=Ee.width/Y*de/Y,ke=Ee.height/ee*Be/ee),re===void 0&&(re=I,fe=V,I=0,V=0),Y!==void 0&&de===void 0&&(de=Y,Be=ee),Y===void 0&&de===void 0&&(de=Ee.width,Be=Ee.height);for(var ne,lt=this.ctx.transform.decompose(),Ve=q(lt.rotate.shx),_e=new l,Ue=(_e=(_e=(_e=_e.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new A(re-I*$e,fe-V*we,Y*je,ee*ke)),Te=B.call(this,Ue),Qe=[],ze=0;ze<Te.length;ze+=1)Qe.indexOf(Te[ze])===-1&&Qe.push(Te[ze]);if(C(Qe),this.autoPaging)for(var it=Qe[0],dt=Qe[Qe.length-1],pt=it;pt<dt+1;pt++){this.pdf.setPage(pt);var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=pt===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pe=pt===1?0:tt+(pt-2)*gt;if(this.ctx.clip_path.length!==0){var on=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ne,this.posX+this.margin[3],-Pe+Tt+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=on}var St=JSON.parse(JSON.stringify(Ue));St=y([St],this.posX+this.margin[3],-Pe+Tt+this.ctx.prevPageLastElemOffset)[0];var Fs=(pt>it||pt<dt)&&w.call(this);Fs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,gt,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",St.x,St.y,St.w,St.h,null,null,Ve),Fs&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,Ve)};var B=function(_,I,V){var Y=[];I=I||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":Y.push(Math.floor((_.y+ee)/V)+1);break;case"arc":Y.push(Math.floor((_.y+ee-_.radius)/V)+1),Y.push(Math.floor((_.y+ee+_.radius)/V)+1);break;case"qct":var re=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);Y.push(Math.floor((re.y+ee)/V)+1),Y.push(Math.floor((re.y+re.h+ee)/V)+1);break;case"bct":var fe=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);Y.push(Math.floor((fe.y+ee)/V)+1),Y.push(Math.floor((fe.y+fe.h+ee)/V)+1);break;case"rect":Y.push(Math.floor((_.y+ee)/V)+1),Y.push(Math.floor((_.y+_.h+ee)/V)+1)}for(var de=0;de<Y.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<Y[de];)x.call(this);return Y},x=function(){var _=this.fillStyle,I=this.strokeStyle,V=this.font,Y=this.lineCap,ee=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=I,this.font=V,this.lineCap=Y,this.lineWidth=ee,this.lineJoin=re},y=function(_,I,V){for(var Y=0;Y<_.length;Y++)switch(_[Y].type){case"bct":_[Y].x2+=I,_[Y].y2+=V;case"qct":_[Y].x1+=I,_[Y].y1+=V;case"mt":case"lt":case"arc":default:_[Y].x+=I,_[Y].y+=V}return _},C=function(_){return _.sort(function(I,V){return I-V})},k=function(_,I){for(var V,Y,ee=this.fillStyle,re=this.strokeStyle,fe=this.lineCap,de=this.lineWidth,Be=Math.abs(de*this.ctx.transform.scaleX),Ee=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),$e=[],we=0;we<ke.length;we++)if(ke[we].x!==void 0)for(var ne=B.call(this,ke[we]),lt=0;lt<ne.length;lt+=1)$e.indexOf(ne[lt])===-1&&$e.push(ne[lt]);for(var Ve=0;Ve<$e.length;Ve++)for(;this.pdf.internal.getNumberOfPages()<$e[Ve];)x.call(this);if(C($e),this.autoPaging)for(var _e=$e[0],Ue=$e[$e.length-1],Te=_e;Te<Ue+1;Te++){this.pdf.setPage(Te),this.fillStyle=ee,this.strokeStyle=re,this.lineCap=fe,this.lineWidth=Be,this.lineJoin=Ee;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=Te===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=Te===1?0:it+(Te-2)*dt;if(this.ctx.clip_path.length!==0){var Bt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(V,this.posX+this.margin[3],-pt+ze+this.ctx.prevPageLastElemOffset),R.call(this,_,!0),this.path=Bt}if(Y=JSON.parse(JSON.stringify(je)),this.path=y(Y,this.posX+this.margin[3],-pt+ze+this.ctx.prevPageLastElemOffset),I===!1||Te===0){var Tt=(Te>_e||Te<Ue)&&w.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,dt,null).clip().discardPath()),R.call(this,_,I),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=Be,R.call(this,_,I),this.lineWidth=de;this.path=je},R=function(_,I){if((_!=="stroke"||I||!m.call(this))&&(_==="stroke"||I||!f.call(this))){for(var V,Y,ee=[],re=this.path,fe=0;fe<re.length;fe++){var de=re[fe];switch(de.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:de,deltas:[],abs:[]});break;case"lt":var Be=ee.length;if(re[fe-1]&&!isNaN(re[fe-1].x)&&(V=[de.x-re[fe-1].x,de.y-re[fe-1].y],Be>0)){for(;Be>=0;Be--)if(ee[Be-1].close!==!0&&ee[Be-1].begin!==!0){ee[Be-1].deltas.push(V),ee[Be-1].abs.push(de);break}}break;case"bct":V=[de.x1-re[fe-1].x,de.y1-re[fe-1].y,de.x2-re[fe-1].x,de.y2-re[fe-1].y,de.x-re[fe-1].x,de.y-re[fe-1].y],ee[ee.length-1].deltas.push(V);break;case"qct":var Ee=re[fe-1].x+2/3*(de.x1-re[fe-1].x),je=re[fe-1].y+2/3*(de.y1-re[fe-1].y),ke=de.x+2/3*(de.x1-de.x),$e=de.y+2/3*(de.y1-de.y),we=de.x,ne=de.y;V=[Ee-re[fe-1].x,je-re[fe-1].y,ke-re[fe-1].x,$e-re[fe-1].y,we-re[fe-1].x,ne-re[fe-1].y],ee[ee.length-1].deltas.push(V);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(de)}}Y=I?null:_==="stroke"?"stroke":"fill";for(var lt=!1,Ve=0;Ve<ee.length;Ve++)if(ee[Ve].arc)for(var _e=ee[Ve].abs,Ue=0;Ue<_e.length;Ue++){var Te=_e[Ue];Te.type==="arc"?U.call(this,Te.x,Te.y,Te.radius,Te.startAngle,Te.endAngle,Te.counterclockwise,void 0,I,!lt):W.call(this,Te.x,Te.y),lt=!0}else if(ee[Ve].close===!0)this.pdf.internal.out("h"),lt=!1;else if(ee[Ve].begin!==!0){var Qe=ee[Ve].start.x,ze=ee[Ve].start.y;J.call(this,ee[Ve].deltas,Qe,ze),lt=!0}Y&&H.call(this,Y),I&&$.call(this)}},P=function(_){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-V;case"top":return _+I-V;case"hanging":return _+I-2*V;case"middle":return _+I/2-V;case"ideographic":return _;case"alphabetic":default:return _}},M=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(I,V){this.colorStops.push([I,V])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(_,I,V,Y,ee,re,fe,de,Be){for(var Ee=ie.call(this,V,Y,ee,re),je=0;je<Ee.length;je++){var ke=Ee[je];je===0&&(Be?L.call(this,ke.x1+_,ke.y1+I):W.call(this,ke.x1+_,ke.y1+I)),le.call(this,_,I,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}de?$.call(this):H.call(this,fe)},H=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(_,I){this.pdf.internal.out(r(_)+" "+n(I)+" m")},T=function(_){var I;switch(_.align){case"right":case"end":I="right";break;case"center":I="center";break;case"left":case"start":default:I="left"}var V=this.pdf.getTextDimensions(_.text),Y=P.call(this,_.y),ee=M.call(this,Y)-V.h,re=this.ctx.transform.applyToPoint(new a(_.x,Y)),fe=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var Be,Ee,je,ke=this.ctx.transform.applyToRectangle(new A(_.x,Y,V.w,V.h)),$e=de.applyToRectangle(new A(_.x,ee,V.w,V.h)),we=B.call(this,$e),ne=[],lt=0;lt<we.length;lt+=1)ne.indexOf(we[lt])===-1&&ne.push(we[lt]);if(C(ne),this.autoPaging)for(var Ve=ne[0],_e=ne[ne.length-1],Ue=Ve;Ue<_e+1;Ue++){this.pdf.setPage(Ue);var Te=Ue===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],it=ze-this.margin[0],dt=this.pdf.internal.pageSize.width-this.margin[1],pt=dt-this.margin[3],Bt=Ue===1?0:Qe+(Ue-2)*it;if(this.ctx.clip_path.length!==0){var Tt=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Be,this.posX+this.margin[3],-1*Bt+Te),R.call(this,"fill",!0),this.path=Tt}var tt=y([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Bt+Te+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*_.scale),je=this.lineWidth,this.lineWidth=je*_.scale);var gt=this.autoPaging!=="text";if(gt||tt.y+tt.h<=ze){if(gt||tt.y>=Te&&tt.x<=dt){var Pe=gt?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||dt-tt.x)[0],on=y([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Bt+Te+this.ctx.prevPageLastElemOffset)[0],St=gt&&(Ue>Ve||Ue<_e)&&w.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,it,null).clip().discardPath()),this.pdf.text(Pe,on.x,on.y,{angle:_.angle,align:I,renderingMode:_.renderingMode}),St&&this.pdf.restoreGraphicsState()}}else tt.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-tt.y);_.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=je)}else _.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*_.scale),je=this.lineWidth,this.lineWidth=je*_.scale),this.pdf.text(_.text,re.x+this.posX,re.y+this.posY,{angle:_.angle,align:I,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=je)},W=function(_,I,V,Y){V=V||0,Y=Y||0,this.pdf.internal.out(r(_+V)+" "+n(I+Y)+" l")},J=function(_,I,V){return this.pdf.lines(_,I,V,null,null)},le=function(_,I,V,Y,ee,re,fe,de){this.pdf.internal.out([e(s(V+_)),e(i(Y+I)),e(s(ee+_)),e(i(re+I)),e(s(fe+_)),e(i(de+I)),"c"].join(" "))},ie=function(_,I,V,Y){for(var ee=2*Math.PI,re=Math.PI/2;I>V;)I-=ee;var fe=Math.abs(V-I);fe<ee&&Y&&(fe=ee-fe);for(var de=[],Be=Y?-1:1,Ee=I;fe>1e-5;){var je=Ee+Be*Math.min(fe,re);de.push(Z.call(this,_,Ee,je)),fe-=Math.abs(je-Ee),Ee=je}return de},Z=function(_,I,V){var Y=(V-I)/2,ee=_*Math.cos(Y),re=_*Math.sin(Y),fe=ee,de=-re,Be=fe*fe+de*de,Ee=Be+fe*ee+de*re,je=4/3*(Math.sqrt(2*Be*Ee)-Ee)/(fe*re-de*ee),ke=fe-je*de,$e=de+je*fe,we=ke,ne=-$e,lt=Y+I,Ve=Math.cos(lt),_e=Math.sin(lt);return{x1:_*Math.cos(I),y1:_*Math.sin(I),x2:ke*Ve-$e*_e,y2:ke*_e+$e*Ve,x3:we*Ve-ne*_e,y3:we*_e+ne*Ve,x4:_*Math.cos(V),y4:_*Math.sin(V)}},q=function(_){return 180*_/Math.PI},z=function(_,I,V,Y,ee,re){var fe=_+.5*(V-_),de=I+.5*(Y-I),Be=ee+.5*(V-ee),Ee=re+.5*(Y-re),je=Math.min(_,ee,fe,Be),ke=Math.max(_,ee,fe,Be),$e=Math.min(I,re,de,Ee),we=Math.max(I,re,de,Ee);return new A(je,$e,ke-je,we-$e)},se=function(_,I,V,Y,ee,re,fe,de){var Be,Ee,je,ke,$e,we,ne,lt,Ve,_e,Ue,Te,Qe,ze,it=V-_,dt=Y-I,pt=ee-V,Bt=re-Y,Tt=fe-ee,tt=de-re;for(Ee=0;Ee<41;Ee++)Ve=(ne=(je=_+(Be=Ee/40)*it)+Be*(($e=V+Be*pt)-je))+Be*($e+Be*(ee+Be*Tt-$e)-ne),_e=(lt=(ke=I+Be*dt)+Be*((we=Y+Be*Bt)-ke))+Be*(we+Be*(re+Be*tt-we)-lt),Ee==0?(Ue=Ve,Te=_e,Qe=Ve,ze=_e):(Ue=Math.min(Ue,Ve),Te=Math.min(Te,_e),Qe=Math.max(Qe,Ve),ze=Math.max(ze,_e));return new A(Math.round(Ue),Math.round(Te),Math.round(Qe-Ue),Math.round(ze-Te))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,I,V=(_=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:I}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Ze.API),function(t){var e=function(i){var a,A,l,c,u,h,p,f,m,w;for(A=[],l=0,c=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(w=u%85))/85)-(m=u%85))/85)-(f=u%85))/85)-(p=u%85))/85)%85,A.push(h+33,p+33,f+33,m+33,w+33)):A.push(122);return function(B,x){for(var y=x;y>0;y--)B.pop()}(A,a.length),String.fromCharCode.apply(String,A)+"~>"},r=function(i){var a,A,l,c,u,h=String,p="length",f=255,m="charCodeAt",w="slice",B="replace";for(i[w](-2),i=i[w](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),l=[],c=0,u=(i+=a="uuuuu"[w](i[p]%5||5))[p];u>c;c+=5)A=52200625*(i[m](c)-33)+614125*(i[m](c+1)-33)+7225*(i[m](c+2)-33)+85*(i[m](c+3)-33)+(i[m](c+4)-33),l.push(f&A>>24,f&A>>16,f&A>>8,f&A);return function(x,y){for(var C=y;C>0;C--)x.pop()}(l,a[p]),h.fromCharCode.apply(h,l)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var A="",l=0;l<i.length;l+=2)A+=String.fromCharCode("0x"+(i[l]+i[l+1]));return A},s=function(i){for(var a=new Uint8Array(i.length),A=i.length;A--;)a[A]=i.charCodeAt(A);return i=(a=Cw(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,a){var A=0,l=i||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),A=0;A<a.length;A+=1)switch(a[A]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[A]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ze.API),function(t){t.loadFile=function(e,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var A=void 0;try{A=function(l,c,u){var h=new XMLHttpRequest,p=0,f=function(m){var w=m.length,B=[],x=String.fromCharCode;for(p=0;p<w;p+=1)B.push(x(255&m.charCodeAt(p)));return B.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(s,i,a)}catch{}return A}(e,r,n)},t.loadImageFile=t.loadFile}(Ze.API),function(t){function e(){return(et.html2canvas?Promise.resolve(et.html2canvas):vw(()=>Promise.resolve().then(()=>a7),void 0,import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(et.DOMPurify?Promise.resolve(et.DOMPurify):vw(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var A=Lt(a);return A==="undefined"?"undefined":A==="string"||a instanceof String?"string":A==="number"||a instanceof Number?"number":A==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(a,A){var l=document.createElement(a);for(var c in A.className&&(l.className=A.className),A.innerHTML&&A.dompurify&&(l.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)l.style[c]=A.style[c];return l},i=function a(A){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(A)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,A){return a.__proto__=A||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,A){return this.then(function(){switch(A=A||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:s("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(A){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,A(this.prop.container,l)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(A){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var f=c[p],m=f.src.find(function(w){return w.format==="truetype"});m&&l.addFont(m.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),A(this.prop.container,h)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,A,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,A):this.outputPdf(a,A)},i.prototype.outputPdf=function(a,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,A)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var A=Object.keys(a||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(A)})},i.prototype.get=function(a,A){return this.then(function(){var l=a in i.template.prop?this.prop[a]:this.opt[a];return A?A(l):l})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function A(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:A(a.inner.width,a.k),height:A(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,A,l,c){return a!=null&&(this.progress.val=a),A!=null&&(this.progress.state=A),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,A,l,c){return this.setProgress(a?this.progress.val+a:null,A||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(a,A){var l=this;return this.thenCore(a,A,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},i.prototype.thenCore=function(a,A,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),A&&(A=A.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,A);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(a,A){return Promise.prototype.then.call(this,a,A)},i.prototype.thenList=function(a){var A=this;return a.forEach(function(l){A=A.thenCore(l)}),A},i.prototype.catch=function(a){a&&(a=a.bind(this));var A=Promise.prototype.catch.call(this,a);return i.convert(A,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Ze.getPageSize=function(a,A,l){if(Lt(a)==="object"){var c=a;a=c.orientation,A=c.unit||A,l=c.format||l}A=A||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+A}var f,m=0,w=0;if(p.hasOwnProperty(h))m=p[h][1]/u,w=p[h][0]/u;else try{m=l[1],w=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",w>m&&(f=w,w=m,m=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>w&&(f=w,w=m,m=f)}return{width:w,height:m,unit:A,k:u,orientation:a}},t.html=function(a,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(kw):null;var l=new i(A);return A.worker?l:l.from(a).doCallback()}}(Ze.API),Ze.API.addJS=function(t){return Sb=t,this.internal.events.subscribe("postPutResources",function(){Ph=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ph+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Nb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Sb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ph!==void 0&&Nb!==void 0&&this.internal.out("/Names <</JavaScript "+Ph+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],A=n.exec(a);if(A!=null){var l=A[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var h=r.internal.newObject();u.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var A=this.count=this.count_r({count:0},a);if(A>0&&this.line("/Count "+A),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Ze.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,a,A){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),m=h.length,w={width:0,height:0,numcomponents:1},B=4;B<m;B+=2){if(B+=f,e.indexOf(h.charCodeAt(B+1))!==-1){p=256*h.charCodeAt(B+5)+h.charCodeAt(B+6),w={width:256*h.charCodeAt(B+7)+h.charCodeAt(B+8),height:p,numcomponents:h.charCodeAt(B+9)};break}f=256*h.charCodeAt(B+2)+h.charCodeAt(B+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:c,index:n,alias:s}}return u}}(Ze.API);var zA,Rh,Eb,_b,Fb,K7=function(){var t,e,r;function n(i){var a,A,l,c,u,h,p,f,m,w,B,x,y,C;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),m=(function(){var k,R;for(R=[],k=0;k<4;++k)R.push(String.fromCharCode(this.data[this.pos++]));return R}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,a-=4),i=(h!=null?h.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((w=l-this.transparency.indexed.length)>0)for(y=0;0<=w?y<w:y>w;0<=w?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(B=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,B.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,B.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,A=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*A,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,A;for(A=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)A.push(this.data[this.pos++]);return A},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,A=new Uint8Array(this.width*this.height*a),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(h,p,f,m){var w,B,x,y,C,k,R,P,M,U,H,$,L,T,W,J,le,ie,Z,q,z,se=Math.ceil((c.width-h)/f),ue=Math.ceil((c.height-p)/m),_=c.width==se&&c.height==ue;for(T=a*se,$=_?A:new Uint8Array(T*ue),k=i.length,L=0,B=0;L<ue&&l<k;){switch(i[l++]){case 0:for(y=le=0;le<T;y=le+=1)$[B++]=i[l++];break;case 1:for(y=ie=0;ie<T;y=ie+=1)w=i[l++],C=y<a?0:$[B-a],$[B++]=(w+C)%256;break;case 2:for(y=Z=0;Z<T;y=Z+=1)w=i[l++],x=(y-y%a)/a,W=L&&$[(L-1)*T+x*a+y%a],$[B++]=(W+w)%256;break;case 3:for(y=q=0;q<T;y=q+=1)w=i[l++],x=(y-y%a)/a,C=y<a?0:$[B-a],W=L&&$[(L-1)*T+x*a+y%a],$[B++]=(w+Math.floor((C+W)/2))%256;break;case 4:for(y=z=0;z<T;y=z+=1)w=i[l++],x=(y-y%a)/a,C=y<a?0:$[B-a],L===0?W=J=0:(W=$[(L-1)*T+x*a+y%a],J=x&&$[(L-1)*T+(x-1)*a+y%a]),R=C+W-J,P=Math.abs(R-C),U=Math.abs(R-W),H=Math.abs(R-J),M=P<=U&&P<=H?C:U<=H?W:J,$[B++]=(w+M)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!_){var I=((p+L*m)*c.width+h)*a,V=L*T;for(y=0;y<se;y+=1){for(var Y=0;Y<a;Y+=1)A[I++]=$[V++];I+=(f-1)*a}}L++}}return i=y7(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),A},n.prototype.decodePalette=function(){var i,a,A,l,c,u,h,p,f;for(A=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+A.length),l=0,i=0,a=h=0,p=A.length;h<p;a=h+=3)c[l++]=A[a],c[l++]=A[a+1],c[l++]=A[a+2],c[l++]=(f=u[i++])!=null?f:255;return c},n.prototype.copyToImageData=function(i,a){var A,l,c,u,h,p,f,m,w,B,x;if(l=this.colors,w=null,A=this.hasAlphaChannel,this.palette.length&&(w=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,A=!0),m=(c=i.data||i).length,h=w||a,u=p=0,l===1)for(;u<m;)f=w?4*a[u/4]:p,B=h[f++],c[u++]=B,c[u++]=B,c[u++]=B,c[u++]=A?h[f++]:255,p=f;else for(;u<m;)f=w?4*a[u/4]:p,c[u++]=h[f++],c[u++]=h[f++],c[u++]=h[f++],c[u++]=A?h[f++]:255,p=f},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(et)==="[object Window]"){try{e=et.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,A,l,c,u,h,p,f;if(this.animation){for(f=[],A=u=0,h=(p=this.animation.frames).length;u<h;A=++u)a=p[A],l=i.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,f.push(a.image=t(l));return f}},n.prototype.renderFrame=function(i,a){var A,l,c;return A=(l=this.animation.frames)[a],c=l[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),A.blendOp===0&&i.clearRect(A.xOffset,A.yOffset,A.width,A.height),i.drawImage(A.image,A.xOffset,A.yOffset)},n.prototype.animate=function(i){var a,A,l,c,u,h,p=this;return A=0,h=this.animation,c=h.numFrames,l=h.frames,u=h.numPlays,(a=function(){var f,m;if(f=A++%c,m=l[f],p.renderFrame(i,f),c>1&&A/c<u)return p.animation._timeout=setTimeout(a,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,A;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(A=a.createImageData(this.width,this.height),this.copyToImageData(A,this.decodePixels()),a.putImageData(A,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function V7(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<(7&s)+1;t[e++],t[e++];var A=null,l=null;i&&(A=e,l=a,e+=3*a);var c=!0,u=[],h=0,p=null,f=0,m=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],!(1&w)&&(p=null),f=w>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var B=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,k=t[e++],R=k>>6&1,P=1<<(7&k)+1,M=A,U=l,H=!1;k>>7&&(H=!0,M=e,U=P,e+=3*P);var $=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}u.push({x:B,y:x,width:y,height:C,has_local_palette:H,palette_offset:M,palette_size:U,data_offset:$,data_length:e-$,transparent_index:p,interlaced:!!R,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,W){var J=this.frameInfo(T),le=J.width*J.height,ie=new Uint8Array(le);kb(t,J.data_offset,ie,le);var Z=J.palette_offset,q=J.transparent_index;q===null&&(q=256);var z=J.width,se=r-z,ue=z,_=4*(J.y*r+J.x),I=4*((J.y+J.height)*r+J.x),V=_,Y=4*se;J.interlaced===!0&&(Y+=4*r*7);for(var ee=8,re=0,fe=ie.length;re<fe;++re){var de=ie[re];if(ue===0&&(ue=z,(V+=Y)>=I&&(Y=4*se+4*r*(ee-1),V=_+(z+se)*(ee<<1),ee>>=1)),de===q)V+=4;else{var Be=t[Z+3*de],Ee=t[Z+3*de+1],je=t[Z+3*de+2];W[V++]=je,W[V++]=Ee,W[V++]=Be,W[V++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(T,W){var J=this.frameInfo(T),le=J.width*J.height,ie=new Uint8Array(le);kb(t,J.data_offset,ie,le);var Z=J.palette_offset,q=J.transparent_index;q===null&&(q=256);var z=J.width,se=r-z,ue=z,_=4*(J.y*r+J.x),I=4*((J.y+J.height)*r+J.x),V=_,Y=4*se;J.interlaced===!0&&(Y+=4*r*7);for(var ee=8,re=0,fe=ie.length;re<fe;++re){var de=ie[re];if(ue===0&&(ue=z,(V+=Y)>=I&&(Y=4*se+4*r*(ee-1),V=_+(z+se)*(ee<<1),ee>>=1)),de===q)V+=4;else{var Be=t[Z+3*de],Ee=t[Z+3*de+1],je=t[Z+3*de+2];W[V++]=Be,W[V++]=Ee,W[V++]=je,W[V++]=255}--ue}}}function kb(t,e,r,n){for(var s=t[e++],i=1<<s,a=i+1,A=a+1,l=s+1,c=(1<<l)-1,u=0,h=0,p=0,f=t[e++],m=new Int32Array(4096),w=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var B=h&c;if(h>>=l,u-=l,B!==i){if(B===a)break;for(var x=B<A?B:w,y=0,C=x;C>i;)C=m[C]>>8,++y;var k=C;if(p+y+(x!==B?1:0)>n)return void Mt.log("Warning, gif stream longer than expected.");r[p++]=k;var R=p+=y;for(x!==B&&(r[p++]=k),C=x;y--;)C=m[C],r[--R]=255&C,C>>=8;w!==null&&A<4096&&(m[A++]=w<<8|k,A>=c+1&&l<12&&(++l,c=c<<1|1)),w=B}else A=a+1,c=(1<<(l=s+1))-1,w=null}return p!==n&&Mt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function jg(t){var e,r,n,s,i,a=Math.floor,A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),m=new Array(64),w=[],B=0,x=7,y=new Array(64),C=new Array(64),k=new Array(64),R=new Array(256),P=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(_,I){for(var V=0,Y=0,ee=new Array,re=1;re<=16;re++){for(var fe=1;fe<=_[re];fe++)ee[I[Y]]=[],ee[I[Y]][0]=V,ee[I[Y]][1]=re,Y++,V++;V*=2}return ee}function Z(_){for(var I=_[0],V=_[1]-1;V>=0;)I&1<<V&&(B|=1<<x),V--,--x<0&&(B==255?(q(255),q(0)):q(B),x=7,B=0)}function q(_){w.push(_)}function z(_){q(_>>8&255),q(255&_)}function se(_,I,V,Y,ee){for(var re,fe=ee[0],de=ee[240],Be=function(_e,Ue){var Te,Qe,ze,it,dt,pt,Bt,Tt,tt,gt,Pe=0;for(tt=0;tt<8;++tt){Te=_e[Pe],Qe=_e[Pe+1],ze=_e[Pe+2],it=_e[Pe+3],dt=_e[Pe+4],pt=_e[Pe+5],Bt=_e[Pe+6];var on=Te+(Tt=_e[Pe+7]),St=Te-Tt,Fs=Qe+Bt,Dt=Qe-Bt,Zt=ze+pt,Ai=ze-pt,_t=it+dt,uo=it-dt,Ar=on+_t,ks=on-_t,Ui=Fs+Zt,lr=Fs-Zt;_e[Pe]=Ar+Ui,_e[Pe+4]=Ar-Ui;var at=.707106781*(lr+ks);_e[Pe+2]=ks+at,_e[Pe+6]=ks-at;var Ft=.382683433*((Ar=uo+Ai)-(lr=Dt+St)),ho=.5411961*Ar+Ft,Wr=1.306562965*lr+Ft,li=.707106781*(Ui=Ai+Dt),ci=St+li,Je=St-li;_e[Pe+5]=Je+ho,_e[Pe+3]=Je-ho,_e[Pe+1]=ci+Wr,_e[Pe+7]=ci-Wr,Pe+=8}for(Pe=0,tt=0;tt<8;++tt){Te=_e[Pe],Qe=_e[Pe+8],ze=_e[Pe+16],it=_e[Pe+24],dt=_e[Pe+32],pt=_e[Pe+40],Bt=_e[Pe+48];var Us=Te+(Tt=_e[Pe+56]),ui=Te-Tt,Fn=Qe+Bt,Qr=Qe-Bt,Er=ze+pt,Kn=ze-pt,nA=it+dt,Ii=it-dt,Is=Us+nA,js=Us-nA,Ls=Fn+Er,di=Fn-Er;_e[Pe]=Is+Ls,_e[Pe+32]=Is-Ls;var As=.707106781*(di+js);_e[Pe+16]=js+As,_e[Pe+48]=js-As;var hi=.382683433*((Is=Ii+Kn)-(di=Qr+ui)),fo=.5411961*Is+hi,sA=1.306562965*di+hi,iA=.707106781*(Ls=Kn+Qr),aA=ui+iA,oA=ui-iA;_e[Pe+40]=oA+fo,_e[Pe+24]=oA-fo,_e[Pe+8]=aA+sA,_e[Pe+56]=aA-sA,Pe++}for(tt=0;tt<64;++tt)gt=_e[tt]*Ue[tt],f[tt]=gt>0?gt+.5|0:gt-.5|0;return f}(_,I),Ee=0;Ee<64;++Ee)m[M[Ee]]=Be[Ee];var je=m[0]-V;V=m[0],je==0?Z(Y[0]):(Z(Y[p[re=32767+je]]),Z(h[re]));for(var ke=63;ke>0&&m[ke]==0;)ke--;if(ke==0)return Z(fe),V;for(var $e,we=1;we<=ke;){for(var ne=we;m[we]==0&&we<=ke;)++we;var lt=we-ne;if(lt>=16){$e=lt>>4;for(var Ve=1;Ve<=$e;++Ve)Z(de);lt&=15}re=32767+m[we],Z(ee[(lt<<4)+p[re]]),Z(h[re]),we++}return ke!=63&&Z(fe),V}function ue(_){_=Math.min(Math.max(_,1),100),i!=_&&(function(I){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var ee=a((V[Y]*I+50)/100);ee=Math.min(Math.max(ee,1),255),A[M[Y]]=ee}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var de=a((re[fe]*I+50)/100);de=Math.min(Math.max(de,1),255),l[M[fe]]=de}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,je=0;je<8;je++)for(var ke=0;ke<8;ke++)c[Ee]=1/(A[M[Ee]]*Be[je]*Be[ke]*8),u[Ee]=1/(l[M[Ee]]*Be[je]*Be[ke]*8),Ee++}(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),i=_)}this.encode=function(_,I){I&&ue(I),w=new Array,B=0,x=7,z(65496),z(65504),z(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),z(1),z(1),q(0),q(0),function(){z(65499),z(132),q(0);for(var Qe=0;Qe<64;Qe++)q(A[Qe]);q(1);for(var ze=0;ze<64;ze++)q(l[ze])}(),function(Qe,ze){z(65472),z(17),q(8),z(ze),z(Qe),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(_.width,_.height),function(){z(65476),z(418),q(0);for(var Qe=0;Qe<16;Qe++)q(U[Qe+1]);for(var ze=0;ze<=11;ze++)q(H[ze]);q(16);for(var it=0;it<16;it++)q($[it+1]);for(var dt=0;dt<=161;dt++)q(L[dt]);q(1);for(var pt=0;pt<16;pt++)q(T[pt+1]);for(var Bt=0;Bt<=11;Bt++)q(W[Bt]);q(17);for(var Tt=0;Tt<16;Tt++)q(J[Tt+1]);for(var tt=0;tt<=161;tt++)q(le[tt])}(),z(65498),z(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var V=0,Y=0,ee=0;B=0,x=7,this.encode.displayName="_encode_";for(var re,fe,de,Be,Ee,je,ke,$e,we,ne=_.data,lt=_.width,Ve=_.height,_e=4*lt,Ue=0;Ue<Ve;){for(re=0;re<_e;){for(Ee=_e*Ue+re,ke=-1,$e=0,we=0;we<64;we++)je=Ee+($e=we>>3)*_e+(ke=4*(7&we)),Ue+$e>=Ve&&(je-=_e*(Ue+1+$e-Ve)),re+ke>=_e&&(je-=re+ke-_e+4),fe=ne[je++],de=ne[je++],Be=ne[je++],y[we]=(P[fe]+P[de+256>>0]+P[Be+512>>0]>>16)-128,C[we]=(P[fe+768>>0]+P[de+1024>>0]+P[Be+1280>>0]>>16)-128,k[we]=(P[fe+1280>>0]+P[de+1536>>0]+P[Be+1792>>0]>>16)-128;V=se(y,c,V,e,n),Y=se(C,u,Y,r,s),ee=se(k,u,ee,r,s),re+=32}Ue+=8}if(x>=0){var Te=[];Te[1]=x+1,Te[0]=(1<<x+1)-1,Z(Te)}return z(65497),new Uint8Array(w)},t=t||50,function(){for(var _=String.fromCharCode,I=0;I<256;I++)R[I]=_(I)}(),e=ie(U,H),r=ie(T,W),n=ie($,L),s=ie(J,le),function(){for(var _=1,I=2,V=1;V<=15;V++){for(var Y=_;Y<I;Y++)p[32767+Y]=V,h[32767+Y]=[],h[32767+Y][1]=V,h[32767+Y][0]=Y;for(var ee=-(I-1);ee<=-_;ee++)p[32767+ee]=V,h[32767+ee]=[],h[32767+ee][1]=V,h[32767+ee][0]=I-1+ee;_<<=1,I<<=1}}(),function(){for(var _=0;_<256;_++)P[_]=19595*_,P[_+256>>0]=38470*_,P[_+512>>0]=7471*_+32768,P[_+768>>0]=-11059*_,P[_+1024>>0]=-21709*_,P[_+1280>>0]=32768*_+8421375,P[_+1536>>0]=-27439*_,P[_+1792>>0]=-5329*_}(),ue(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Hs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ub(t){function e(U){if(!U)throw Error("assert :P")}function r(U,H,$){for(var L=0;4>L;L++)if(U[H+L]!=$.charCodeAt(L))return!0;return!1}function n(U,H,$,L,T){for(var W=0;W<T;W++)U[H+W]=$[L+W]}function s(U,H,$,L){for(var T=0;T<L;T++)U[H+T]=$}function i(U){return new Int32Array(U)}function a(U,H){for(var $=[],L=0;L<U;L++)$.push(new H);return $}function A(U,H){var $=[];return function L(T,W,J){for(var le=J[W],ie=0;ie<le&&(T.push(J.length>W+1?[]:new H),!(J.length<W+1));ie++)L(T[ie],W+1,J)}($,0,U),$}var l=function(){var U=this;function H(d,g){for(var b=1<<g-1>>>0;d&b;)b>>>=1;return b?(d&b-1)+b:d}function $(d,g,b,N,j){e(!(N%b));do d[g+(N-=b)]=j;while(0<N)}function L(d,g,b,N,j){if(e(2328>=j),512>=j)var D=i(512);else if((D=i(j))==null)return 0;return function(O,K,G,X,oe,ge){var me,he,Ce=K,ve=1<<G,Ae=i(16),ce=i(16);for(e(oe!=0),e(X!=null),e(O!=null),e(0<G),he=0;he<oe;++he){if(15<X[he])return 0;++Ae[X[he]]}if(Ae[0]==oe)return 0;for(ce[1]=0,me=1;15>me;++me){if(Ae[me]>1<<me)return 0;ce[me+1]=ce[me]+Ae[me]}for(he=0;he<oe;++he)me=X[he],0<X[he]&&(ge[ce[me]++]=he);if(ce[15]==1)return(X=new T).g=0,X.value=ge[0],$(O,Ce,1,ve,X),ve;var ye,Ne=-1,be=ve-1,Oe=0,Ie=1,We=1,Le=1<<G;for(he=0,me=1,oe=2;me<=G;++me,oe<<=1){if(Ie+=We<<=1,0>(We-=Ae[me]))return 0;for(;0<Ae[me];--Ae[me])(X=new T).g=me,X.value=ge[he++],$(O,Ce+Oe,oe,Le,X),Oe=H(Oe,me)}for(me=G+1,oe=2;15>=me;++me,oe<<=1){if(Ie+=We<<=1,0>(We-=Ae[me]))return 0;for(;0<Ae[me];--Ae[me]){if(X=new T,(Oe&be)!=Ne){for(Ce+=Le,ye=1<<(Ne=me)-G;15>Ne&&!(0>=(ye-=Ae[Ne]));)++Ne,ye<<=1;ve+=Le=1<<(ye=Ne-G),O[K+(Ne=Oe&be)].g=ye+G,O[K+Ne].value=Ce-K-Ne}X.g=me-G,X.value=ge[he++],$(O,Ce+(Oe>>G),oe,Le,X),Oe=H(Oe,me)}}return Ie!=2*ce[15]-1?0:ve}(d,g,b,N,j,D)}function T(){this.value=this.g=0}function W(){this.value=this.g=0}function J(){this.G=a(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Jr,W)}function le(d,g,b,N){e(d!=null),e(g!=null),e(2147483648>N),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=b,d.Jd=g,d.Yc=b+N,d.Zc=4<=N?b+N-4+1:b,re(d)}function ie(d,g){for(var b=0;0<g--;)b|=de(d,128)<<g;return b}function Z(d,g){var b=ie(d,g);return fe(d)?-b:b}function q(d,g,b,N){var j,D=0;for(e(d!=null),e(g!=null),e(4294967288>N),d.Sb=N,d.Ra=0,d.u=0,d.h=0,4<N&&(N=4),j=0;j<N;++j)D+=g[b+j]<<8*j;d.Ra=D,d.bb=N,d.oa=g,d.pa=b}function z(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<bA-8>>>0,++d.bb,d.u-=8;V(d)&&(d.h=1,d.u=0)}function se(d,g){if(e(0<=g),!d.h&&g<=yA){var b=I(d)&xA[g];return d.u+=g,z(d),b}return d.h=1,d.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(d){return d.Ra>>>(d.u&bA-1)>>>0}function V(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>bA}function Y(d,g){d.u=g,d.h=V(d)}function ee(d){d.u>=lc&&(e(d.u>=lc),z(d))}function re(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function fe(d){return ie(d,1)}function de(d,g){var b=d.Ca;0>d.b&&re(d);var N=d.b,j=b*g>>>8,D=(d.I>>>N>j)+0;for(D?(b-=j,d.I-=j+1<<N>>>0):b=j+1,N=b,j=0;256<=N;)j+=8,N>>=8;return N=7^j+Un[N],d.b-=N,d.Ca=(b<<N)-1,D}function Be(d,g,b){d[g+0]=b>>24&255,d[g+1]=b>>16&255,d[g+2]=b>>8&255,d[g+3]=b>>0&255}function Ee(d,g){return d[g+0]<<0|d[g+1]<<8}function je(d,g){return Ee(d,g)|d[g+2]<<16}function ke(d,g){return Ee(d,g)|Ee(d,g+2)<<16}function $e(d,g){var b=1<<g;return e(d!=null),e(0<g),d.X=i(b),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function we(d,g){e(d!=null),e(g!=null),e(d.Xa==g.Xa),n(g.X,0,d.X,0,1<<g.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function lt(d,g,b,N){e(b!=null),e(N!=null);var j=b[0],D=N[0];return j==0&&(j=(d*D+g/2)/g),D==0&&(D=(g*j+d/2)/d),0>=j||0>=D?0:(b[0]=j,N[0]=D,1)}function Ve(d,g){return d+(1<<g)-1>>>g}function _e(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function Ue(d,g){U[g]=function(b,N,j,D,O,K,G){var X;for(X=0;X<O;++X){var oe=U[d](K[G+X-1],j,D+X);K[G+X]=_e(b[N+X],oe)}}}function Te(){this.ud=this.hd=this.jd=0}function Qe(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function ze(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function it(d,g){return ze(d+(d-g+.5>>1))}function dt(d,g,b){return Math.abs(g-b)-Math.abs(d-b)}function pt(d,g,b,N,j,D,O){for(N=D[O-1],b=0;b<j;++b)D[O+b]=N=_e(d[g+b],N)}function Bt(d,g,b,N,j){var D;for(D=0;D<b;++D){var O=d[g+D],K=O>>8&255,G=16711935&(G=(G=16711935&O)+((K<<16)+K));N[j+D]=(4278255360&O)+G>>>0}}function Tt(d,g){g.jd=d>>0&255,g.hd=d>>8&255,g.ud=d>>16&255}function tt(d,g,b,N,j,D){var O;for(O=0;O<N;++O){var K=g[b+O],G=K>>>8,X=K,oe=255&(oe=(oe=K>>>16)+((d.jd<<24>>24)*(G<<24>>24)>>>5));X=255&(X=(X=X+((d.hd<<24>>24)*(G<<24>>24)>>>5))+((d.ud<<24>>24)*(oe<<24>>24)>>>5)),j[D+O]=(4278255360&K)+(oe<<16)+X}}function gt(d,g,b,N,j){U[g]=function(D,O,K,G,X,oe,ge,me,he){for(G=ge;G<me;++G)for(ge=0;ge<he;++ge)X[oe++]=j(K[N(D[O++])])},U[d]=function(D,O,K,G,X,oe,ge){var me=8>>D.b,he=D.Ea,Ce=D.K[0],ve=D.w;if(8>me)for(D=(1<<D.b)-1,ve=(1<<me)-1;O<K;++O){var Ae,ce=0;for(Ae=0;Ae<he;++Ae)Ae&D||(ce=N(G[X++])),oe[ge++]=j(Ce[ce&ve]),ce>>=me}else U["VP8LMapColor"+b](G,X,Ce,ve,oe,ge,O,K,he)}}function Pe(d,g,b,N,j){for(b=g+b;g<b;){var D=d[g++];N[j++]=D>>16&255,N[j++]=D>>8&255,N[j++]=D>>0&255}}function on(d,g,b,N,j){for(b=g+b;g<b;){var D=d[g++];N[j++]=D>>16&255,N[j++]=D>>8&255,N[j++]=D>>0&255,N[j++]=D>>24&255}}function St(d,g,b,N,j){for(b=g+b;g<b;){var D=(O=d[g++])>>16&240|O>>12&15,O=O>>0&240|O>>28&15;N[j++]=D,N[j++]=O}}function Fs(d,g,b,N,j){for(b=g+b;g<b;){var D=(O=d[g++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;N[j++]=D,N[j++]=O}}function Dt(d,g,b,N,j){for(b=g+b;g<b;){var D=d[g++];N[j++]=D>>0&255,N[j++]=D>>8&255,N[j++]=D>>16&255}}function Zt(d,g,b,N,j,D){if(D==0)for(b=g+b;g<b;)Be(N,((D=d[g++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),j+=32;else n(N,j,d,g,b)}function Ai(d,g){U[g][0]=U[d+"0"],U[g][1]=U[d+"1"],U[g][2]=U[d+"2"],U[g][3]=U[d+"3"],U[g][4]=U[d+"4"],U[g][5]=U[d+"5"],U[g][6]=U[d+"6"],U[g][7]=U[d+"7"],U[g][8]=U[d+"8"],U[g][9]=U[d+"9"],U[g][10]=U[d+"10"],U[g][11]=U[d+"11"],U[g][12]=U[d+"12"],U[g][13]=U[d+"13"],U[g][14]=U[d+"0"],U[g][15]=U[d+"0"]}function _t(d){return d==op||d==Ap||d==Ed||d==lp}function uo(){this.eb=[],this.size=this.A=this.fb=0}function Ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ks(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new uo,this.f.kb=new Ar,this.sd=null}function Ui(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function at(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Ft(d,g){var b=d.T,N=g.ba.f.RGBA,j=N.eb,D=N.fb+d.ka*N.A,O=fs[g.ba.S],K=d.y,G=d.O,X=d.f,oe=d.N,ge=d.ea,me=d.W,he=g.cc,Ce=g.dc,ve=g.Mc,Ae=g.Nc,ce=d.ka,ye=d.ka+d.T,Ne=d.U,be=Ne+1>>1;for(ce==0?O(K,G,null,null,X,oe,ge,me,X,oe,ge,me,j,D,null,null,Ne):(O(g.ec,g.fc,K,G,he,Ce,ve,Ae,X,oe,ge,me,j,D-N.A,j,D,Ne),++b);ce+2<ye;ce+=2)he=X,Ce=oe,ve=ge,Ae=me,oe+=d.Rc,me+=d.Rc,D+=2*N.A,O(K,(G+=2*d.fa)-d.fa,K,G,he,Ce,ve,Ae,X,oe,ge,me,j,D-N.A,j,D,Ne);return G+=d.fa,d.j+ye<d.o?(n(g.ec,g.fc,K,G,Ne),n(g.cc,g.dc,X,oe,be),n(g.Mc,g.Nc,ge,me,be),b--):1&ye||O(K,G,null,null,X,oe,ge,me,X,oe,ge,me,j,D+N.A,null,null,Ne),b}function ho(d,g,b){var N=d.F,j=[d.J];if(N!=null){var D=d.U,O=g.ba.S,K=O==Sd||O==Ed;g=g.ba.f.RGBA;var G=[0],X=d.ka;G[0]=d.T,d.Kb&&(X==0?--G[0]:(--X,j[0]-=d.width),d.j+d.ka+d.T==d.o&&(G[0]=d.o-d.j-X));var oe=g.eb;X=g.fb+X*g.A,d=Kt(N,j[0],d.width,D,G,oe,X+(K?0:3),g.A),e(b==G),d&&_t(O)&&ds(oe,X,K,D,G,g.A)}return 0}function Wr(d){var g=d.ma,b=g.ba.S,N=11>b,j=b==Cd||b==Nd||b==Sd||b==ap||b==12||_t(b);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!oc(g.Oa,d,j?11:12))return 0;if(j&&_t(b)&&Se(),d.da)alert("todo:use_scaling");else{if(N){if(g.Ib=at,d.Kb){if(b=d.U+1>>1,g.memory=i(d.U+2*b),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+b,g.Ib=Ft,Se()}}else alert("todo:EmitYUV");j&&(g.Jb=ho,N&&pe())}if(N&&!f1){for(d=0;256>d;++d)s3[d]=89858*(d-128)+Fd>>_d,o3[d]=-22014*(d-128)+Fd,a3[d]=-45773*(d-128),i3[d]=113618*(d-128)+Fd>>_d;for(d=gc;d<dp;++d)g=76283*(d-16)+Fd>>_d,A3[d-gc]=Vn(g,255),l3[d-gc]=Vn(g+8>>4,15);f1=1}return 1}function li(d){var g=d.ma,b=d.U,N=d.T;return e(!(1&d.ka)),0>=b||0>=N?0:(b=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,b),g.Dc+=b,1)}function ci(d){d.ma.memory=null}function Je(d,g,b,N){return se(d,8)!=47?0:(g[0]=se(d,14)+1,b[0]=se(d,14)+1,N[0]=se(d,1),se(d,3)!=0?0:!d.h)}function Us(d,g){if(4>d)return d+1;var b=d-2>>1;return(2+(1&d)<<b)+se(g,b)+1}function ui(d,g){return 120<g?g-120:1<=(b=((b=VN[g-1])>>4)*d+(8-(15&b)))?b:1;var b}function Fn(d,g,b){var N=I(b),j=d[g+=255&N].g-8;return 0<j&&(Y(b,b.u+8),N=I(b),g+=d[g].value,g+=N&(1<<j)-1),Y(b,b.u+d[g].g),d[g].value}function Qr(d,g,b){return b.g+=d.g,b.value+=d.value<<g>>>0,e(8>=b.g),d.g}function Er(d,g,b){var N=d.xc;return e((g=N==0?0:d.vc[d.md*(b>>N)+(g>>N)])<d.Wb),d.Ya[g]}function Kn(d,g,b,N){var j=d.ab,D=d.c*g,O=d.C;g=O+g;var K=b,G=N;for(N=d.Ta,b=d.Ua;0<j--;){var X=d.gc[j],oe=O,ge=g,me=K,he=G,Ce=(G=N,K=b,X.Ea);switch(e(oe<ge),e(ge<=X.nc),X.hc){case 2:md(me,he,(ge-oe)*Ce,G,K);break;case 0:var ve=oe,Ae=ge,ce=G,ye=K,Ne=(Le=X).Ea;ve==0&&(sp(me,he,null,null,1,ce,ye),pt(me,he+1,0,0,Ne-1,ce,ye+1),he+=Ne,ye+=Ne,++ve);for(var be=1<<Le.b,Oe=be-1,Ie=Ve(Ne,Le.b),We=Le.K,Le=Le.w+(ve>>Le.b)*Ie;ve<Ae;){var Et=We,Ut=Le,Ct=1;for(cc(me,he,ce,ye-Ne,1,ce,ye);Ct<Ne;){var wt=(Ct&~Oe)+be;wt>Ne&&(wt=Ne),(0,ua[Et[Ut++]>>8&15])(me,he+ +Ct,ce,ye+Ct-Ne,wt-Ct,ce,ye+Ct),Ct=wt}he+=Ne,ye+=Ne,++ve&Oe||(Le+=Ie)}ge!=X.nc&&n(G,K-Ce,G,K+(ge-oe-1)*Ce,Ce);break;case 1:for(Ce=me,Ae=he,Ne=(me=X.Ea)-(ye=me&~(ce=(he=1<<X.b)-1)),ve=Ve(me,X.b),be=X.K,X=X.w+(oe>>X.b)*ve;oe<ge;){for(Oe=be,Ie=X,We=new Te,Le=Ae+ye,Et=Ae+me;Ae<Le;)Tt(Oe[Ie++],We),vo(We,Ce,Ae,he,G,K),Ae+=he,K+=he;Ae<Et&&(Tt(Oe[Ie++],We),vo(We,Ce,Ae,Ne,G,K),Ae+=Ne,K+=Ne),++oe&ce||(X+=ve)}break;case 3:if(me==G&&he==K&&0<X.b){for(Ae=G,me=Ce=K+(ge-oe)*Ce-(ye=(ge-oe)*Ve(X.Ea,X.b)),he=G,ce=K,ve=[],ye=(Ne=ye)-1;0<=ye;--ye)ve[ye]=he[ce+ye];for(ye=Ne-1;0<=ye;--ye)Ae[me+ye]=ve[ye];ls(X,oe,ge,G,Ce,G,K)}else ls(X,oe,ge,me,he,G,K)}K=N,G=b}G!=b&&n(N,b,K,G,D)}function nA(d,g){var b=d.V,N=d.Ba+d.c*d.C,j=g-d.C;if(e(g<=d.l.o),e(16>=j),0<j){var D=d.l,O=d.Ta,K=d.Ua,G=D.width;if(Kn(d,j,b,N),j=K=[K],e((b=d.C)<(N=g)),e(D.v<D.va),N>D.o&&(N=D.o),b<D.j){var X=D.j-b;b=D.j,j[0]+=X*G}if(b>=N?b=0:(j[0]+=4*D.v,D.ka=b-D.j,D.U=D.va-D.v,D.T=N-b,b=1),b){if(K=K[0],11>(b=d.ca).S){var oe=b.f.RGBA,ge=(N=b.S,j=D.U,D=D.T,X=oe.eb,oe.A),me=D;for(oe=oe.fb+d.Ma*oe.A;0<me--;){var he=O,Ce=K,ve=j,Ae=X,ce=oe;switch(N){case Bd:In(he,Ce,ve,Ae,ce);break;case Cd:yn(he,Ce,ve,Ae,ce);break;case op:yn(he,Ce,ve,Ae,ce),ds(Ae,ce,0,ve,1,0);break;case i1:Ti(he,Ce,ve,Ae,ce);break;case Nd:Zt(he,Ce,ve,Ae,ce,1);break;case Ap:Zt(he,Ce,ve,Ae,ce,1),ds(Ae,ce,0,ve,1,0);break;case Sd:Zt(he,Ce,ve,Ae,ce,0);break;case Ed:Zt(he,Ce,ve,Ae,ce,0),ds(Ae,ce,1,ve,1,0);break;case ap:da(he,Ce,ve,Ae,ce);break;case lp:da(he,Ce,ve,Ae,ce),Ht(Ae,ce,ve,1,0);break;case a1:Qi(he,Ce,ve,Ae,ce);break;default:e(0)}K+=G,oe+=ge}d.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=b.height)}}d.C=g,e(d.C<=d.i)}function Ii(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var b=d.Ya[g].G,N=d.Ya[g].H;if(0<b[1][N[1]+0].g||0<b[2][N[2]+0].g||0<b[3][N[3]+0].g)return 0}return 1}function Is(d,g,b,N,j,D){if(d.Z!=0){var O=d.qd,K=d.rd;for(e(ga[d.Z]!=null);g<b;++g)ga[d.Z](O,K,N,j,N,j,D),O=N,K=j,j+=D;d.qd=O,d.rd=K}}function js(d,g){var b=d.l.ma,N=b.Z==0||b.Z==1?d.l.j:d.C;if(N=d.C<N?N:d.C,e(g<=d.l.o),g>N){var j=d.l.width,D=b.ca,O=b.tb+j*N,K=d.V,G=d.Ba+d.c*N,X=d.gc;e(d.ab==1),e(X[0].hc==3),wd(X[0],N,g,K,G,D,O),Is(b,N,g,D,O,j)}d.C=d.Ma=g}function Ls(d,g,b,N,j,D,O){var K=d.$/N,G=d.$%N,X=d.m,oe=d.s,ge=b+d.$,me=ge;j=b+N*j;var he=b+N*D,Ce=280+oe.ua,ve=d.Pb?K:16777216,Ae=0<oe.ua?oe.Wa:null,ce=oe.wc,ye=ge<he?Er(oe,G,K):null;e(d.C<D),e(he<=j);var Ne=!1;e:for(;;){for(;Ne||ge<he;){var be=0;if(K>=ve){var Oe=ge-b;e((ve=d).Pb),ve.wd=ve.m,ve.xd=Oe,0<ve.s.ua&&we(ve.s.Wa,ve.s.vb),ve=K+zN}if(G&ce||(ye=Er(oe,G,K)),e(ye!=null),ye.Qb&&(g[ge]=ye.qb,Ne=!0),!Ne)if(ee(X),ye.jc){be=X,Oe=g;var Ie=ge,We=ye.pd[I(be)&Jr-1];e(ye.jc),256>We.g?(Y(be,be.u+We.g),Oe[Ie]=We.value,be=0):(Y(be,be.u+We.g-256),e(256<=We.value),be=We.value),be==0&&(Ne=!0)}else be=Fn(ye.G[0],ye.H[0],X);if(X.h)break;if(Ne||256>be){if(!Ne)if(ye.nd)g[ge]=(ye.qb|be<<8)>>>0;else{if(ee(X),Ne=Fn(ye.G[1],ye.H[1],X),ee(X),Oe=Fn(ye.G[2],ye.H[2],X),Ie=Fn(ye.G[3],ye.H[3],X),X.h)break;g[ge]=(Ie<<24|Ne<<16|be<<8|Oe)>>>0}if(Ne=!1,++ge,++G>=N&&(G=0,++K,O!=null&&K<=D&&!(K%16)&&O(d,K),Ae!=null))for(;me<ge;)be=g[me++],Ae.X[(506832829*be&4294967295)>>>Ae.Mb]=be}else if(280>be){if(be=Us(be-256,X),Oe=Fn(ye.G[4],ye.H[4],X),ee(X),Oe=ui(N,Oe=Us(Oe,X)),X.h)break;if(ge-b<Oe||j-ge<be)break e;for(Ie=0;Ie<be;++Ie)g[ge+Ie]=g[ge+Ie-Oe];for(ge+=be,G+=be;G>=N;)G-=N,++K,O!=null&&K<=D&&!(K%16)&&O(d,K);if(e(ge<=j),G&ce&&(ye=Er(oe,G,K)),Ae!=null)for(;me<ge;)be=g[me++],Ae.X[(506832829*be&4294967295)>>>Ae.Mb]=be}else{if(!(be<Ce))break e;for(Ne=be-280,e(Ae!=null);me<ge;)be=g[me++],Ae.X[(506832829*be&4294967295)>>>Ae.Mb]=be;be=ge,e(!(Ne>>>(Oe=Ae).Xa)),g[be]=Oe.X[Ne],Ne=!0}Ne||e(X.h==V(X))}if(d.Pb&&X.h&&ge<j)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&we(d.s.vb,d.s.Wa);else{if(X.h)break e;O!=null&&O(d,K>D?D:K),d.a=0,d.$=ge-b}return 1}return d.a=3,0}function di(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,e(d!=null)}function As(){var d=new np;return d==null?null:(d.a=0,d.xb=l1,Ai("Predictor","VP8LPredictors"),Ai("Predictor","VP8LPredictors_C"),Ai("PredictorAdd","VP8LPredictorsAdd"),Ai("PredictorAdd","VP8LPredictorsAdd_C"),md=Bt,vo=tt,In=Pe,yn=on,da=St,Qi=Fs,Ti=Dt,U.VP8LMapColor32b=BA,U.VP8LMapColor8b=vd,d)}function hi(d,g,b,N,j){var D=1,O=[d],K=[g],G=N.m,X=N.s,oe=null,ge=0;e:for(;;){if(b)for(;D&&se(G,1);){var me=O,he=K,Ce=N,ve=1,Ae=Ce.m,ce=Ce.gc[Ce.ab],ye=se(Ae,2);if(Ce.Oc&1<<ye)D=0;else{switch(Ce.Oc|=1<<ye,ce.hc=ye,ce.Ea=me[0],ce.nc=he[0],ce.K=[null],++Ce.ab,e(4>=Ce.ab),ye){case 0:case 1:ce.b=se(Ae,3)+2,ve=hi(Ve(ce.Ea,ce.b),Ve(ce.nc,ce.b),0,Ce,ce.K),ce.K=ce.K[0];break;case 3:var Ne,be=se(Ae,8)+1,Oe=16<be?0:4<be?1:2<be?2:3;if(me[0]=Ve(ce.Ea,Oe),ce.b=Oe,Ne=ve=hi(be,1,0,Ce,ce.K)){var Ie,We=be,Le=ce,Et=1<<(8>>Le.b),Ut=i(Et);if(Ut==null)Ne=0;else{var Ct=Le.K[0],wt=Le.w;for(Ut[0]=Le.K[0][0],Ie=1;Ie<1*We;++Ie)Ut[Ie]=_e(Ct[wt+Ie],Ut[Ie-1]);for(;Ie<4*Et;++Ie)Ut[Ie]=0;Le.K[0]=null,Le.K[0]=Ut,Ne=1}}ve=Ne;break;case 2:break;default:e(0)}D=ve}}if(O=O[0],K=K[0],D&&se(G,1)&&!(D=1<=(ge=se(G,4))&&11>=ge)){N.a=3;break e}var Ot;if(Ot=D)t:{var Pt,ut,Fr,jn=N,kr=O,Ln=K,It=ge,zn=b,qn=jn.m,Hr=jn.s,Yr=[null],Bn=1,ps=0,mi=GN[It];r:for(;;){if(zn&&se(qn,1)){var Kr=se(qn,3)+2,Oi=Ve(kr,Kr),Co=Ve(Ln,Kr),_A=Oi*Co;if(!hi(Oi,Co,0,jn,Yr))break r;for(Yr=Yr[0],Hr.xc=Kr,Pt=0;Pt<_A;++Pt){var ma=Yr[Pt]>>8&65535;Yr[Pt]=ma,ma>=Bn&&(Bn=ma+1)}}if(qn.h)break r;for(ut=0;5>ut;++ut){var ur=o1[ut];!ut&&0<It&&(ur+=1<<It),ps<ur&&(ps=ur)}var hp=a(Bn*mi,T),m1=Bn,w1=a(m1,J);if(w1==null)var Ud=null;else e(65536>=m1),Ud=w1;var mc=i(ps);if(Ud==null||mc==null||hp==null){jn.a=1;break r}var Id=hp;for(Pt=Fr=0;Pt<Bn;++Pt){var Ds=Ud[Pt],FA=Ds.G,kA=Ds.H,v1=0,jd=1,x1=0;for(ut=0;5>ut;++ut){ur=o1[ut],FA[ut]=Id,kA[ut]=Fr,!ut&&0<It&&(ur+=1<<It);s:{var Ld,fp=ur,Qd=jn,wc=mc,d3=Id,h3=Fr,pp=0,wa=Qd.m,f3=se(wa,1);if(s(wc,0,0,fp),f3){var p3=se(wa,1)+1,g3=se(wa,1),y1=se(wa,g3==0?1:8);wc[y1]=1,p3==2&&(wc[y1=se(wa,8)]=1);var Td=1}else{var b1=i(19),B1=se(wa,4)+4;if(19<B1){Qd.a=3;var Pd=0;break s}for(Ld=0;Ld<B1;++Ld)b1[KN[Ld]]=se(wa,3);var gp=void 0,vc=void 0,C1=Qd,m3=b1,Rd=fp,N1=wc,mp=0,va=C1.m,S1=8,E1=a(128,T);n:for(;L(E1,0,7,m3,19);){if(se(va,1)){var w3=2+2*se(va,3);if((gp=2+se(va,w3))>Rd)break n}else gp=Rd;for(vc=0;vc<Rd&&gp--;){ee(va);var _1=E1[0+(127&I(va))];Y(va,va.u+_1.g);var UA=_1.value;if(16>UA)N1[vc++]=UA,UA!=0&&(S1=UA);else{var v3=UA==16,F1=UA-16,x3=MN[F1],k1=se(va,ON[F1])+x3;if(vc+k1>Rd)break n;for(var y3=v3?S1:0;0<k1--;)N1[vc++]=y3}}mp=1;break n}mp||(C1.a=3),Td=mp}(Td=Td&&!wa.h)&&(pp=L(d3,h3,8,wc,fp)),Td&&pp!=0?Pd=pp:(Qd.a=3,Pd=0)}if(Pd==0)break r;if(jd&&HN[ut]==1&&(jd=Id[Fr].g==0),v1+=Id[Fr].g,Fr+=Pd,3>=ut){var xc,wp=mc[0];for(xc=1;xc<ur;++xc)mc[xc]>wp&&(wp=mc[xc]);x1+=wp}}if(Ds.nd=jd,Ds.Qb=0,jd&&(Ds.qb=(FA[3][kA[3]+0].value<<24|FA[1][kA[1]+0].value<<16|FA[2][kA[2]+0].value)>>>0,v1==0&&256>FA[0][kA[0]+0].value&&(Ds.Qb=1,Ds.qb+=FA[0][kA[0]+0].value<<8)),Ds.jc=!Ds.Qb&&6>x1,Ds.jc){var Dd,Mi=Ds;for(Dd=0;Dd<Jr;++Dd){var xa=Dd,ya=Mi.pd[xa],Od=Mi.G[0][Mi.H[0]+xa];256<=Od.value?(ya.g=Od.g+256,ya.value=Od.value):(ya.g=0,ya.value=0,xa>>=Qr(Od,8,ya),xa>>=Qr(Mi.G[1][Mi.H[1]+xa],16,ya),xa>>=Qr(Mi.G[2][Mi.H[2]+xa],0,ya),Qr(Mi.G[3][Mi.H[3]+xa],24,ya))}}}Hr.vc=Yr,Hr.Wb=Bn,Hr.Ya=Ud,Hr.yc=hp,Ot=1;break t}Ot=0}if(!(D=Ot)){N.a=3;break e}if(0<ge){if(X.ua=1<<ge,!$e(X.Wa,ge)){N.a=1,D=0;break e}}else X.ua=0;var vp=N,U1=O,b3=K,xp=vp.s,yp=xp.xc;if(vp.c=U1,vp.i=b3,xp.md=Ve(U1,yp),xp.wc=yp==0?-1:(1<<yp)-1,b){N.xb=ZN;break e}if((oe=i(O*K))==null){N.a=1,D=0;break e}D=(D=Ls(N,oe,0,O,K,K,null))&&!G.h;break e}return D?(j!=null?j[0]=oe:(e(oe==null),e(b)),N.$=0,b||di(X)):di(X),D}function fo(d,g){var b=d.c*d.i,N=b+g+16*g;return e(d.c<=g),d.V=i(N),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+b+g,1)}function sA(d,g){var b=d.C,N=g-b,j=d.V,D=d.Ba+d.c*b;for(e(g<=d.l.o);0<N;){var O=16<N?16:N,K=d.l.ma,G=d.l.width,X=G*O,oe=K.ca,ge=K.tb+G*b,me=d.Ta,he=d.Ua;Kn(d,O,j,D),wr(me,he,oe,ge,X),Is(K,b,b+O,oe,ge,G),N-=O,j+=O*d.c,b+=O}e(b==g),d.C=d.Ma=g}function iA(){this.ub=this.yd=this.td=this.Rb=0}function aA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function oA(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Yu(){this.Yb=function(){var d=[];return function g(b,N,j){for(var D=j[N],O=0;O<D&&(b.push(j.length>N+1?[]:0),!(j.length<N+1));O++)g(b[O],N+1,j)}(d,0,[3,11]),d}()}function L0(){this.jb=i(3),this.Wc=A([4,8],Yu),this.Xc=A([4,17],Yu)}function Q0(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function AA(){this.ld=this.La=this.dd=this.tc=0}function Xu(){this.Na=this.la=0}function T0(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function P0(){this.uc=this.M=this.Nb=0,this.wa=Array(new AA),this.Y=0,this.ya=Array(new Gl),this.aa=0,this.l=new lA}function Zu(){this.y=i(16),this.f=i(8),this.ea=i(8)}function R0(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new iA,this.Kc=new aA,this.ed=new Q0,this.Qa=new oA,this.Ic=this.$c=this.Aa=0,this.D=new P0,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ue),this.ia=0,this.pb=a(4,T0),this.Pa=new L0,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zu),this.Hd=0,this.rb=Array(new Xu),this.sb=0,this.wa=Array(new AA),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gl),this.L=this.aa=0,this.gd=A([4,2],AA),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function lA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function D0(){var d=new R0;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,pc||(pc=rd)),d}function gr(d,g,b){return d.a==0&&(d.a=g,d.sc=b,d.cb=0),0}function ed(d,g,b){return 3<=b&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function td(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return gr(d,2,"null VP8Io passed to VP8GetHeaders()");var b=g.data,N=g.w,j=g.ha;if(4>j)return gr(d,7,"Truncated header.");var D=b[N+0]|b[N+1]<<8|b[N+2]<<16,O=d.Od;if(O.Rb=!(1&D),O.td=D>>1&7,O.yd=D>>4&1,O.ub=D>>5,3<O.td)return gr(d,3,"Incorrect keyframe parameters.");if(!O.yd)return gr(d,4,"Frame not displayable.");N+=3,j-=3;var K=d.Kc;if(O.Rb){if(7>j)return gr(d,7,"cannot parse picture header");if(!ed(b,N,j))return gr(d,3,"Bad code word");K.c=16383&(b[N+4]<<8|b[N+3]),K.Td=b[N+4]>>6,K.i=16383&(b[N+6]<<8|b[N+5]),K.Ud=b[N+6]>>6,N+=7,j-=7,d.za=K.c+15>>4,d.Ub=K.i+15>>4,g.width=K.c,g.height=K.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,s((D=d.Pa).jb,0,255,D.jb.length),e((D=d.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,s(D.Zb,0,0,D.Zb.length),s(D.Lb,0,0,D.Lb)}if(O.ub>j)return gr(d,7,"bad partition length");le(D=d.m,b,N,O.ub),N+=O.ub,j-=O.ub,O.Rb&&(K.Ld=fe(D),K.Kd=fe(D)),K=d.Qa;var G,X=d.Pa;if(e(D!=null),e(K!=null),K.Cb=fe(D),K.Cb){if(K.Bb=fe(D),fe(D)){for(K.Fb=fe(D),G=0;4>G;++G)K.Zb[G]=fe(D)?Z(D,7):0;for(G=0;4>G;++G)K.Lb[G]=fe(D)?Z(D,6):0}if(K.Bb)for(G=0;3>G;++G)X.jb[G]=fe(D)?ie(D,8):255}else K.Bb=0;if(D.Ka)return gr(d,3,"cannot parse segment header");if((K=d.ed).zd=fe(D),K.Tb=ie(D,6),K.wb=ie(D,3),K.Pc=fe(D),K.Pc&&fe(D)){for(X=0;4>X;++X)fe(D)&&(K.vd[X]=Z(D,6));for(X=0;4>X;++X)fe(D)&&(K.od[X]=Z(D,6))}if(d.L=K.Tb==0?0:K.zd?1:2,D.Ka)return gr(d,3,"cannot parse filter header");var oe=j;if(j=G=N,N=G+oe,K=oe,d.Xb=(1<<ie(d.m,2))-1,oe<3*(X=d.Xb))b=7;else{for(G+=3*X,K-=3*X,oe=0;oe<X;++oe){var ge=b[j+0]|b[j+1]<<8|b[j+2]<<16;ge>K&&(ge=K),le(d.Jc[+oe],b,G,ge),G+=ge,K-=ge,j+=3}le(d.Jc[+X],b,G,K),b=G<N?0:5}if(b!=0)return gr(d,b,"cannot parse partitions");for(b=ie(G=d.m,7),j=fe(G)?Z(G,4):0,N=fe(G)?Z(G,4):0,K=fe(G)?Z(G,4):0,X=fe(G)?Z(G,4):0,G=fe(G)?Z(G,4):0,oe=d.Qa,ge=0;4>ge;++ge){if(oe.Cb){var me=oe.Zb[ge];oe.Fb||(me+=b)}else{if(0<ge){d.pb[ge]=d.pb[0];continue}me=b}var he=d.pb[ge];he.Sc[0]=cp[Vn(me+j,127)],he.Sc[1]=up[Vn(me+0,127)],he.Eb[0]=2*cp[Vn(me+N,127)],he.Eb[1]=101581*up[Vn(me+K,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=cp[Vn(me+X,117)],he.Qc[1]=up[Vn(me+G,127)],he.lc=me+G}if(!O.Rb)return gr(d,4,"Not a key frame.");for(fe(D),O=d.Pa,b=0;4>b;++b){for(j=0;8>j;++j)for(N=0;3>N;++N)for(K=0;11>K;++K)X=de(D,YN[b][j][N][K])?ie(D,8):WN[b][j][N][K],O.Wc[b][j].Yb[N][K]=X;for(j=0;17>j;++j)O.Xc[b][j]=O.Wc[b][XN[j]]}return d.kc=fe(D),d.kc&&(d.Bd=ie(D,8)),d.cb=1}function rd(d,g,b,N,j,D,O){var K=g[j].Yb[b];for(b=0;16>j;++j){if(!de(d,K[b+0]))return j;for(;!de(d,K[b+1]);)if(K=g[++j].Yb[0],b=0,j==16)return 16;var G=g[j+1].Yb;if(de(d,K[b+2])){var X=d,oe=0;if(de(X,(me=K)[(ge=b)+3]))if(de(X,me[ge+6])){for(K=0,ge=2*(oe=de(X,me[ge+8]))+(me=de(X,me[ge+9+oe])),oe=0,me=qN[ge];me[K];++K)oe+=oe+de(X,me[K]);oe+=3+(8<<ge)}else de(X,me[ge+7])?(oe=7+2*de(X,165),oe+=de(X,145)):oe=5+de(X,159);else oe=de(X,me[ge+4])?3+de(X,me[ge+5]):2;K=G[2]}else oe=1,K=G[1];G=O+$N[j],0>(X=d).b&&re(X);var ge,me=X.b,he=(ge=X.Ca>>1)-(X.I>>me)>>31;--X.b,X.Ca+=he,X.Ca|=1,X.I-=(ge+1&he)<<me,D[G]=((oe^he)-he)*N[(0<j)+0]}return 16}function zl(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,s(d.zc,0,0,d.zc.length),d.ja=0}function O0(d,g){if(d==null)return 0;if(g==null)return gr(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!td(d,g))return 0;if(e(d.cb),g.ac==null||g.ac(g)){g.ob&&(d.L=0);var b=kd[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=g.v-b>>4,d.zb=g.j-b>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=g.o+15+b>>4,d.Hb=g.va+15+b>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var N=d.ed;for(b=0;4>b;++b){var j;if(d.Qa.Cb){var D=d.Qa.Lb[b];d.Qa.Fb||(D+=N.Tb)}else D=N.Tb;for(j=0;1>=j;++j){var O=d.gd[b][j],K=D;if(N.Pc&&(K+=N.vd[0],j&&(K+=N.od[0])),0<(K=0>K?0:63<K?63:K)){var G=K;0<N.wb&&(G=4<N.wb?G>>2:G>>1)>9-N.wb&&(G=9-N.wb),1>G&&(G=1),O.dd=G,O.tc=2*K+G,O.ld=40<=K?2:15<=K?1:0}else O.tc=0;O.La=j}}}b=0}else gr(d,6,"Frame setup failed"),b=d.a;if(b=b==0){if(b){d.$c=0,0<d.Aa||(d.Ic=u3);e:{b=d.Ic,N=4*(G=d.za);var X=32*G,oe=G+1,ge=0<d.L?G*(0<d.Aa?2:1):0,me=(d.Aa==2?2:1)*G;if((O=N+832+(j=3*(16*b+kd[d.L])/2*X)+(D=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=O)b=0;else{if(O>d.Vb){if(d.Vb=0,d.Ec=i(O),d.Fc=0,d.Ec==null){b=gr(d,1,"no memory during frame initialization.");break e}d.Vb=O}O=d.Ec,K=d.Fc,d.Ac=O,d.Bc=K,K+=N,d.Gd=a(X,Zu),d.Hd=0,d.rb=a(oe+1,Xu),d.sb=1,d.wa=ge?a(ge,AA):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=G),e(!0),d.oc=O,d.pc=K,K+=832,d.ya=a(me,Gl),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=G),d.R=16*G,d.B=8*G,G=(X=kd[d.L])*d.R,X=X/2*d.B,d.sa=O,d.ta=K+G,d.qa=d.sa,d.ra=d.ta+16*b*d.R+X,d.Ha=d.qa,d.Ia=d.ra+8*b*d.B+X,d.$c=0,K+=j,d.mb=D?O:null,d.nb=D?K:null,e(K+D<=d.Fc+d.Vb),zl(d),s(d.Ac,d.Bc,0,N),b=1}}if(b){if(g.ka=0,g.y=d.sa,g.O=d.ta,g.f=d.qa,g.N=d.ra,g.ea=d.Ha,g.Vd=d.Ia,g.fa=d.R,g.Rc=d.B,g.F=null,g.J=0,!yd){for(b=-255;255>=b;++b)Tr[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)Ri[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)fc[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)EA[255+b]=0>b?0:255<b?255:b;yd=1}CA=K0,Pi=M0,uc=sd,bn=H0,cs=id,mr=nd,NA=Xl,xd=mo,dc=rp,xo=Zl,yo=tp,ha=pA,bo=ec,SA=fd,Bo=hd,fa=pi,hc=Li,us=ep,Rs[0]=fi,Rs[1]=V0,Rs[2]=$0,Rs[3]=W0,Rs[4]=Ad,Rs[5]=hA,Rs[6]=ld,Rs[7]=Wl,Rs[8]=Y0,Rs[9]=J0,pa[0]=ad,pa[1]=z0,pa[2]=ji,pa[3]=uA,pa[4]=An,pa[5]=q0,pa[6]=od,Di[0]=Aa,Di[1]=G0,Di[2]=X0,Di[3]=Jl,Di[4]=go,Di[5]=Z0,Di[6]=Yl,b=1}else b=0}b&&(b=function(he,Ce){for(he.M=0;he.M<he.Va;++he.M){var ve,Ae=he.Jc[he.M&he.Xb],ce=he.m,ye=he;for(ve=0;ve<ye.za;++ve){var Ne=ce,be=ye,Oe=be.Ac,Ie=be.Bc+4*ve,We=be.zc,Le=be.ya[be.aa+ve];if(be.Qa.Bb?Le.$b=de(Ne,be.Pa.jb[0])?2+de(Ne,be.Pa.jb[2]):de(Ne,be.Pa.jb[1]):Le.$b=0,be.kc&&(Le.Ad=de(Ne,be.Bd)),Le.Za=!de(Ne,145)+0,Le.Za){var Et=Le.Ob,Ut=0;for(be=0;4>be;++be){var Ct,wt=We[0+be];for(Ct=0;4>Ct;++Ct){wt=JN[Oe[Ie+Ct]][wt];for(var Ot=A1[de(Ne,wt[0])];0<Ot;)Ot=A1[2*Ot+de(Ne,wt[Ot])];wt=-Ot,Oe[Ie+Ct]=wt}n(Et,Ut,Oe,Ie,4),Ut+=4,We[0+be]=wt}}else wt=de(Ne,156)?de(Ne,128)?1:3:de(Ne,163)?2:0,Le.Ob[0]=wt,s(Oe,Ie,wt,4),s(We,0,wt,4);Le.Dd=de(Ne,142)?de(Ne,114)?de(Ne,183)?1:3:2:0}if(ye.m.Ka)return gr(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(ye=Ae,Ne=(ce=he).rb[ce.sb-1],Oe=ce.rb[ce.sb+ce.ja],ve=ce.ya[ce.aa+ce.ja],Ie=ce.kc?ve.Ad:0)Ne.la=Oe.la=0,ve.Za||(Ne.Na=Oe.Na=0),ve.Hc=0,ve.Gc=0,ve.ia=0;else{var Pt,ut;if(Ne=Oe,Oe=ye,Ie=ce.Pa.Xc,We=ce.ya[ce.aa+ce.ja],Le=ce.pb[We.$b],be=We.ad,Et=0,Ut=ce.rb[ce.sb-1],wt=Ct=0,s(be,Et,0,384),We.Za)var Fr=0,jn=Ie[3];else{Ot=i(16);var kr=Ne.Na+Ut.Na;if(kr=pc(Oe,Ie[1],kr,Le.Eb,0,Ot,0),Ne.Na=Ut.Na=(0<kr)+0,1<kr)CA(Ot,0,be,Et);else{var Ln=Ot[0]+3>>3;for(Ot=0;256>Ot;Ot+=16)be[Et+Ot]=Ln}Fr=1,jn=Ie[0]}var It=15&Ne.la,zn=15&Ut.la;for(Ot=0;4>Ot;++Ot){var qn=1&zn;for(Ln=ut=0;4>Ln;++Ln)It=It>>1|(qn=(kr=pc(Oe,jn,kr=qn+(1&It),Le.Sc,Fr,be,Et))>Fr)<<7,ut=ut<<2|(3<kr?3:1<kr?2:be[Et+0]!=0),Et+=16;It>>=4,zn=zn>>1|qn<<7,Ct=(Ct<<8|ut)>>>0}for(jn=It,Fr=zn>>4,Pt=0;4>Pt;Pt+=2){for(ut=0,It=Ne.la>>4+Pt,zn=Ut.la>>4+Pt,Ot=0;2>Ot;++Ot){for(qn=1&zn,Ln=0;2>Ln;++Ln)kr=qn+(1&It),It=It>>1|(qn=0<(kr=pc(Oe,Ie[2],kr,Le.Qc,0,be,Et)))<<3,ut=ut<<2|(3<kr?3:1<kr?2:be[Et+0]!=0),Et+=16;It>>=2,zn=zn>>1|qn<<5}wt|=ut<<4*Pt,jn|=It<<4<<Pt,Fr|=(240&zn)<<Pt}Ne.la=jn,Ut.la=Fr,We.Hc=Ct,We.Gc=wt,We.ia=43690&wt?0:Le.ia,Ie=!(Ct|wt)}if(0<ce.L&&(ce.wa[ce.Y+ce.ja]=ce.gd[ve.$b][ve.Za],ce.wa[ce.Y+ce.ja].La|=!Ie),ye.Ka)return gr(he,7,"Premature end-of-file encountered.")}if(zl(he),ce=Ce,ye=1,ve=(Ae=he).D,Ne=0<Ae.L&&Ae.M>=Ae.zb&&Ae.M<=Ae.Va,Ae.Aa==0)e:{if(ve.M=Ae.M,ve.uc=Ne,ac(Ae,ve),ye=1,ve=(ut=Ae.D).Nb,Ne=(wt=kd[Ae.L])*Ae.R,Oe=wt/2*Ae.B,Ot=16*ve*Ae.R,Ln=8*ve*Ae.B,Ie=Ae.sa,We=Ae.ta-Ne+Ot,Le=Ae.qa,be=Ae.ra-Oe+Ln,Et=Ae.Ha,Ut=Ae.Ia-Oe+Ln,zn=(It=ut.M)==0,Ct=It>=Ae.Va-1,Ae.Aa==2&&ac(Ae,ut),ut.uc)for(qn=(kr=Ae).D.M,e(kr.D.uc),ut=kr.yb;ut<kr.Hb;++ut){Fr=ut,jn=qn;var Hr=(Yr=(ur=kr).D).Nb;Pt=ur.R;var Yr=Yr.wa[Yr.Y+Fr],Bn=ur.sa,ps=ur.ta+16*Hr*Pt+16*Fr,mi=Yr.dd,Kr=Yr.tc;if(Kr!=0)if(e(3<=Kr),ur.L==1)0<Fr&&fa(Bn,ps,Pt,Kr+4),Yr.La&&us(Bn,ps,Pt,Kr),0<jn&&Bo(Bn,ps,Pt,Kr+4),Yr.La&&hc(Bn,ps,Pt,Kr);else{var Oi=ur.B,Co=ur.qa,_A=ur.ra+8*Hr*Oi+8*Fr,ma=ur.Ha,ur=ur.Ia+8*Hr*Oi+8*Fr;Hr=Yr.ld,0<Fr&&(xd(Bn,ps,Pt,Kr+4,mi,Hr),xo(Co,_A,ma,ur,Oi,Kr+4,mi,Hr)),Yr.La&&(ha(Bn,ps,Pt,Kr,mi,Hr),SA(Co,_A,ma,ur,Oi,Kr,mi,Hr)),0<jn&&(NA(Bn,ps,Pt,Kr+4,mi,Hr),dc(Co,_A,ma,ur,Oi,Kr+4,mi,Hr)),Yr.La&&(yo(Bn,ps,Pt,Kr,mi,Hr),bo(Co,_A,ma,ur,Oi,Kr,mi,Hr))}}if(Ae.ia&&alert("todo:DitherRow"),ce.put!=null){if(ut=16*It,It=16*(It+1),zn?(ce.y=Ae.sa,ce.O=Ae.ta+Ot,ce.f=Ae.qa,ce.N=Ae.ra+Ln,ce.ea=Ae.Ha,ce.W=Ae.Ia+Ln):(ut-=wt,ce.y=Ie,ce.O=We,ce.f=Le,ce.N=be,ce.ea=Et,ce.W=Ut),Ct||(It-=wt),It>ce.o&&(It=ce.o),ce.F=null,ce.J=null,Ae.Fa!=null&&0<Ae.Fa.length&&ut<It&&(ce.J=sc(Ae,ce,ut,It-ut),ce.F=Ae.mb,ce.F==null&&ce.F.length==0)){ye=gr(Ae,3,"Could not decode alpha data.");break e}ut<ce.j&&(wt=ce.j-ut,ut=ce.j,e(!(1&wt)),ce.O+=Ae.R*wt,ce.N+=Ae.B*(wt>>1),ce.W+=Ae.B*(wt>>1),ce.F!=null&&(ce.J+=ce.width*wt)),ut<It&&(ce.O+=ce.v,ce.N+=ce.v>>1,ce.W+=ce.v>>1,ce.F!=null&&(ce.J+=ce.v),ce.ka=ut-ce.j,ce.U=ce.va-ce.v,ce.T=It-ut,ye=ce.put(ce))}ve+1!=Ae.Ic||Ct||(n(Ae.sa,Ae.ta-Ne,Ie,We+16*Ae.R,Ne),n(Ae.qa,Ae.ra-Oe,Le,be+8*Ae.B,Oe),n(Ae.Ha,Ae.Ia-Oe,Et,Ut+8*Ae.B,Oe))}if(!ye)return gr(he,6,"Output aborted.")}return 1}(d,g)),g.bc!=null&&g.bc(g),b&=1}return b?(d.cb=0,b):0}function Qs(d,g,b,N,j){j=d[g+b+32*N]+(j>>3),d[g+b+32*N]=-256&j?0>j?0:255:j}function cA(d,g,b,N,j,D){Qs(d,g,0,b,N+j),Qs(d,g,1,b,N+D),Qs(d,g,2,b,N-D),Qs(d,g,3,b,N-j)}function kn(d){return(20091*d>>16)+d}function ql(d,g,b,N){var j,D=0,O=i(16);for(j=0;4>j;++j){var K=d[g+0]+d[g+8],G=d[g+0]-d[g+8],X=(35468*d[g+4]>>16)-kn(d[g+12]),oe=kn(d[g+4])+(35468*d[g+12]>>16);O[D+0]=K+oe,O[D+1]=G+X,O[D+2]=G-X,O[D+3]=K-oe,D+=4,g++}for(j=D=0;4>j;++j)K=(d=O[D+0]+4)+O[D+8],G=d-O[D+8],X=(35468*O[D+4]>>16)-kn(O[D+12]),Qs(b,N,0,0,K+(oe=kn(O[D+4])+(35468*O[D+12]>>16))),Qs(b,N,1,0,G+X),Qs(b,N,2,0,G-X),Qs(b,N,3,0,K-oe),D++,N+=32}function nd(d,g,b,N){var j=d[g+0]+4,D=35468*d[g+4]>>16,O=kn(d[g+4]),K=35468*d[g+1]>>16;cA(b,N,0,j+O,d=kn(d[g+1]),K),cA(b,N,1,j+D,d,K),cA(b,N,2,j-D,d,K),cA(b,N,3,j-O,d,K)}function M0(d,g,b,N,j){ql(d,g,b,N),j&&ql(d,g+16,b,N+4)}function sd(d,g,b,N){Pi(d,g+0,b,N,1),Pi(d,g+32,b,N+128,1)}function H0(d,g,b,N){var j;for(d=d[g+0]+4,j=0;4>j;++j)for(g=0;4>g;++g)Qs(b,N,g,j,d)}function id(d,g,b,N){d[g+0]&&bn(d,g+0,b,N),d[g+16]&&bn(d,g+16,b,N+4),d[g+32]&&bn(d,g+32,b,N+128),d[g+48]&&bn(d,g+48,b,N+128+4)}function K0(d,g,b,N){var j,D=i(16);for(j=0;4>j;++j){var O=d[g+0+j]+d[g+12+j],K=d[g+4+j]+d[g+8+j],G=d[g+4+j]-d[g+8+j],X=d[g+0+j]-d[g+12+j];D[0+j]=O+K,D[8+j]=O-K,D[4+j]=X+G,D[12+j]=X-G}for(j=0;4>j;++j)O=(d=D[0+4*j]+3)+D[3+4*j],K=D[1+4*j]+D[2+4*j],G=D[1+4*j]-D[2+4*j],X=d-D[3+4*j],b[N+0]=O+K>>3,b[N+16]=X+G>>3,b[N+32]=O-K>>3,b[N+48]=X-G>>3,N+=64}function $l(d,g,b){var N,j=g-32,D=Gn,O=255-d[j-1];for(N=0;N<b;++N){var K,G=D,X=O+d[g-1];for(K=0;K<b;++K)d[g+K]=G[X+d[j+K]];g+=32}}function V0(d,g){$l(d,g,4)}function G0(d,g){$l(d,g,8)}function z0(d,g){$l(d,g,16)}function ji(d,g){var b;for(b=0;16>b;++b)n(d,g+32*b,d,g-32,16)}function uA(d,g){var b;for(b=16;0<b;--b)s(d,g,d[g-1],16),g+=32}function dA(d,g,b){var N;for(N=0;16>N;++N)s(g,b+32*N,d,16)}function ad(d,g){var b,N=16;for(b=0;16>b;++b)N+=d[g-1+32*b]+d[g+b-32];dA(N>>5,d,g)}function An(d,g){var b,N=8;for(b=0;16>b;++b)N+=d[g-1+32*b];dA(N>>4,d,g)}function q0(d,g){var b,N=8;for(b=0;16>b;++b)N+=d[g+b-32];dA(N>>4,d,g)}function od(d,g){dA(128,d,g)}function st(d,g,b){return d+2*g+b+2>>2}function $0(d,g){var b,N=g-32;for(N=new Uint8Array([st(d[N-1],d[N+0],d[N+1]),st(d[N+0],d[N+1],d[N+2]),st(d[N+1],d[N+2],d[N+3]),st(d[N+2],d[N+3],d[N+4])]),b=0;4>b;++b)n(d,g+32*b,N,0,N.length)}function W0(d,g){var b=d[g-1],N=d[g-1+32],j=d[g-1+64],D=d[g-1+96];Be(d,g+0,16843009*st(d[g-1-32],b,N)),Be(d,g+32,16843009*st(b,N,j)),Be(d,g+64,16843009*st(N,j,D)),Be(d,g+96,16843009*st(j,D,D))}function fi(d,g){var b,N=4;for(b=0;4>b;++b)N+=d[g+b-32]+d[g-1+32*b];for(N>>=3,b=0;4>b;++b)s(d,g+32*b,N,4)}function Ad(d,g){var b=d[g-1+0],N=d[g-1+32],j=d[g-1+64],D=d[g-1-32],O=d[g+0-32],K=d[g+1-32],G=d[g+2-32],X=d[g+3-32];d[g+0+96]=st(N,j,d[g-1+96]),d[g+1+96]=d[g+0+64]=st(b,N,j),d[g+2+96]=d[g+1+64]=d[g+0+32]=st(D,b,N),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=st(O,D,b),d[g+3+64]=d[g+2+32]=d[g+1+0]=st(K,O,D),d[g+3+32]=d[g+2+0]=st(G,K,O),d[g+3+0]=st(X,G,K)}function ld(d,g){var b=d[g+1-32],N=d[g+2-32],j=d[g+3-32],D=d[g+4-32],O=d[g+5-32],K=d[g+6-32],G=d[g+7-32];d[g+0+0]=st(d[g+0-32],b,N),d[g+1+0]=d[g+0+32]=st(b,N,j),d[g+2+0]=d[g+1+32]=d[g+0+64]=st(N,j,D),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=st(j,D,O),d[g+3+32]=d[g+2+64]=d[g+1+96]=st(D,O,K),d[g+3+64]=d[g+2+96]=st(O,K,G),d[g+3+96]=st(K,G,G)}function hA(d,g){var b=d[g-1+0],N=d[g-1+32],j=d[g-1+64],D=d[g-1-32],O=d[g+0-32],K=d[g+1-32],G=d[g+2-32],X=d[g+3-32];d[g+0+0]=d[g+1+64]=D+O+1>>1,d[g+1+0]=d[g+2+64]=O+K+1>>1,d[g+2+0]=d[g+3+64]=K+G+1>>1,d[g+3+0]=G+X+1>>1,d[g+0+96]=st(j,N,b),d[g+0+64]=st(N,b,D),d[g+0+32]=d[g+1+96]=st(b,D,O),d[g+1+32]=d[g+2+96]=st(D,O,K),d[g+2+32]=d[g+3+96]=st(O,K,G),d[g+3+32]=st(K,G,X)}function Wl(d,g){var b=d[g+0-32],N=d[g+1-32],j=d[g+2-32],D=d[g+3-32],O=d[g+4-32],K=d[g+5-32],G=d[g+6-32],X=d[g+7-32];d[g+0+0]=b+N+1>>1,d[g+1+0]=d[g+0+64]=N+j+1>>1,d[g+2+0]=d[g+1+64]=j+D+1>>1,d[g+3+0]=d[g+2+64]=D+O+1>>1,d[g+0+32]=st(b,N,j),d[g+1+32]=d[g+0+96]=st(N,j,D),d[g+2+32]=d[g+1+96]=st(j,D,O),d[g+3+32]=d[g+2+96]=st(D,O,K),d[g+3+64]=st(O,K,G),d[g+3+96]=st(K,G,X)}function J0(d,g){var b=d[g-1+0],N=d[g-1+32],j=d[g-1+64],D=d[g-1+96];d[g+0+0]=b+N+1>>1,d[g+2+0]=d[g+0+32]=N+j+1>>1,d[g+2+32]=d[g+0+64]=j+D+1>>1,d[g+1+0]=st(b,N,j),d[g+3+0]=d[g+1+32]=st(N,j,D),d[g+3+32]=d[g+1+64]=st(j,D,D),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=D}function Y0(d,g){var b=d[g-1+0],N=d[g-1+32],j=d[g-1+64],D=d[g-1+96],O=d[g-1-32],K=d[g+0-32],G=d[g+1-32],X=d[g+2-32];d[g+0+0]=d[g+2+32]=b+O+1>>1,d[g+0+32]=d[g+2+64]=N+b+1>>1,d[g+0+64]=d[g+2+96]=j+N+1>>1,d[g+0+96]=D+j+1>>1,d[g+3+0]=st(K,G,X),d[g+2+0]=st(O,K,G),d[g+1+0]=d[g+3+32]=st(b,O,K),d[g+1+32]=d[g+3+64]=st(N,b,O),d[g+1+64]=d[g+3+96]=st(j,N,b),d[g+1+96]=st(D,j,N)}function X0(d,g){var b;for(b=0;8>b;++b)n(d,g+32*b,d,g-32,8)}function Jl(d,g){var b;for(b=0;8>b;++b)s(d,g,d[g-1],8),g+=32}function po(d,g,b){var N;for(N=0;8>N;++N)s(g,b+32*N,d,8)}function Aa(d,g){var b,N=8;for(b=0;8>b;++b)N+=d[g+b-32]+d[g-1+32*b];po(N>>4,d,g)}function Z0(d,g){var b,N=4;for(b=0;8>b;++b)N+=d[g+b-32];po(N>>3,d,g)}function go(d,g){var b,N=4;for(b=0;8>b;++b)N+=d[g-1+32*b];po(N>>3,d,g)}function Yl(d,g){po(128,d,g)}function fA(d,g,b){var N=d[g-b],j=d[g+0],D=3*(j-N)+ip[1020+d[g-2*b]-d[g+b]],O=bd[112+(D+4>>3)];d[g-b]=Gn[255+N+bd[112+(D+3>>3)]],d[g+0]=Gn[255+j-O]}function cd(d,g,b,N){var j=d[g+0],D=d[g+b];return hs[255+d[g-2*b]-d[g-b]]>N||hs[255+D-j]>N}function ud(d,g,b,N){return 4*hs[255+d[g-b]-d[g+0]]+hs[255+d[g-2*b]-d[g+b]]<=N}function dd(d,g,b,N,j){var D=d[g-3*b],O=d[g-2*b],K=d[g-b],G=d[g+0],X=d[g+b],oe=d[g+2*b],ge=d[g+3*b];return 4*hs[255+K-G]+hs[255+O-X]>N?0:hs[255+d[g-4*b]-D]<=j&&hs[255+D-O]<=j&&hs[255+O-K]<=j&&hs[255+ge-oe]<=j&&hs[255+oe-X]<=j&&hs[255+X-G]<=j}function hd(d,g,b,N){var j=2*N+1;for(N=0;16>N;++N)ud(d,g+N,b,j)&&fA(d,g+N,b)}function pi(d,g,b,N){var j=2*N+1;for(N=0;16>N;++N)ud(d,g+N*b,1,j)&&fA(d,g+N*b,1)}function Li(d,g,b,N){var j;for(j=3;0<j;--j)hd(d,g+=4*b,b,N)}function ep(d,g,b,N){var j;for(j=3;0<j;--j)pi(d,g+=4,b,N)}function la(d,g,b,N,j,D,O,K){for(D=2*D+1;0<j--;){if(dd(d,g,b,D,O))if(cd(d,g,b,K))fA(d,g,b);else{var G=d,X=g,oe=b,ge=G[X-2*oe],me=G[X-oe],he=G[X+0],Ce=G[X+oe],ve=G[X+2*oe],Ae=27*(ye=ip[1020+3*(he-me)+ip[1020+ge-Ce]])+63>>7,ce=18*ye+63>>7,ye=9*ye+63>>7;G[X-3*oe]=Gn[255+G[X-3*oe]+ye],G[X-2*oe]=Gn[255+ge+ce],G[X-oe]=Gn[255+me+Ae],G[X+0]=Gn[255+he-Ae],G[X+oe]=Gn[255+Ce-ce],G[X+2*oe]=Gn[255+ve-ye]}g+=N}}function Ts(d,g,b,N,j,D,O,K){for(D=2*D+1;0<j--;){if(dd(d,g,b,D,O))if(cd(d,g,b,K))fA(d,g,b);else{var G=d,X=g,oe=b,ge=G[X-oe],me=G[X+0],he=G[X+oe],Ce=bd[112+((ve=3*(me-ge))+4>>3)],ve=bd[112+(ve+3>>3)],Ae=Ce+1>>1;G[X-2*oe]=Gn[255+G[X-2*oe]+Ae],G[X-oe]=Gn[255+ge+ve],G[X+0]=Gn[255+me-Ce],G[X+oe]=Gn[255+he-Ae]}g+=N}}function Xl(d,g,b,N,j,D){la(d,g,b,1,16,N,j,D)}function mo(d,g,b,N,j,D){la(d,g,1,b,16,N,j,D)}function tp(d,g,b,N,j,D){var O;for(O=3;0<O;--O)Ts(d,g+=4*b,b,1,16,N,j,D)}function pA(d,g,b,N,j,D){var O;for(O=3;0<O;--O)Ts(d,g+=4,1,b,16,N,j,D)}function rp(d,g,b,N,j,D,O,K){la(d,g,j,1,8,D,O,K),la(b,N,j,1,8,D,O,K)}function Zl(d,g,b,N,j,D,O,K){la(d,g,1,j,8,D,O,K),la(b,N,1,j,8,D,O,K)}function ec(d,g,b,N,j,D,O,K){Ts(d,g+4*j,j,1,8,D,O,K),Ts(b,N+4*j,j,1,8,D,O,K)}function fd(d,g,b,N,j,D,O,K){Ts(d,g+4,1,j,8,D,O,K),Ts(b,N+4,1,j,8,D,O,K)}function gA(){this.ba=new ks,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pd(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new T}function np(){this.xb=this.a=0,this.l=new lA,this.ca=new ks,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pd,this.ab=0,this.gc=a(4,rc),this.Oc=0}function mA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wo(d,g,b,N,j,D,O){for(d=d==null?0:d[g+0],g=0;g<O;++g)j[D+g]=d+b[N+g]&255,d=j[D+g]}function nc(d,g,b,N,j,D,O){var K;if(d==null)wo(null,null,b,N,j,D,O);else for(K=0;K<O;++K)j[D+K]=d[g+K]+b[N+K]&255}function ca(d,g,b,N,j,D,O){if(d==null)wo(null,null,b,N,j,D,O);else{var K,G=d[g+0],X=G,oe=G;for(K=0;K<O;++K)X=oe+(G=d[g+K])-X,oe=b[N+K]+(-256&X?0>X?0:255:X)&255,X=G,j[D+K]=oe}}function sc(d,g,b,N){var j=g.width,D=g.o;if(e(d!=null&&g!=null),0>b||0>=N||b+N>D)return null;if(!d.Cc){if(d.ga==null){var O;if(d.ga=new mA,(O=d.ga==null)||(O=g.width*g.o,e(d.Gb.length==0),d.Gb=i(O),d.Uc=0,d.Gb==null?O=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,O=1),O=!O),!O){O=d.ga;var K=d.Fa,G=d.P,X=d.qc,oe=d.mb,ge=d.nb,me=G+1,he=X-1,Ce=O.l;if(e(K!=null&&oe!=null&&g!=null),ga[0]=null,ga[1]=wo,ga[2]=nc,ga[3]=ca,O.ca=oe,O.tb=ge,O.c=g.width,O.i=g.height,e(0<O.c&&0<O.i),1>=X)g=0;else if(O.$a=K[G+0]>>0&3,O.Z=K[G+0]>>2&3,O.Lc=K[G+0]>>4&3,G=K[G+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||G)g=0;else if(Ce.put=li,Ce.ac=Wr,Ce.bc=ci,Ce.ma=O,Ce.width=g.width,Ce.height=g.height,Ce.Da=g.Da,Ce.v=g.v,Ce.va=g.va,Ce.j=g.j,Ce.o=g.o,O.$a)e:{e(O.$a==1),g=As();t:for(;;){if(g==null){g=0;break e}if(e(O!=null),O.mc=g,g.c=O.c,g.i=O.i,g.l=O.l,g.l.ma=O,g.l.width=O.c,g.l.height=O.i,g.a=0,q(g.m,K,me,he),!hi(O.c,O.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Ii(g.s)?(O.ic=1,K=g.c*g.i,g.Ta=null,g.Ua=0,g.V=i(K),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(O.ic=0,g=fo(g,O.c)),!g))break t;g=1;break e}O.mc=null,g=0}else g=he>=O.c*O.i;O=!g}if(O)return null;d.ga.Lc!=1?d.Ga=0:N=D-b}e(d.ga!=null),e(b+N<=D);e:{if(g=(K=d.ga).c,D=K.l.o,K.$a==0){if(me=d.rc,he=d.Vc,Ce=d.Fa,G=d.P+1+b*g,X=d.mb,oe=d.nb+b*g,e(G<=d.P+d.qc),K.Z!=0)for(e(ga[K.Z]!=null),O=0;O<N;++O)ga[K.Z](me,he,Ce,G,X,oe,g),me=X,he=oe,oe+=g,G+=g;else for(O=0;O<N;++O)n(X,oe,Ce,G,g),me=X,he=oe,oe+=g,G+=g;d.rc=me,d.Vc=he}else{if(e(K.mc!=null),g=b+N,e((O=K.mc)!=null),e(g<=O.i),O.C>=g)g=1;else if(K.ic||pe(),K.ic){K=O.V,me=O.Ba,he=O.c;var ve=O.i,Ae=(Ce=1,G=O.$/he,X=O.$%he,oe=O.m,ge=O.s,O.$),ce=he*ve,ye=he*g,Ne=ge.wc,be=Ae<ye?Er(ge,X,G):null;e(Ae<=ce),e(g<=ve),e(Ii(ge));t:for(;;){for(;!oe.h&&Ae<ye;){if(X&Ne||(be=Er(ge,X,G)),e(be!=null),ee(oe),256>(ve=Fn(be.G[0],be.H[0],oe)))K[me+Ae]=ve,++Ae,++X>=he&&(X=0,++G<=g&&!(G%16)&&js(O,G));else{if(!(280>ve)){Ce=0;break t}ve=Us(ve-256,oe);var Oe,Ie=Fn(be.G[4],be.H[4],oe);if(ee(oe),!(Ae>=(Ie=ui(he,Ie=Us(Ie,oe)))&&ce-Ae>=ve)){Ce=0;break t}for(Oe=0;Oe<ve;++Oe)K[me+Ae+Oe]=K[me+Ae+Oe-Ie];for(Ae+=ve,X+=ve;X>=he;)X-=he,++G<=g&&!(G%16)&&js(O,G);Ae<ye&&X&Ne&&(be=Er(ge,X,G))}e(oe.h==V(oe))}js(O,G>g?g:G);break t}!Ce||oe.h&&Ae<ce?(Ce=0,O.a=oe.h?5:3):O.$=Ae,g=Ce}else g=Ls(O,O.V,O.Ba,O.c,O.i,g,sA);if(!g){N=0;break e}}b+N>=D&&(d.Cc=1),N=1}if(!N)return null;if(d.Cc&&((N=d.ga)!=null&&(N.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+b*j}function v(d,g,b,N,j,D){for(;0<j--;){var O,K=d,G=g+(b?1:0),X=d,oe=g+(b?0:3);for(O=0;O<N;++O){var ge=X[oe+4*O];ge!=255&&(ge*=32897,K[G+4*O+0]=K[G+4*O+0]*ge>>23,K[G+4*O+1]=K[G+4*O+1]*ge>>23,K[G+4*O+2]=K[G+4*O+2]*ge>>23)}g+=D}}function Q(d,g,b,N,j){for(;0<N--;){var D;for(D=0;D<b;++D){var O=d[g+2*D+0],K=15&(X=d[g+2*D+1]),G=4369*K,X=(240&X|X>>4)*G>>16;d[g+2*D+0]=(240&O|O>>4)*G>>16&240|(15&O|O<<4)*G>>16>>4&15,d[g+2*D+1]=240&X|K}g+=j}}function te(d,g,b,N,j,D,O,K){var G,X,oe=255;for(X=0;X<j;++X){for(G=0;G<N;++G){var ge=d[g+G];D[O+4*G]=ge,oe&=ge}g+=b,O+=K}return oe!=255}function ae(d,g,b,N,j){var D;for(D=0;D<j;++D)b[N+D]=d[g+D]>>8}function pe(){ds=v,Ht=Q,Kt=te,wr=ae}function xe(d,g,b){U[d]=function(N,j,D,O,K,G,X,oe,ge,me,he,Ce,ve,Ae,ce,ye,Ne){var be,Oe=Ne-1>>1,Ie=K[G+0]|X[oe+0]<<16,We=ge[me+0]|he[Ce+0]<<16;e(N!=null);var Le=3*Ie+We+131074>>2;for(g(N[j+0],255&Le,Le>>16,ve,Ae),D!=null&&(Le=3*We+Ie+131074>>2,g(D[O+0],255&Le,Le>>16,ce,ye)),be=1;be<=Oe;++be){var Et=K[G+be]|X[oe+be]<<16,Ut=ge[me+be]|he[Ce+be]<<16,Ct=Ie+Et+We+Ut+524296,wt=Ct+2*(Et+We)>>3;Le=wt+Ie>>1,Ie=(Ct=Ct+2*(Ie+Ut)>>3)+Et>>1,g(N[j+2*be-1],255&Le,Le>>16,ve,Ae+(2*be-1)*b),g(N[j+2*be-0],255&Ie,Ie>>16,ve,Ae+(2*be-0)*b),D!=null&&(Le=Ct+We>>1,Ie=wt+Ut>>1,g(D[O+2*be-1],255&Le,Le>>16,ce,ye+(2*be-1)*b),g(D[O+2*be+0],255&Ie,Ie>>16,ce,ye+(2*be+0)*b)),Ie=Et,We=Ut}1&Ne||(Le=3*Ie+We+131074>>2,g(N[j+Ne-1],255&Le,Le>>16,ve,Ae+(Ne-1)*b),D!=null&&(Le=3*We+Ie+131074>>2,g(D[O+Ne-1],255&Le,Le>>16,ce,ye+(Ne-1)*b)))}}function Se(){fs[Bd]=e3,fs[Cd]=c1,fs[i1]=t3,fs[Nd]=u1,fs[Sd]=d1,fs[ap]=h1,fs[a1]=r3,fs[op]=c1,fs[Ap]=u1,fs[Ed]=d1,fs[lp]=h1}function De(d){return d&-16384?0>d?0:255:d>>n3}function qe(d,g){return De((19077*d>>8)+(26149*g>>8)-14234)}function ct(d,g,b){return De((19077*d>>8)-(6419*g>>8)-(13320*b>>8)+8708)}function ot(d,g){return De((19077*d>>8)+(33050*g>>8)-17685)}function yt(d,g,b,N,j){N[j+0]=qe(d,b),N[j+1]=ct(d,g,b),N[j+2]=ot(d,g)}function rr(d,g,b,N,j){N[j+0]=ot(d,g),N[j+1]=ct(d,g,b),N[j+2]=qe(d,b)}function cr(d,g,b,N,j){var D=ct(d,g,b);g=D<<3&224|ot(d,g)>>3,N[j+0]=248&qe(d,b)|D>>5,N[j+1]=g}function _r(d,g,b,N,j){var D=240&ot(d,g)|15;N[j+0]=240&qe(d,b)|ct(d,g,b)>>4,N[j+1]=D}function ln(d,g,b,N,j){N[j+0]=255,yt(d,g,b,N,j+1)}function Mr(d,g,b,N,j){rr(d,g,b,N,j),N[j+3]=255}function Ps(d,g,b,N,j){yt(d,g,b,N,j),N[j+3]=255}function Vn(d,g){return 0>d?0:d>g?g:d}function gi(d,g,b){U[d]=function(N,j,D,O,K,G,X,oe,ge){for(var me=oe+(-2&ge)*b;oe!=me;)g(N[j+0],D[O+0],K[G+0],X,oe),g(N[j+1],D[O+0],K[G+0],X,oe+b),j+=2,++O,++G,oe+=2*b;1&ge&&g(N[j+0],D[O+0],K[G+0],X,oe)}}function gd(d,g,b){return b==0?d==0?g==0?6:5:g==0?4:0:b}function ic(d,g,b,N,j){switch(d>>>30){case 3:Pi(g,b,N,j,0);break;case 2:mr(g,b,N,j);break;case 1:bn(g,b,N,j)}}function ac(d,g){var b,N,j=g.M,D=g.Nb,O=d.oc,K=d.pc+40,G=d.oc,X=d.pc+584,oe=d.oc,ge=d.pc+600;for(b=0;16>b;++b)O[K+32*b-1]=129;for(b=0;8>b;++b)G[X+32*b-1]=129,oe[ge+32*b-1]=129;for(0<j?O[K-1-32]=G[X-1-32]=oe[ge-1-32]=129:(s(O,K-32-1,127,21),s(G,X-32-1,127,9),s(oe,ge-32-1,127,9)),N=0;N<d.za;++N){var me=g.ya[g.aa+N];if(0<N){for(b=-1;16>b;++b)n(O,K+32*b-4,O,K+32*b+12,4);for(b=-1;8>b;++b)n(G,X+32*b-4,G,X+32*b+4,4),n(oe,ge+32*b-4,oe,ge+32*b+4,4)}var he=d.Gd,Ce=d.Hd+N,ve=me.ad,Ae=me.Hc;if(0<j&&(n(O,K-32,he[Ce].y,0,16),n(G,X-32,he[Ce].f,0,8),n(oe,ge-32,he[Ce].ea,0,8)),me.Za){var ce=O,ye=K-32+16;for(0<j&&(N>=d.za-1?s(ce,ye,he[Ce].y[15],4):n(ce,ye,he[Ce+1].y,0,4)),b=0;4>b;b++)ce[ye+128+b]=ce[ye+256+b]=ce[ye+384+b]=ce[ye+0+b];for(b=0;16>b;++b,Ae<<=2)ce=O,ye=K+p1[b],Rs[me.Ob[b]](ce,ye),ic(Ae,ve,16*+b,ce,ye)}else if(ce=gd(N,j,me.Ob[0]),pa[ce](O,K),Ae!=0)for(b=0;16>b;++b,Ae<<=2)ic(Ae,ve,16*+b,O,K+p1[b]);for(b=me.Gc,ce=gd(N,j,me.Dd),Di[ce](G,X),Di[ce](oe,ge),Ae=ve,ce=G,ye=X,255&(me=b>>0)&&(170&me?uc(Ae,256,ce,ye):cs(Ae,256,ce,ye)),me=oe,Ae=ge,255&(b>>=8)&&(170&b?uc(ve,320,me,Ae):cs(ve,320,me,Ae)),j<d.Ub-1&&(n(he[Ce].y,0,O,K+480,16),n(he[Ce].f,0,G,X+224,8),n(he[Ce].ea,0,oe,ge+224,8)),b=8*D*d.B,he=d.sa,Ce=d.ta+16*N+16*D*d.R,ve=d.qa,me=d.ra+8*N+b,Ae=d.Ha,ce=d.Ia+8*N+b,b=0;16>b;++b)n(he,Ce+b*d.R,O,K+32*b,16);for(b=0;8>b;++b)n(ve,me+b*d.B,G,X+32*b,8),n(Ae,ce+b*d.B,oe,ge+32*b,8)}}function wA(d,g,b,N,j,D,O,K,G){var X=[0],oe=[0],ge=0,me=G!=null?G.kd:0,he=G??new tc;if(d==null||12>b)return 7;he.data=d,he.w=g,he.ha=b,g=[g],b=[b],he.gb=[he.gb];e:{var Ce=g,ve=b,Ae=he.gb;if(e(d!=null),e(ve!=null),e(Ae!=null),Ae[0]=0,12<=ve[0]&&!r(d,Ce[0],"RIFF")){if(r(d,Ce[0]+8,"WEBP")){Ae=3;break e}var ce=ke(d,Ce[0]+4);if(12>ce||4294967286<ce){Ae=3;break e}if(me&&ce>ve[0]-8){Ae=7;break e}Ae[0]=ce,Ce[0]+=12,ve[0]-=12}Ae=0}if(Ae!=0)return Ae;for(ce=0<he.gb[0],b=b[0];;){e:{var ye=d;ve=g,Ae=b;var Ne=X,be=oe,Oe=Ce=[0];if((Le=ge=[ge])[0]=0,8>Ae[0])Ae=7;else{if(!r(ye,ve[0],"VP8X")){if(ke(ye,ve[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var Ie=ke(ye,ve[0]+8),We=1+je(ye,ve[0]+12);if(2147483648<=We*(ye=1+je(ye,ve[0]+15))){Ae=3;break e}Oe!=null&&(Oe[0]=Ie),Ne!=null&&(Ne[0]=We),be!=null&&(be[0]=ye),ve[0]+=18,Ae[0]-=18,Le[0]=1}Ae=0}}if(ge=ge[0],Ce=Ce[0],Ae!=0)return Ae;if(ve=!!(2&Ce),!ce&&ge)return 3;if(D!=null&&(D[0]=!!(16&Ce)),O!=null&&(O[0]=ve),K!=null&&(K[0]=0),O=X[0],Ce=oe[0],ge&&ve&&G==null){Ae=0;break}if(4>b){Ae=7;break}if(ce&&ge||!ce&&!ge&&!r(d,g[0],"ALPH")){b=[b],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Ie=d,Ae=g,ce=b;var Le=he.gb;Ne=he.na,be=he.P,Oe=he.Sa,We=22,e(Ie!=null),e(ce!=null),ye=Ae[0];var Et=ce[0];for(e(Ne!=null),e(Oe!=null),Ne[0]=null,be[0]=null,Oe[0]=0;;){if(Ae[0]=ye,ce[0]=Et,8>Et){Ae=7;break e}var Ut=ke(Ie,ye+4);if(4294967286<Ut){Ae=3;break e}var Ct=8+Ut+1&-2;if(We+=Ct,0<Le&&We>Le){Ae=3;break e}if(!r(Ie,ye,"VP8 ")||!r(Ie,ye,"VP8L")){Ae=0;break e}if(Et[0]<Ct){Ae=7;break e}r(Ie,ye,"ALPH")||(Ne[0]=Ie,be[0]=ye+8,Oe[0]=Ut),ye+=Ct,Et-=Ct}}if(b=b[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],Ae!=0)break}b=[b],he.Ja=[he.Ja],he.xa=[he.xa];e:if(Le=d,Ae=g,ce=b,Ne=he.gb[0],be=he.Ja,Oe=he.xa,Ie=Ae[0],ye=!r(Le,Ie,"VP8 "),We=!r(Le,Ie,"VP8L"),e(Le!=null),e(ce!=null),e(be!=null),e(Oe!=null),8>ce[0])Ae=7;else{if(ye||We){if(Le=ke(Le,Ie+4),12<=Ne&&Le>Ne-12){Ae=3;break e}if(me&&Le>ce[0]-8){Ae=7;break e}be[0]=Le,Ae[0]+=8,ce[0]-=8,Oe[0]=We}else Oe[0]=5<=ce[0]&&Le[Ie+0]==47&&!(Le[Ie+4]>>5),be[0]=ce[0];Ae=0}if(b=b[0],he.Ja=he.Ja[0],he.xa=he.xa[0],g=g[0],Ae!=0)break;if(4294967286<he.Ja)return 3;if(K==null||ve||(K[0]=he.xa?2:1),O=[O],Ce=[Ce],he.xa){if(5>b){Ae=7;break}K=O,me=Ce,ve=D,d==null||5>b?d=0:5<=b&&d[g+0]==47&&!(d[g+4]>>5)?(ce=[0],Le=[0],Ne=[0],q(be=new _,d,g,b),Je(be,ce,Le,Ne)?(K!=null&&(K[0]=ce[0]),me!=null&&(me[0]=Le[0]),ve!=null&&(ve[0]=Ne[0]),d=1):d=0):d=0}else{if(10>b){Ae=7;break}K=Ce,d==null||10>b||!ed(d,g+3,b-3)?d=0:(me=d[g+0]|d[g+1]<<8|d[g+2]<<16,ve=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=he.Ja||!ve||!d?d=0:(O&&(O[0]=ve),K&&(K[0]=d),d=1))}if(!d||(O=O[0],Ce=Ce[0],ge&&(X[0]!=O||oe[0]!=Ce)))return 3;G!=null&&(G[0]=he,G.offset=g-G.w,e(4294967286>g-G.w),e(G.offset==G.ha-b));break}return Ae==0||Ae==7&&ge&&G==null?(D!=null&&(D[0]|=he.na!=null&&0<he.na.length),N!=null&&(N[0]=O),j!=null&&(j[0]=Ce),0):Ae}function oc(d,g,b){var N=g.width,j=g.height,D=0,O=0,K=N,G=j;if(g.Da=d!=null&&0<d.Da,g.Da&&(K=d.cd,G=d.bd,D=d.v,O=d.j,11>b||(D&=-2,O&=-2),0>D||0>O||0>=K||0>=G||D+K>N||O+G>j))return 0;if(g.v=D,g.j=O,g.va=D+K,g.o=O+G,g.U=K,g.T=G,g.da=d!=null&&0<d.da,g.da){if(!lt(K,G,b=[d.ib],D=[d.hb]))return 0;g.ib=b[0],g.hb=D[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*N/4&&g.hb<3*j/4,g.Kb=0),1}function Ac(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function vA(d,g,b,N){if(N==null||0>=d||0>=g)return 2;if(b!=null){if(b.Da){var j=b.cd,D=b.bd,O=-2&b.v,K=-2&b.j;if(0>O||0>K||0>=j||0>=D||O+j>d||K+D>g)return 2;d=j,g=D}if(b.da){if(!lt(d,g,j=[b.ib],D=[b.hb]))return 2;d=j[0],g=D[0]}}N.width=d,N.height=g;e:{var G=N.width,X=N.height;if(d=N.S,0>=G||0>=X||!(d>=Bd&&13>d))d=2;else{if(0>=N.Rd&&N.sd==null){O=D=j=g=0;var oe=(K=G*g1[d])*X;if(11>d||(D=(X+1)/2*(g=(G+1)/2),d==12&&(O=(j=G)*X)),(X=i(oe+2*D+O))==null){d=1;break e}N.sd=X,11>d?((G=N.f.RGBA).eb=X,G.fb=0,G.A=K,G.size=oe):((G=N.f.kb).y=X,G.O=0,G.fa=K,G.Fd=oe,G.f=X,G.N=0+oe,G.Ab=g,G.Cd=D,G.ea=X,G.W=0+oe+D,G.Db=g,G.Ed=D,d==12&&(G.F=X,G.J=0+oe+2*D),G.Tc=O,G.lb=j)}if(g=1,j=N.S,D=N.width,O=N.height,j>=Bd&&13>j)if(11>j)d=N.f.RGBA,g&=(K=Math.abs(d.A))*(O-1)+D<=d.size,g&=K>=D*g1[j],g&=d.eb!=null;else{d=N.f.kb,K=(D+1)/2,oe=(O+1)/2,G=Math.abs(d.fa),X=Math.abs(d.Ab);var ge=Math.abs(d.Db),me=Math.abs(d.lb),he=me*(O-1)+D;g&=G*(O-1)+D<=d.Fd,g&=X*(oe-1)+K<=d.Cd,g=(g&=ge*(oe-1)+K<=d.Ed)&G>=D&X>=K&ge>=K,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,j==12&&(g&=me>=D,g&=he<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||b!=null&&b.fd&&(d=Ac(N)),d}var Jr=64,xA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yA=24,bA=32,lc=8,Un=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(d){return d},U.Predictor2=function(d,g,b){return g[b+0]},U.Predictor3=function(d,g,b){return g[b+1]},U.Predictor4=function(d,g,b){return g[b-1]},U.Predictor5=function(d,g,b){return Qe(Qe(d,g[b+1]),g[b+0])},U.Predictor6=function(d,g,b){return Qe(d,g[b-1])},U.Predictor7=function(d,g,b){return Qe(d,g[b+0])},U.Predictor8=function(d,g,b){return Qe(g[b-1],g[b+0])},U.Predictor9=function(d,g,b){return Qe(g[b+0],g[b+1])},U.Predictor10=function(d,g,b){return Qe(Qe(d,g[b-1]),Qe(g[b+0],g[b+1]))},U.Predictor11=function(d,g,b){var N=g[b+0];return 0>=dt(N>>24&255,d>>24&255,(g=g[b-1])>>24&255)+dt(N>>16&255,d>>16&255,g>>16&255)+dt(N>>8&255,d>>8&255,g>>8&255)+dt(255&N,255&d,255&g)?N:d},U.Predictor12=function(d,g,b){var N=g[b+0];return(ze((d>>24&255)+(N>>24&255)-((g=g[b-1])>>24&255))<<24|ze((d>>16&255)+(N>>16&255)-(g>>16&255))<<16|ze((d>>8&255)+(N>>8&255)-(g>>8&255))<<8|ze((255&d)+(255&N)-(255&g)))>>>0},U.Predictor13=function(d,g,b){var N=g[b-1];return(it((d=Qe(d,g[b+0]))>>24&255,N>>24&255)<<24|it(d>>16&255,N>>16&255)<<16|it(d>>8&255,N>>8&255)<<8|it(d>>0&255,N>>0&255))>>>0};var sp=U.PredictorAdd0;U.PredictorAdd1=pt,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var cc=U.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var md,ls=U.ColorIndexInverseTransform,BA=U.MapARGB,wd=U.VP8LColorIndexInverseTransformAlpha,vd=U.MapAlpha,ua=U.VP8LPredictorsAdd=[];ua.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var vo,In,yn,da,Qi,Ti,CA,Pi,mr,uc,bn,cs,NA,xd,dc,xo,yo,ha,bo,SA,Bo,fa,hc,us,ds,Ht,Kt,wr,Tr=i(511),Ri=i(2041),fc=i(225),EA=i(767),yd=0,ip=Ri,bd=fc,Gn=EA,hs=Tr,Bd=0,Cd=1,i1=2,Nd=3,Sd=4,ap=5,a1=6,op=7,Ap=8,Ed=9,lp=10,ON=[2,3,7],MN=[3,3,11],o1=[280,256,256,256,40],HN=[0,1,1,1,0],KN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],VN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],GN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zN=8,cp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],up=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pc=null,qN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$N=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],A1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],WN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],JN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],YN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],XN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],pa=[],Rs=[],Di=[],ZN=1,l1=2,ga=[],fs=[];xe("UpsampleRgbLinePair",yt,3),xe("UpsampleBgrLinePair",rr,3),xe("UpsampleRgbaLinePair",Ps,4),xe("UpsampleBgraLinePair",Mr,4),xe("UpsampleArgbLinePair",ln,4),xe("UpsampleRgba4444LinePair",_r,2),xe("UpsampleRgb565LinePair",cr,2);var e3=U.UpsampleRgbLinePair,t3=U.UpsampleBgrLinePair,c1=U.UpsampleRgbaLinePair,u1=U.UpsampleBgraLinePair,d1=U.UpsampleArgbLinePair,h1=U.UpsampleRgba4444LinePair,r3=U.UpsampleRgb565LinePair,_d=16,Fd=1<<_d-1,gc=-227,dp=482,n3=6,f1=0,s3=i(256),i3=i(256),a3=i(256),o3=i(256),A3=i(dp-gc),l3=i(dp-gc);gi("YuvToRgbRow",yt,3),gi("YuvToBgrRow",rr,3),gi("YuvToRgbaRow",Ps,4),gi("YuvToBgraRow",Mr,4),gi("YuvToArgbRow",ln,4),gi("YuvToRgba4444Row",_r,2),gi("YuvToRgb565Row",cr,2);var p1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],kd=[0,2,8],c3=[8,7,6,4,4,2,2,2,1,1,1,1],u3=1;this.WebPDecodeRGBA=function(d,g,b,N,j){var D=Cd,O=new gA,K=new ks;O.ba=K,K.S=D,K.width=[K.width],K.height=[K.height];var G=K.width,X=K.height,oe=new Ui;if(oe==null||d==null)var ge=2;else e(oe!=null),ge=wA(d,g,b,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(ge!=0?G=0:(G!=null&&(G[0]=oe.width[0]),X!=null&&(X[0]=oe.height[0]),G=1),G){K.width=K.width[0],K.height=K.height[0],N!=null&&(N[0]=K.width),j!=null&&(j[0]=K.height);e:{if(N=new lA,(j=new tc).data=d,j.w=g,j.ha=b,j.kd=1,g=[0],e(j!=null),((d=wA(j.data,j.w,j.ha,null,null,null,g,null,j))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(e(O!=null),N.data=j.data,N.w=j.w+j.offset,N.ha=j.ha-j.offset,N.put=li,N.ac=Wr,N.bc=ci,N.ma=O,j.xa){if((d=As())==null){O=1;break e}if(function(me,he){var Ce=[0],ve=[0],Ae=[0];t:for(;;){if(me==null)return 0;if(he==null)return me.a=2,0;if(me.l=he,me.a=0,q(me.m,he.data,he.w,he.ha),!Je(me.m,Ce,ve,Ae)){me.a=3;break t}if(me.xb=l1,he.width=Ce[0],he.height=ve[0],!hi(Ce[0],ve[0],1,me,null))break t;return 1}return e(me.a!=0),0}(d,N)){if(N=(g=vA(N.width,N.height,O.Oa,O.ba))==0){t:{N=d;r:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((b=N.l)!=null),e((j=b.ma)!=null),N.xb!=0){if(N.ca=j.ba,N.tb=j.tb,e(N.ca!=null),!oc(j.Oa,b,Nd)){N.a=2;break r}if(!fo(N,b.width)||b.da)break r;if((b.da||_t(N.ca.S))&&pe(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&pe()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!$e(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!Ls(N,N.V,N.Ba,N.c,N.i,b.o,nA))break r;j.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(g=d.a)}else g=d.a}else{if((d=new D0)==null){O=1;break e}if(d.Fa=j.na,d.P=j.P,d.qc=j.Sa,td(d,N)){if((g=vA(N.width,N.height,O.Oa,O.ba))==0){if(d.Aa=0,b=O.Oa,e((j=d)!=null),b!=null){if(0<(G=0>(G=b.Md)?0:100<G?255:255*G/100)){for(X=oe=0;4>X;++X)12>(ge=j.pb[X]).lc&&(ge.ia=G*c3[0>ge.lc?0:ge.lc]>>3),oe|=ge.ia;oe&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=b.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}O0(d,N)||(g=d.a)}}else g=d.a}g==0&&O.Oa!=null&&O.Oa.fd&&(g=Ac(O.ba))}O=g}D=O!=0?null:11>D?K.f.RGBA.eb:K.f.kb.y}else D=null;return D};var g1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(U,H){for(var $="",L=0;L<4;L++)$+=String.fromCharCode(U[H++]);return $}function u(U,H){return(U[H+0]<<0|U[H+1]<<8|U[H+2]<<16)>>>0}function h(U,H){return(U[H+0]<<0|U[H+1]<<8|U[H+2]<<16|U[H+3]<<24)>>>0}new l;var p=[0],f=[0],m=[],w=new l,B=t,x=function(U,H){var $={},L=0,T=!1,W=0,J=0;if($.frames=[],!function(I,V,Y,ee){for(var re=0;re<ee;re++)if(I[V+re]!=Y.charCodeAt(re))return!0;return!1}(U,H,"RIFF",4)){var le,ie;for(h(U,H+=4),H+=8;H<U.length;){var Z=c(U,H),q=h(U,H+=4);H+=4;var z=q+(1&q);switch(Z){case"VP8 ":case"VP8L":$.frames[L]===void 0&&($.frames[L]={}),(_=$.frames[L]).src_off=T?J:H-8,_.src_size=W+q+8,L++,T&&(T=!1,W=0,J=0);break;case"VP8X":(_=$.header={}).feature_flags=U[H];var se=H+4;_.canvas_width=1+u(U,se),se+=3,_.canvas_height=1+u(U,se),se+=3;break;case"ALPH":T=!0,W=z+8,J=H-8;break;case"ANIM":(_=$.header).bgcolor=h(U,H),se=H+4,_.loop_count=(le=U)[(ie=se)+0]<<0|le[ie+1]<<8,se+=2;break;case"ANMF":var ue,_;(_=$.frames[L]={}).offset_x=2*u(U,H),H+=3,_.offset_y=2*u(U,H),H+=3,_.width=1+u(U,H),H+=3,_.height=1+u(U,H),H+=3,_.duration=u(U,H),H+=3,ue=U[H++],_.dispose=1&ue,_.blend=ue>>1&1}Z!="ANMF"&&(H+=z)}return $}}(B,0);x.response=B,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,C=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],f=[y.canvas_width];for(var k=0;k<C.length&&C[k].blend!=0;k++);}var R=C[0],P=w.WebPDecodeRGBA(B,R.src_off,R.src_size,f,p);R.rgba=P,R.imgwidth=f[0],R.imgheight=p[0];for(var M=0;M<f[0]*p[0]*4;M++)m[M]=P[M];return this.width=f,this.height=p,this.data=m,this}(function(t){var e=function(){return typeof Cw=="function"},r=function(p,f,m,w){var B=4,x=a;switch(w){case t.image_compression.FAST:B=1,x=i;break;case t.image_compression.MEDIUM:B=6,x=A;break;case t.image_compression.SLOW:B=9,x=l}p=n(p,f,m,x);var y=Cw(p,{level:B});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(p,f,m,w){for(var B,x,y,C=p.length/f,k=new Uint8Array(p.length+C),R=u(),P=0;P<C;P+=1){if(y=P*f,B=p.subarray(y,y+f),w)k.set(w(B,m,x),y+P);else{for(var M,U=R.length,H=[];M<U;M+=1)H[M]=R[M](B,m,x);var $=h(H.concat());k.set(H[$],y+P)}x=B}return k},s=function(p){var f=Array.apply([],p);return f.unshift(0),f},i=function(p,f){var m,w=[],B=p.length;w[0]=1;for(var x=0;x<B;x+=1)m=p[x-f]||0,w[x+1]=p[x]-m+256&255;return w},a=function(p,f,m){var w,B=[],x=p.length;B[0]=2;for(var y=0;y<x;y+=1)w=m&&m[y]||0,B[y+1]=p[y]-w+256&255;return B},A=function(p,f,m){var w,B,x=[],y=p.length;x[0]=3;for(var C=0;C<y;C+=1)w=p[C-f]||0,B=m&&m[C]||0,x[C+1]=p[C]+256-(w+B>>>1)&255;return x},l=function(p,f,m){var w,B,x,y,C=[],k=p.length;C[0]=4;for(var R=0;R<k;R+=1)w=p[R-f]||0,B=m&&m[R]||0,x=m&&m[R-f]||0,y=c(w,B,x),C[R+1]=p[R]-y+256&255;return C},c=function(p,f,m){if(p===f&&f===m)return p;var w=Math.abs(f-m),B=Math.abs(p-m),x=Math.abs(p+f-m-m);return w<=B&&w<=x?p:B<=x?f:m},u=function(){return[s,i,a,A,l]},h=function(p){var f=p.map(function(m){return m.reduce(function(w,B){return w+Math.abs(B)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(p,f,m,w){var B,x,y,C,k,R,P,M,U,H,$,L,T,W,J,le=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(y=new K7(p)).imgData,x=y.bits,B=y.colorSpace,k=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){U=(M=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,$=new Uint8Array(U*y.colors),H=new Uint8Array(U);var Z,q=y.pixelBitlength-y.bits;for(W=0,J=0;W<U;W++){for(T=M[W],Z=0;Z<q;)$[J++]=T>>>Z&255,Z+=y.bits;H[W]=T>>>Z&255}}if(y.bits===16){U=(M=new Uint32Array(y.decodePixels().buffer)).length,$=new Uint8Array(U*(32/y.pixelBitlength)*y.colors),H=new Uint8Array(U*(32/y.pixelBitlength)),L=y.colors>1,W=0,J=0;for(var z=0;W<U;)T=M[W++],$[J++]=T>>>0&255,L&&($[J++]=T>>>16&255,T=M[W++],$[J++]=T>>>0&255),H[z++]=T>>>16&255;x=8}w!==t.image_compression.NONE&&e()?(p=r($,y.width*y.colors,y.colors,w),P=r(H,y.width,1,w)):(p=$,P=H,le=void 0)}if(y.colorType===3&&(B=this.color_spaces.INDEXED,R=y.palette,y.transparency.indexed)){var se=y.transparency.indexed,ue=0;for(W=0,U=se.length;W<U;++W)ue+=se[W];if((ue/=255)===U-1&&se.indexOf(0)!==-1)C=[se.indexOf(0)];else if(ue!==U){for(M=y.decodePixels(),H=new Uint8Array(M.length),W=0,U=M.length;W<U;W++)H[W]=se[M[W]];P=r(H,y.width,1)}}var _=function(I){var V;switch(I){case t.image_compression.FAST:V=11;break;case t.image_compression.MEDIUM:V=13;break;case t.image_compression.SLOW:V=14;break;default:V=12}return V}(w);return le===this.decode.FLATE_DECODE&&(ie="/Predictor "+_+" "),ie+="/Colors "+k+" /BitsPerComponent "+x+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:m,data:p,index:f,filter:le,decodeParameters:ie,transparency:C,palette:R,sMask:P,predictor:_,width:y.width,height:y.height,bitsPerComponent:x,colorSpace:B}}}})(Ze.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new V7(e),a=i.width,A=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:A},u=new jg(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)},t.processGIF87A=t.processGIF89A}(Ze.API),Hs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Mt.log("bit decode error:"+r)}},Hs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,A=0;A<8&&8*s+A<this.width;A++){var l=this.palette[i>>7-A&1];this.data[a+4*A]=l.blue,this.data[a+4*A+1]=l.green,this.data[a+4*A+2]=l.red,this.data[a+4*A+3]=255}r!==0&&(this.pos+=4-r)}},Hs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,A=i>>4,l=15&i,c=this.palette[A];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Hs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Hs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,A=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=A,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},Hs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=A,this.data[u+3]=255}this.pos+=t}},Hs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Hs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=a}},Hs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new Hs(e,!1),a=i.width,A=i.height,l={data:i.getData(),width:a,height:A},c=new jg(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Ze.API),Ub.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new Ub(e),a=i.width,A=i.height,l={data:i.getData(),width:a,height:A},c=new jg(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Ze.API),Ze.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),A=0,l=0,c=0;c<s;c+=4){var u=n[c],h=n[c+1],p=n[c+2],f=n[c+3];i[A++]=u,i[A++]=h,i[A++]=p,a[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:m,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ze.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zA=Ze.API,Rh=zA.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),A=e.widths?e.widths:s.metadata.Unicode.widths,l=A.fof?A.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,f=t.length,m=0,w=A[0]||l,B=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?B.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(p=h&&Lt(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/u:0,B.push((A[n]||w)/l+p)),m=n;return B},Eb=zA.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return zA.processArabic&&(t=zA.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:Rh.apply(this,arguments).reduce(function(i,a){return i+a},0)},_b=function(t,e,r,n){for(var s=[],i=0,a=t.length,A=0;i!==a&&A+e[i]<r;)A+=e[i],i++;s.push(t.slice(0,i));var l=i;for(A=0;i!==a;)A+e[i]>n&&(s.push(t.slice(l,i)),A=0,l=i),A+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},Fb=function(t,e,r){r||(r={});var n,s,i,a,A,l,c,u=[],h=[u],p=r.textIndent||0,f=0,m=0,w=t.split(" "),B=Rh.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),y=[];w.map(function(k){(k=k.split(/\s*\n/)).length>1?y=y.concat(k.map(function(R,P){return(P&&R.length?`
`:"")+R})):y.push(k[0])}),w=y,l=Eb.apply(this,[x,r])}for(i=0,a=w.length;i<a;i++){var C=0;if(n=w[i],l&&n[0]==`
`&&(n=n.substr(1),C=1),p+f+(m=(s=Rh.apply(this,[n,r])).reduce(function(k,R){return k+R},0))>e||C){if(m>e){for(A=_b.apply(this,[n,s,e-(p+f),e]),u.push(A.shift()),u=[A.pop()];A.length;)h.push([A.shift()]);m=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(k,R){return k+R},0)}else u=[n];h.push(u),p=m+l,f=B}else u.push(n),p+=f+m,f=B}return c=l?function(k,R){return(R?x:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(c)},zA.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var A,l,c=[];for(A=0,l=n.length;A<l;A++)c=c.concat(Fb.apply(this,[n[A],a,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(h){return"0x"+parseInt(h,10).toString(16)},a=t.__fontmetrics__.compress=function(h){var p,f,m,w,B=["{"];for(var x in h){if(p=h[x],isNaN(parseInt(x,10))?f="'"+x+"'":(x=parseInt(x,10),f=(f=i(x).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof p=="number")p<0?(m=i(p).slice(3),w="-"):(m=i(p).slice(2),w=""),m=w+m.slice(0,-1)+n[m.slice(-1)];else{if(Lt(p)!=="object")throw new Error("Don't know what to do with value type "+Lt(p)+".");m=a(p)}B.push(f+m)}return B.push("}"),B.join("")},A=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,m,w,B={},x=1,y=B,C=[],k="",R="",P=h.length-1,M=1;M<P;M+=1)(w=h[M])=="'"?p?(m=p.join(""),p=void 0):p=[]:p?p.push(w):w=="{"?(C.push([y,m]),y={},m=void 0):w=="}"?((f=C.pop())[0][f[1]]=y,m=void 0,y=f[0]):w=="-"?x=-1:m===void 0?r.hasOwnProperty(w)?(k+=r[w],m=parseInt(k,16)*x,x=1,k=""):k+=w:r.hasOwnProperty(w)?(R+=r[w],y[m]=parseInt(R,16)*x,x=1,m=void 0,R=""):R+=w;return B},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,f=u.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var m=c.Unicode[p.postScriptName];m&&(p.metadata.Unicode.encoding=m,p.encoding=m.codePages[0])}])}(Ze.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,A){A=/^\x00\x01\x00\x00/.test(A)?e(A):e(lu(A)),a.metadata=t.API.TTFFont.open(A),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(Ze),function(t){function e(){return(et.canvg?Promise.resolve(et.canvg):vw(()=>import("./index.es-49Xzxhc3.js"),[],import.meta.url)).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ze.API.addSvgAsImage=function(r,n,s,i,a,A,l,c){if(isNaN(n)||isNaN(s))throw Mt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Mt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=a;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(m){return m.fromString(h,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(p)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),n,s,i,a,l,c)})}}(),Ze.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},Ze.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(a),l=[],c=0,u=0,h=0;function p(m,w){var B,x=!1;for(B=0;B<m.length;B+=1)m[B]===w&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=A.length;for(h=0;h<f;h+=1)r[A[h]].value=r[A[h]].defaultValue,r[A[h]].explicitSet=!1}if(Lt(t)==="object"){for(s in t)if(i=t[s],p(A,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,w=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?w.push("/"+m+" /"+r[m].value):w.push("/"+m+" "+r[m].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+A.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+A+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Ze.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,a){for(var A,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=i.length;h<p;++h){if(A=a.metadata.characterToGlyph(i.charCodeAt(h)),a.metadata.glyIdsUsed.push(A),a.metadata.toUnicode[A]=i.charCodeAt(h),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(a.metadata.widthOfGlyph(A),10)])),A=="0")return u.join("");A=A.toString(16),u.push(c[4-A.length],A)}return u.join("")},n=function(i){var a,A,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(A=Object.keys(i).sort(function(f,m){return f-m})).length;h<p;h++)a=A[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var A=a.font,l=a.out,c=a.newObject,u=a.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="Identity-H"){for(var h=A.metadata.Unicode.widths,p=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),f="",m=0;m<p.length;m++)f+=String.fromCharCode(p[m]);var w=c();u({data:f,addLength1:!0,objectId:w}),l("endobj");var B=c();u({data:n(A.metadata.toUnicode),addLength1:!0,objectId:B}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+el(A.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+el(A.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+B+" 0 R"),l("/BaseFont /"+el(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var A=a.font,l=a.out,c=a.newObject,u=a.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var h=A.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var w=c();u({data:n(A.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var B=c();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+el(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=c();for(var x=0;x<A.metadata.hmtx.widths.length;x++)A.metadata.hmtx.widths[x]=parseInt(A.metadata.hmtx.widths[x]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+el(A.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,A=i.text||"",l=i.x,c=i.y,u=i.options||{},h=i.mutex||{},p=h.pdfEscape,f=h.activeFontKey,m=h.fonts,w=f,B="",x=0,y="",C=m[w].encoding;if(m[w].encoding!=="Identity-H")return{text:A,x:l,y:c,options:u,mutex:h};for(y=A,w=f,Array.isArray(A)&&(y=A[0]),x=0;x<y.length;x+=1)m[w].metadata.hasOwnProperty("cmap")&&(a=m[w].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),a||y[x].charCodeAt(0)<256&&m[w].metadata.hasOwnProperty("Unicode")?B+=y[x]:B+="";var k="";return parseInt(w.slice(1))<14||C==="WinAnsiEncoding"?k=p(B,w).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(k=r(B,m[w])),h.isHex=!0,{text:k,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var a=i.text||"",A=[],l={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?A.push([s(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):A.push(s(Object.assign({},l,{text:a[c]})).text);i.text=A}else i.text=s(Object.assign({},l,{text:a})).text}])}(Ze),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ze.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,a,A,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,C=0;this.__bidiEngine__={};var k=function(L){var T=L.charCodeAt(),W=T>>8,J=w[W];return J!==void 0?h[256*J+(255&T)]:W===252||W===253?"AL":x.test(W)?"L":W===8?"R":"N"},R=function(L){for(var T,W=0;W<L.length;W++){if((T=k(L.charAt(W)))==="L")return!1;if(T==="R")return!0}return!1},P=function(L,T,W,J){var le,ie,Z,q,z=T[J];switch(z){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(z="AN");break;case"AL":y=!0,z="R";break;case"WS":z="N";break;case"CS":J<1||J+1>=T.length||(le=W[J-1])!=="EN"&&le!=="AN"||(ie=T[J+1])!=="EN"&&ie!=="AN"?z="N":y&&(ie="AN"),z=ie===le?ie:"N";break;case"ES":z=(le=J>0?W[J-1]:"B")==="EN"&&J+1<T.length&&T[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&W[J-1]==="EN"){z="EN";break}if(y){z="N";break}for(Z=J+1,q=T.length;Z<q&&T[Z]==="ET";)Z++;z=Z<q&&T[Z]==="EN"?"EN":"N";break;case"NSM":if(a&&!A){for(q=T.length,Z=J+1;Z<q&&T[Z]==="NSM";)Z++;if(Z<q){var se=L[J],ue=se>=1425&&se<=2303||se===64286;if(le=T[Z],ue&&(le==="R"||le==="AL")){z="R";break}}}z=J<1||(le=T[J-1])==="B"?"N":W[J-1];break;case"B":y=!1,s=!0,z=C;break;case"S":i=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":z="N"}return z},M=function(L,T,W){var J=L.split("");return W&&U(J,W,{hiLevel:C}),J.reverse(),T&&T.reverse(),J.join("")},U=function(L,T,W){var J,le,ie,Z,q,z=-1,se=L.length,ue=0,_=[],I=C?f:p,V=[];for(y=!1,s=!1,i=!1,le=0;le<se;le++)V[le]=k(L[le]);for(ie=0;ie<se;ie++){if(q=ue,_[ie]=P(L,V,_,ie),J=240&(ue=I[q][m[_[ie]]]),ue&=15,T[ie]=Z=I[ue][5],J>0)if(J===16){for(le=z;le<ie;le++)T[le]=1;z=-1}else z=-1;if(I[ue][6])z===-1&&(z=ie);else if(z>-1){for(le=z;le<ie;le++)T[le]=Z;z=-1}V[ie]==="B"&&(T[ie]=0),W.hiLevel|=Z}i&&function(Y,ee,re){for(var fe=0;fe<re;fe++)if(Y[fe]==="S"){ee[fe]=C;for(var de=fe-1;de>=0&&Y[de]==="WS";de--)ee[de]=C}}(V,T,se)},H=function(L,T,W,J,le){if(!(le.hiLevel<L)){if(L===1&&C===1&&!s)return T.reverse(),void(W&&W.reverse());for(var ie,Z,q,z,se=T.length,ue=0;ue<se;){if(J[ue]>=L){for(q=ue+1;q<se&&J[q]>=L;)q++;for(z=ue,Z=q-1;z<Z;z++,Z--)ie=T[z],T[z]=T[Z],T[Z]=ie,W&&(ie=W[z],W[z]=W[Z],W[Z]=ie);ue=q}ue++}}},$=function(L,T,W){var J=L.split(""),le={hiLevel:C};return W||(W=[]),U(J,W,le),function(ie,Z,q){if(q.hiLevel!==0&&u)for(var z,se=0;se<ie.length;se++)Z[se]===1&&(z=B.indexOf(ie[se]))>=0&&(ie[se]=B[z+1])}(J,W,le),H(2,J,T,W,le),H(1,J,T,W,le),J.join("")};return this.__bidiEngine__.doBidiReorder=function(L,T,W){if(function(le,ie){if(ie)for(var Z=0;Z<le.length;Z++)ie[Z]=Z;A===void 0&&(A=R(le)),c===void 0&&(c=R(le))}(L,T),a||!l||c)if(a&&l&&A^c)C=A?1:0,L=M(L,T,W);else if(!a&&l&&c)C=A?1:0,L=$(L,T,W),L=M(L,T);else if(!a||A||l||c){if(a&&!l&&A^c)L=M(L,T),A?(C=0,L=$(L,T,W)):(C=1,L=$(L,T,W),L=M(L,T));else if(a&&A&&!l&&c)C=1,L=$(L,T,W),L=M(L,T);else if(!a&&!l&&A^c){var J=u;A?(C=1,L=$(L,T,W),C=0,u=!1,L=$(L,T,W),u=J):(C=0,L=$(L,T,W),L=M(L,T),C=1,u=!1,L=$(L,T,W),u=J,L=M(L,T))}}else C=0,L=$(L,T,W);else C=A?1:0,L=$(L,T,W);return L},this.__bidiEngine__.setOptions=function(L){L&&(a=L.isInputVisual,l=L.isOutputVisual,A=L.isInputRtl,c=L.isOutputRtl,u=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var A=0;for(a=[],A=0;A<s.length;A+=1)Object.prototype.toString.call(s[A])==="[object Array]"?a.push([r.doBidiReorder(s[A][0]),s[A][1],s[A][2]]):a.push([r.doBidiReorder(s[A])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Ze),Ze.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new so(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new iD(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new G7(this.contents),this.head=new q7(this),this.name=new X7(this),this.cmap=new FN(this),this.toUnicode={},this.hhea=new $7(this),this.maxp=new Z7(this),this.hmtx=new eD(this),this.post=new J7(this),this.os2=new W7(this),this.loca=new sD(this),this.glyf=new tD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,A,l,c;for(c=[],a=0,A=(l=this.bbox).length;a<A;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,a,A;for(a=0,i=0,A=(e=""+e).length;0<=A?i<A:i>A;i=0<=A?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ai,so=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,a,A,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),A=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^A)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*A+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),G7=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,a,A,l,c,u,h,p,f,m,w;for(w in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),a=Math.floor(h/l),u=16*f-h,(s=new so).writeInt(this.scalarType),s.writeShort(f),s.writeShort(h),s.writeShort(a),s.writeShort(u),i=16*f,c=s.pos+i,A=null,m=[],r)for(p=r[w],s.writeString(w),s.writeInt(t(p)),s.writeInt(c),s.writeInt(p.length),m=m.concat(p),w==="head"&&(A=c),c+=p.length;c%4;)m.push(0),c++;return s.write(m),n=2981146554-t(s.data),s.pos=A+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,a;for(r=kN.call(r);r.length%4;)r.push(0);for(i=new so(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),z7={}.hasOwnProperty,ki=function(t,e){for(var r in e)z7.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ai=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var q7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ki(e,ai),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new so).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),Ib=function(){function t(e,r){var n,s,i,a,A,l,c,u,h,p,f,m,w,B,x,y,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,i=function(){var k,R;for(R=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)R.push(e.readUInt16());return R}(),e.pos+=2,w=function(){var k,R;for(R=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)R.push(e.readUInt16());return R}(),c=function(){var k,R;for(R=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)R.push(e.readUInt16());return R}(),u=function(){var k,R;for(R=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)R.push(e.readUInt16());return R}(),s=(this.length-e.pos+this.offset)/2,A=function(){var k,R;for(R=[],l=k=0;0<=s?k<s:k>s;l=0<=s?++k:--k)R.push(e.readUInt16());return R}(),l=x=0,C=i.length;x<C;l=++x)for(B=i[l],n=y=m=w[l];m<=B?y<=B:y>=B;n=m<=B?++y:--y)u[l]===0?a=n+c[l]:(a=A[u[l]/2+(n-m)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=h}return t.encode=function(e,r){var n,s,i,a,A,l,c,u,h,p,f,m,w,B,x,y,C,k,R,P,M,U,H,$,L,T,W,J,le,ie,Z,q,z,se,ue,_,I,V,Y,ee,re,fe,de,Be,Ee,je;switch(J=new so,a=Object.keys(e).sort(function(ke,$e){return ke-$e}),r){case"macroman":for(w=0,B=function(){var ke=[];for(m=0;m<256;++m)ke.push(0);return ke}(),y={0:0},i={},le=0,z=a.length;le<z;le++)y[de=e[s=a[le]]]==null&&(y[de]=++w),i[s]={old:e[s],new:y[e[s]]},B[s]=y[e[s]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(B),{charMap:i,subtable:J.data,maxGlyphID:w+1};case"unicode":for(T=[],h=[],C=0,y={},n={},x=c=null,ie=0,se=a.length;ie<se;ie++)y[R=e[s=a[ie]]]==null&&(y[R]=++C),n[s]={old:R,new:y[R]},A=y[R]-s,x!=null&&A===c||(x&&h.push(x),T.push(s),c=A),x=s;for(x&&h.push(x),h.push(65535),T.push(65535),$=2*(H=T.length),U=2*Math.pow(Math.log(H)/Math.LN2,2),p=Math.log(U/2)/Math.LN2,M=2*H-U,l=[],P=[],f=[],m=Z=0,ue=T.length;Z<ue;m=++Z){if(L=T[m],u=h[m],L===65535){l.push(0),P.push(0);break}if(L-(W=n[L].new)>=32768)for(l.push(0),P.push(2*(f.length+H-m)),s=q=L;L<=u?q<=u:q>=u;s=L<=u?++q:--q)f.push(n[s].new);else l.push(W-L),P.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*H+2*f.length),J.writeUInt16(0),J.writeUInt16($),J.writeUInt16(U),J.writeUInt16(p),J.writeUInt16(M),re=0,_=h.length;re<_;re++)s=h[re],J.writeUInt16(s);for(J.writeUInt16(0),fe=0,I=T.length;fe<I;fe++)s=T[fe],J.writeUInt16(s);for(Be=0,V=l.length;Be<V;Be++)A=l[Be],J.writeUInt16(A);for(Ee=0,Y=P.length;Ee<Y;Ee++)k=P[Ee],J.writeUInt16(k);for(je=0,ee=f.length;je<ee;je++)w=f[je],J.writeUInt16(w);return{charMap:n,subtable:J.data,maxGlyphID:C+1}}},t}(),FN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ki(e,ai),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new Ib(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=Ib.encode(r,n),(i=new so).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),$7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ki(e,ai),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),W7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ki(e,ai),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),J7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ki(e,ai),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var A,l,c;for(c=[],a=A=0,l=this.file.maxp.numGlyphs;0<=l?A<l:A>l;a=0<=l?++A:--A)c.push(r.readUInt32());return c}).call(this)}},e}(),Y7=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},X7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ki(e,ai),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,a,A,l,c,u,h,p,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},a=h=0,p=s.length;h<p;a=++h)i=s[a],r.pos=i.offset,u=r.readString(i.length),A=new Y7(u,i),c[f=i.nameID]==null&&(c[f]=[]),c[i.nameID].push(A);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Z7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ki(e,ai),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),eD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ki(e,ai),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,a,A,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(r.readInt16());return h}(),this.widths=(function(){var u,h,p,f;for(f=[],u=0,h=(p=this.metrics).length;u<h;u++)a=p[u],f.push(a.advance);return f}).call(this),s=this.widths[this.widths.length-1],c=[],n=A=0;0<=i?A<i:A>i;n=0<=i?++A:--A)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),kN=[].slice,tD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ki(e,ai),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,a,A,l,c,u,h,p;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,A=(l=new so(n.read(i))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[r]=A===-1?new nD(l,u,p,c,h):new rD(l,A,u,p,c,h),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,a,A,l,c;for(A=[],a=[],l=0,c=n.length;l<c;l++)i=r[n[l]],a.push(A.length),i&&(A=A.concat(i.encode(s)));return a.push(A.length),{table:A,offsets:a}},e}(),rD=function(){function t(e,r,n,s,i,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),nD=function(){function t(e,r,n,s,i){var a,A;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;A=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&A;)a.pos+=1&A?4:2,128&A?a.pos+=8:64&A?a.pos+=4:8&A&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new so(kN.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),sD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ki(e,ai),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,A=0;A<s.length;++A)if(s[A]=i,a<n.length&&n[a]==A){++a,s[A]=i;var l=this.offsets[A],c=this.offsets[A+1]-l;c>0&&(i+=c)}for(var u=new Array(4*s.length),h=0;h<s.length;++h)u[4*h+3]=255&s[h],u[4*h+2]=(65280&s[h])>>8,u[4*h+1]=(16711680&s[h])>>16,u[4*h]=(4278190080&s[h])>>24;return u},e}(),iD=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,a,A,l;for(s={},a=0,A=e.length;a<A;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,a,A,l,c,u,h,p,f,m,w,B,x;for(s in n=FN.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},x=n.charMap)f[(l=x[s]).old]=l.new;for(m in p=n.maxGlyphID,a)m in f||(f[m]=p++);return u=function(y){var C,k;for(C in k={},y)k[y[C]]=C;return k}(f),h=Object.keys(u).sort(function(y,C){return y-C}),w=function(){var y,C,k;for(k=[],y=0,C=h.length;y<C;y++)A=h[y],k.push(u[A]);return k}(),i=this.font.glyf.encode(a,w,f),c=this.font.loca.encode(i.offsets,w),B={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},t}();Ze.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var A,l,c;for(c=[],A=0,l=r.length;A<l;A++)n=r[A],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+r},e}();const aD=({context:t,type:e})=>{const[r,n]=F.useState(!1),[s,i]=F.useState([]),[a,A]=F.useState(""),[l,c]=F.useState(!1),[u,h]=F.useState(null),p=F.useRef(null),{awardKarma:f}=Xt();F.useEffect(()=>{if(r&&!u){i([{id:"init",sender:"sage",text:`Namaste. I have contemplated your ${e} reading. What seeks clarification, seeker?`}]);try{const w=s4(t,e);h(w)}catch(w){console.error("Chat init failed",w)}}},[r,t,e,u]),F.useEffect(()=>{var w;(w=p.current)==null||w.scrollIntoView({behavior:"smooth"})},[s]);const m=async()=>{if(!a.trim()||!u)return;const w={id:Date.now().toString(),sender:"user",text:a};i(B=>[...B,w]),A(""),c(!0);try{const B=await u.sendMessage({message:a}),x={id:(Date.now()+1).toString(),sender:"sage",text:B.text||"The stars are silent momentarily."};i(y=>[...y,x]),f(5)}catch{i(x=>[...x,{id:"err",sender:"sage",text:"The connection to the ether is weak. Please try again."}])}finally{c(!1)}};return o.jsxs(o.Fragment,{children:[!r&&o.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-gradient-to-br from-indigo-900 to-purple-900 rounded-full border-2 border-amber-400 shadow-[0_0_20px_rgba(139,92,246,0.6)] flex items-center justify-center animate-pulse hover:scale-110 transition-transform",title:"Ask the Sage",children:o.jsx("span",{className:"text-2xl",children:""})}),r&&o.jsxs("div",{className:"fixed bottom-0 right-0 md:bottom-6 md:right-6 w-full md:w-96 h-[80vh] md:h-[600px] z-[60] flex flex-col bg-gray-900/95 backdrop-blur-xl border border-amber-500/30 rounded-t-xl md:rounded-2xl shadow-2xl animate-fade-in-up",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-amber-500/20 bg-gradient-to-r from-indigo-900 to-black rounded-t-xl",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-900/50 border border-amber-400/50 flex items-center justify-center",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-cinzel font-bold text-amber-200",children:"Sage Vashishtha"}),o.jsx("p",{className:"text-[10px] text-purple-300 font-mono tracking-wider",children:"VEDIC GUIDE  ONLINE"})]})]}),o.jsx("button",{onClick:()=>n(!1),className:"w-8 h-8 rounded-full hover:bg-white/10 flex items-center justify-center text-gray-400",children:""})]}),o.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[s.map(w=>o.jsx("div",{className:`flex ${w.sender==="user"?"justify-end":"justify-start"}`,children:o.jsx("div",{className:`max-w-[85%] p-3 rounded-lg text-sm leading-relaxed ${w.sender==="user"?"bg-amber-900/60 text-amber-100 border border-amber-700/50 rounded-br-none":"bg-indigo-900/60 text-indigo-100 border border-indigo-500/30 rounded-bl-none"}`,children:w.text})},w.id)),l&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"bg-indigo-900/40 px-4 py-2 rounded-full border border-indigo-500/20 flex gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce"}),o.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce delay-100"}),o.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce delay-200"})]})}),o.jsx("div",{ref:p})]}),o.jsxs("div",{className:"p-4 border-t border-amber-500/20 bg-black/40",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{value:a,onChange:w=>A(w.target.value),onKeyPress:w=>w.key==="Enter"&&m(),placeholder:"Ask a question...",className:"w-full bg-gray-800 border border-gray-600 rounded-full pl-4 pr-12 py-3 text-sm text-white focus:border-amber-500 focus:outline-none focus:ring-1 focus:ring-amber-500/50 transition-all",disabled:l}),o.jsx("button",{onClick:m,disabled:!a.trim()||l,className:"absolute right-1 top-1 w-10 h-10 bg-amber-600 hover:bg-amber-500 text-white rounded-full flex items-center justify-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})]}),o.jsx("p",{className:"text-[9px] text-center text-gray-500 mt-2",children:"AI guidance may vary. Trust your intuition."})]})]})]})},oD="https://lh3.googleusercontent.com/d/1Mt-LsfsxuxNpGY0hholo8qkBv58S6VNO",oi=({reading:t,title:e,subtitle:r,imageUrl:n,chartData:s})=>{const{t:i,language:a}=$t(),{db:A}=qt(),{user:l}=Xt(),c=F.useRef(null),u=F.useRef(null),[h,p]=F.useState(!1),[f,m]=F.useState(1),[w,B]=F.useState(t),[x,y]=F.useState(!1),[C,k]=F.useState({});F.useEffect(()=>{const H=()=>{if(u.current){const $=window.innerWidth-32,L=800;$<L?m($/L):m(1)}};return window.addEventListener("resize",H),H(),()=>window.removeEventListener("resize",H)},[]),F.useEffect(()=>{t&&(B(t),k({}))},[t]),F.useEffect(()=>{const H=L=>({en:"English",hi:"Hindi",ta:"Tamil",te:"Telugu",bn:"Bengali",mr:"Marathi",es:"Spanish",fr:"French",ar:"Arabic",pt:"Portuguese",de:"German",ja:"Japanese",ru:"Russian",zh:"Chinese"})[L]||"English";(async()=>{if(t){if(a==="en"){B(t);return}if(C[a]){B(C[a]);return}y(!0);try{const L=await u6(t,H(a));k(T=>({...T,[a]:L})),B(L)}catch(L){console.error("Translation Error",L)}finally{y(!1)}}})()},[a,t]);const R=F.useMemo(()=>{var $;const H=($=A.image_assets)==null?void 0:$.find(L=>{var T;return L.id==="sacred_emblem"||((T=L.tags)==null?void 0:T.includes("brand_logo"))});return H?$r.resolveImage(H.path):oD},[A.image_assets]),P=F.useMemo(()=>{var L;const H=((L=A.report_formats)==null?void 0:L.filter(T=>T.status==="active"))||[];if(H.length===0)return null;const $=H[Math.floor(Math.random()*H.length)];return $r.resolveImage($.url)},[A.report_formats]),M=H=>!H||H.trim()===""?o.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-gray-400 italic",children:[o.jsx("span",{className:"text-4xl mb-4 opacity-20",children:""}),o.jsx("p",{children:"The Oracle is still channeling your report. Please wait..."})]}):H.replace(/\\n/g,`
`).replace(/\n/g,`
`).split(`
`).filter(T=>T.trim()!=="").map((T,W)=>{let J=T.trim();const le=J.startsWith("#")||J.startsWith("**")&&J.endsWith("**")&&J.length<60,ie=/^[-*]/.test(J)||/^\d+\.\s/.test(J),Z=J.replace(/^[#*]+\s*/,"").replace(/\s*[#*]+$/,"").replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,""),z=Z.split(/(\*\*.*?\*\*)/g).map((se,ue)=>se.startsWith("**")&&se.endsWith("**")?o.jsx("strong",{className:"text-[#8b4513] font-bold",children:se.slice(2,-2)},ue):o.jsx("span",{children:se},ue));return le?o.jsx("h4",{className:"text-lg font-cinzel font-bold text-[#5c2a0d] mt-8 mb-4 border-b border-[#8b4513]/20 pb-1 uppercase tracking-wider",children:Z},W):ie?o.jsxs("div",{className:"flex items-start mb-3 ml-2",children:[o.jsx("span",{className:"text-[#d2691e] mr-3 mt-1.5 text-[10px]",children:""}),o.jsx("p",{className:"text-[#2a1a1a] leading-relaxed text-sm md:text-base",children:z})]},W):o.jsx("p",{className:"mb-4 text-justify leading-relaxed text-[#2a1a1a] text-sm md:text-base font-medium",children:z},W)}),U=async()=>{const H=c.current;if(!H)return;p(!0);const $=H.style.transform;H.style.transform="none";try{const T=(await lN(H,{scale:3,useCORS:!0,logging:!1,backgroundColor:"#fffcf0"})).toDataURL("image/jpeg",.95),W=new Ze({orientation:"portrait",unit:"mm",format:"a4"}),J=W.internal.pageSize.getWidth(),le=W.internal.pageSize.getHeight();W.addImage(T,"JPEG",0,0,J,le,void 0,"FAST"),W.save(`${e.replace(/\s+/g,"_")}_Report.pdf`)}catch{alert("Divine scribe was interrupted. Please try again.")}finally{H.style.transform=$,p(!1)}};return o.jsxs("div",{className:"animate-fade-in-up w-full flex flex-col items-center py-6",ref:u,children:[o.jsx(aD,{context:w,type:e}),o.jsx("div",{className:"relative transition-all duration-300 shadow-[0_40px_80px_rgba(0,0,0,0.6)] origin-top border-[16px] border-double border-[#d4af37] rounded-sm bg-[#fffcf0] sacred-boundary",style:{width:"210mm",height:"297mm",transform:`scale(${f})`,marginBottom:`calc(297mm * (${f} - 1) + 4rem)`},children:o.jsxs("div",{ref:c,className:"absolute inset-0 bg-[#fffcf0] text-black overflow-hidden flex flex-col p-14 report-canvas",children:[o.jsx("div",{className:"absolute top-8 left-8 text-7xl text-[#d4af37]/20 font-cinzel select-none leading-none",children:""}),o.jsx("div",{className:"absolute top-8 right-8 text-7xl text-[#d4af37]/20 font-cinzel select-none leading-none",children:""}),P&&o.jsx(Ya,{src:P,alt:"",className:"absolute inset-0 w-full h-full object-cover opacity-[0.03] z-0 grayscale",showSkeleton:!1}),o.jsxs("div",{className:"relative z-20 w-full flex flex-col items-center flex-shrink-0 mb-12 pb-8 border-b border-[#d4af37]/30",children:[o.jsxs("div",{className:"w-48 h-48 md:w-64 md:h-64 relative mb-10 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-[#0d0d0d] rounded-full border-[5px] border-[#d4af37] shadow-[0_0_60px_rgba(212,175,55,0.4)] flex items-center justify-center overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("img",{src:R,alt:"Sacred Seal",className:"max-w-[85%] max-h-[85%] object-contain block m-auto",referrerPolicy:"no-referrer"})})}),o.jsx("div",{className:"absolute inset-[-18px] border-2 border-[#d4af37]/15 rounded-full animate-[spin_25s_linear_infinite]"}),o.jsx("div",{className:"absolute inset-[-30px] border border-[#d4af37]/10 rounded-full animate-[spin_35s_linear_infinite_reverse]"})]}),o.jsx("h2",{className:"text-4xl md:text-6xl font-cinzel font-black gold-gradient-text tracking-[0.1em] uppercase mb-2 text-center drop-shadow-sm leading-tight max-w-[90%]",children:e}),r&&o.jsx("p",{className:"text-[#8b4513] text-[11px] font-black uppercase tracking-[0.7em] mt-5 opacity-70 italic border-t border-[#d4af37]/25 pt-5 text-center",children:r})]}),o.jsxs("div",{className:"relative z-10 flex-grow overflow-y-auto custom-scrollbar px-10",children:[x?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-[#d4af37] border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-[#8b4513] font-cinzel font-bold mt-8 animate-pulse uppercase tracking-[0.3em] text-xs",children:"Transcending Worldly Tongues..."})]}):o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsx("div",{className:"font-lora text-[#2a1a1a] text-lg leading-relaxed space-y-4",children:M(w)}),s&&o.jsxs("div",{className:"mt-10 pt-10 border-t border-[#d4af37]/20 grid grid-cols-1 md:grid-cols-2 gap-10",children:[s.vedicMetrics&&o.jsxs("div",{className:"bg-[#8b4513]/5 p-7 rounded-2xl border border-[#d4af37]/20 shadow-inner",children:[o.jsx("h4",{className:"text-[11px] font-cinzel font-bold text-[#5c2a0d] mb-5 uppercase tracking-[0.4em]",children:"Celestial Vibrations"}),o.jsx("div",{className:"space-y-5",children:s.vedicMetrics.map((H,$)=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-black text-[#8b4513] mb-1.5",children:[o.jsx("span",{children:H.label}),o.jsxs("span",{className:"font-mono",children:[H.value,"%"]})]}),o.jsx("div",{className:"w-full h-2 bg-[#8b4513]/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-[#8b4513] to-[#d4af37]",style:{width:`${H.value}%`}})})]},$))})]}),s.luckyNumbers&&o.jsxs("div",{className:"bg-[#d4af37]/10 p-7 rounded-2xl border border-[#d4af37]/30 text-center shadow-inner flex flex-col justify-center",children:[o.jsx("h4",{className:"text-[11px] font-cinzel font-bold text-[#4a0404] mb-5 uppercase tracking-[0.4em]",children:"Propitious Frequencies"}),o.jsx("div",{className:"flex flex-wrap justify-center gap-6 mt-2",children:s.luckyNumbers.map((H,$)=>o.jsx("div",{className:"w-16 h-16 rounded-full border-[3px] border-[#d4af37] bg-white flex items-center justify-center shadow-2xl transform hover:scale-110 transition-all cursor-default",children:o.jsx("span",{className:"font-cinzel font-black text-3xl text-[#4a0404]",children:H})},$))})]})]})]}),o.jsxs("div",{className:"mt-24 pt-10 text-center opacity-40 border-t border-[#d4af37]/30",children:[o.jsx("div",{className:"text-2xl text-[#d4af37] mb-5 font-cinzel tracking-[1em]",children:"  "}),o.jsx("span",{className:"text-[#8b4513] text-[10px] font-cinzel font-black tracking-[0.5em] uppercase block mb-1",children:"Authenticated by Glyph Circle Enclave"}),o.jsxs("span",{className:"text-[#8b4513]/50 text-[7px] font-mono",children:["ETHEREAL_CERT: ",Math.random().toString(36).substring(2,18).toUpperCase()]})]})]})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center w-full max-w-xl mb-16 no-print px-4",children:[o.jsx(ft,{onClick:U,disabled:h||x,className:"flex-1 h-16 text-sm bg-[#4a0404] hover:bg-[#5a0505] text-white flex items-center justify-center gap-4 shadow-2xl border-none font-cinzel tracking-[0.2em] rounded-2xl transform hover:scale-105 transition-all",children:h?o.jsx("span",{className:"animate-pulse",children:"SCRIBING..."}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-2xl",children:""})," Download Scroll"]})}),o.jsxs(ft,{onClick:()=>window.location.href=`mailto:?subject=${encodeURIComponent(e)}&body=${encodeURIComponent("Your sacred report is ready.")}`,className:"flex-1 h-16 text-sm bg-white hover:bg-gray-50 text-[#4a0404] flex items-center justify-center gap-4 shadow-xl border-2 border-[#4a0404]/20 font-cinzel tracking-[0.2em] rounded-2xl transform hover:scale-105 transition-all",children:[o.jsx("span",{className:"text-2xl",children:""})," Email Wisdom"]})]}),o.jsx(ht,{to:"/home",className:"mb-24 no-print",children:o.jsxs("button",{className:"text-skin-accent font-cinzel font-bold text-xs uppercase tracking-[0.5em] hover:text-white transition-all flex items-center gap-3 active:scale-95",children:[o.jsx("span",{className:"text-xl",children:""})," Return to Sanctuary"]})})]})},UN=({message:t,onRetry:e})=>o.jsxs("div",{className:"p-6 rounded-lg bg-red-900/10 border border-red-500/30 text-center animate-fade-in-up my-4",children:[o.jsx("div",{className:"mb-3 inline-block p-2 rounded-full bg-red-900/30 border border-red-500/20",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("h3",{className:"text-md font-cinzel font-bold text-amber-100 mb-1",children:"Cosmic interference detected"}),o.jsx("p",{className:"text-xs text-amber-200/60 font-lora mb-4 italic px-4",children:t}),o.jsx(ft,{onClick:e,className:"bg-red-900/80 hover:bg-red-800 border-red-500/40 text-xs py-2 px-6 shadow-[0_0_15px_rgba(220,38,38,0.2)]",children:"Retry Operation"})]}),AD=()=>{var V,Y,ee;const[t,e]=F.useState(null),[r,n]=F.useState(null),[s,i]=F.useState(""),[a,A]=F.useState(null),[l,c]=F.useState(!1),[u,h]=F.useState(0),[p,f]=F.useState(""),[m,w]=F.useState(!1),[B,x]=F.useState(!1),[y,C]=F.useState(null),k=F.useRef(null),{t:R,language:P}=$t(),{openPayment:M}=ni(),{user:U,saveReading:H}=Xt(),{db:$}=qt(),T=U&&["master@gylphcircle.com","admin@gylphcircle.com"].includes(U.email),W=(V=$.services)==null?void 0:V.find(re=>re.id==="palmistry"),J=(W==null?void 0:W.price)||49,le=((ee=(Y=$.image_assets)==null?void 0:Y.find(re=>re.id==="report_bg_palmistry"))==null?void 0:ee.path)||"https://images.unsplash.com/photo-1542553457-3f92a3449339?q=80&w=800";F.useEffect(()=>()=>{y&&y.getTracks().forEach(re=>re.stop())},[y]),F.useEffect(()=>{B&&k.current&&y&&(k.current.srcObject=y)},[B,y]);const ie=async()=>{f("");try{const re=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});C(re),x(!0)}catch(re){console.error(re),f("Unable to access camera. Please check permissions or upload a file.")}},Z=()=>{y&&(y.getTracks().forEach(re=>re.stop()),C(null)),x(!1)},q=()=>{if(k.current){const re=document.createElement("canvas");re.width=k.current.videoWidth,re.height=k.current.videoHeight;const fe=re.getContext("2d");fe&&(fe.drawImage(k.current,0,0),re.toBlob(de=>{if(de){const Be=new File([de],"palm_capture.jpg",{type:"image/jpeg"});e(Be),n(URL.createObjectURL(de)),Z(),i(""),A(null),f(""),w(!1)}},"image/jpeg"))}},z=re=>{var de;const fe=(de=re.target.files)==null?void 0:de[0];if(fe){e(fe),i(""),A(null),f(""),w(!1);const Be=new FileReader;Be.onloadend=()=>{n(Be.result)},Be.readAsDataURL(fe)}},se=re=>({en:"English",hi:"Hindi",ta:"Tamil",te:"Telugu",bn:"Bengali",mr:"Marathi",es:"Spanish",fr:"French",ar:"Arabic",pt:"Portuguese"})[re]||"English",ue=F.useCallback(async()=>{if(!t){f("Please upload an image of your palm first.");return}c(!0),h(0),i(""),A(null),f("");const re=setInterval(()=>{h(fe=>fe>=90?fe:fe+Math.random()*8)},600);try{const fe=await g6(t,se(P));if(clearInterval(re),h(100),fe.rawMetrics){const de=F6(fe.rawMetrics);A(de)}i(fe.textReading),H({type:"palmistry",title:"Palmistry Analysis",content:fe.textReading,image_url:r||void 0})}catch(fe){clearInterval(re),f(`${fe.message||"Failed to analyze palm"}`)}finally{c(!1)}},[t,P,H,r]),_=()=>{M(()=>{w(!0)},"Palmistry Reading",J)},I=()=>a?o.jsxs("div",{className:"space-y-6 mt-6 animate-fade-in-up",children:[o.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-gray-900 to-black p-4 rounded-lg border border-amber-500/30 shadow-lg",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400 text-[10px] uppercase tracking-widest block mb-1",children:"Dominant Hand Type"}),o.jsx("span",{className:"text-amber-300 font-cinzel font-bold text-xl",children:a.handType})]}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-900/30 flex items-center justify-center border border-amber-500/20",children:""})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-black/30 p-4 rounded border border-amber-500/10 h-full",children:[o.jsxs("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-2 flex items-center gap-2",children:[o.jsx("span",{children:""})," Vitality & Health"]}),o.jsx("p",{className:"text-sm text-gray-300 leading-relaxed italic",children:a.vedicInterpretation.vitality})]}),o.jsxs("div",{className:"bg-black/30 p-4 rounded border border-amber-500/10 h-full",children:[o.jsxs("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-2 flex items-center gap-2",children:[o.jsx("span",{children:""})," Destiny & Career"]}),o.jsx("p",{className:"text-sm text-gray-300 leading-relaxed italic",children:a.vedicInterpretation.career})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-black/30 p-4 rounded border border-amber-500/10",children:[o.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-4 border-b border-amber-500/10 pb-2",children:"Line Vitality (Energy)"}),a.charts.lineQuality.map(re=>o.jsxs("div",{className:"mb-3 last:mb-0",children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{className:"text-amber-100",children:re.name}),o.jsxs("span",{className:`font-bold ${re.grade==="Excellent"?"text-green-400":re.grade==="Weak"?"text-red-400":"text-yellow-400"}`,children:[re.score,"/100"]})]}),o.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-amber-900 via-amber-600 to-amber-400",style:{width:`${re.score}%`}})})]},re.name))]}),o.jsxs("div",{className:"bg-black/30 p-4 rounded border border-amber-500/10",children:[o.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-4 border-b border-amber-500/10 pb-2",children:"Planetary Mounts"}),o.jsx("div",{className:"flex items-end justify-between h-32 gap-2 pb-2",children:a.charts.mountActivation.map(re=>o.jsxs("div",{className:"flex flex-col items-center justify-end h-full w-full group relative",children:[o.jsx("div",{className:"w-full bg-indigo-900/50 hover:bg-indigo-600/60 transition-all rounded-t relative group-hover:scale-105 origin-bottom",style:{height:`${re.score}%`},children:o.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-xs px-2 py-1 rounded border border-gray-700 opacity-0 group-hover:opacity-100 whitespace-nowrap z-10 pointer-events-none",children:[re.meaning,": ",re.score]})}),o.jsx("span",{className:"text-[9px] text-gray-400 mt-1 uppercase rotate-0 sm:rotate-0 tracking-tighter",children:re.name.substring(0,3)})]},re.name))})]})]})]}):null;return o.jsx("div",{className:"flex flex-col gap-12 items-center",children:o.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 md:p-6",children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-6 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),R("backToHome")]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-amber-300 mb-2",children:R("aiPalmReading")}),o.jsx("p",{className:"text-amber-100/70",children:R("uploadPalmPrompt")})]}),o.jsxs("div",{className:"flex flex-col gap-8 items-center w-full",children:[o.jsxs("div",{className:"w-full max-w-md",children:[B?o.jsxs("div",{className:"w-full relative bg-black rounded-lg overflow-hidden border-2 border-amber-500 shadow-xl",children:[o.jsx("video",{ref:k,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover"}),o.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-4 z-10",children:[o.jsx("button",{onClick:Z,className:"bg-red-600/80 hover:bg-red-600 text-white p-2 rounded-full backdrop-blur-sm",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("button",{onClick:q,className:"bg-white/90 hover:bg-white text-black p-4 rounded-full shadow-lg backdrop-blur-sm border-4 border-amber-500/50 transform active:scale-95 transition-transform",children:o.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full"})})]})]}):o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"palm-upload",className:"w-full",children:o.jsx("div",{className:"w-full h-64 border-2 border-dashed border-amber-400 rounded-lg flex flex-col justify-center items-center cursor-pointer hover:bg-amber-900/20 transition-colors relative overflow-hidden bg-gray-900/50",children:r?o.jsx("img",{src:r,alt:"Palm preview",className:"object-contain h-full w-full rounded-lg"}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-amber-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),o.jsx("span",{className:"text-amber-200",children:R("uploadInstruction")})]})})}),o.jsx("input",{id:"palm-upload",type:"file",accept:"image/*",className:"hidden",onChange:z}),o.jsx("div",{className:"mt-4",children:o.jsxs(ft,{onClick:ie,className:"w-full bg-gray-800 hover:bg-gray-700 border-gray-600 text-sm py-2 flex items-center justify-center gap-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Take Photo"]})})]}),t&&!B&&o.jsx(ft,{onClick:ue,disabled:l,className:"mt-6 w-full",children:R(l?"analyzing":"getYourReading")})]}),o.jsxs("div",{className:"w-full max-w-5xl",children:[l&&o.jsx(oa,{progress:u,message:"Scanning Lines & Mounts...",estimatedTime:"Approx. 10 seconds"}),p&&!l&&o.jsx(UN,{message:p,onRetry:ue}),a&&!l&&o.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[I(),m?o.jsx(oi,{reading:s,title:R("aiPalmReading"),imageUrl:$r.resolveImage(le)}):o.jsxs(nt,{className:"p-6 border-l-4 border-amber-500 bg-gray-900/80",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-amber-500/20",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("h4",{className:"text-amber-300 font-cinzel font-bold text-sm",children:"Vedic Insight Summary"})]}),o.jsx("div",{className:"space-y-2 mb-6 font-lora text-amber-100/90 text-sm italic",children:s.split(`
`).slice(0,4).map((re,fe)=>o.jsx("p",{children:re},fe))}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(ft,{onClick:_,className:"w-full bg-gradient-to-r from-amber-600 to-maroon-700 border-amber-400 shadow-[0_0_20px_rgba(251,191,36,0.4)]",children:R("readMore")}),T&&o.jsx("button",{onClick:()=>w(!0),className:"text-xs text-amber-500 hover:text-amber-300 underline font-mono text-center",children:" Admin Access: Skip Payment"})]})]})]})]})]})]})})},lD=()=>{const[t,e]=F.useState(!1),r=_s(),n=async()=>{alert("Google Login is currently disabled. Please create an account to continue."),r("/register")};return o.jsx("div",{className:"w-full flex flex-col items-center gap-4",children:o.jsxs("button",{type:"button",onClick:n,disabled:t,className:"w-full max-w-[300px] flex items-center justify-center gap-3 bg-gray-200 hover:bg-gray-300 text-gray-600 font-roboto font-medium py-2.5 px-4 rounded-full shadow-md transition-transform active:scale-95 border border-gray-300 cursor-pointer",children:[o.jsxs("svg",{className:"w-5 h-5 grayscale opacity-50",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{children:"Continue with Google (Disabled)"})]})})},cD="https://lh3.googleusercontent.com/d/1Mt-LsfsxuxNpGY0hholo8qkBv58S6VNO",jb=({onLoginSuccess:t})=>{var J,le;const[e,r]=F.useState(!1),[n,s]=F.useState(""),[i,a]=F.useState(""),[A,l]=F.useState(!1),[c,u]=F.useState(""),[h,p]=F.useState(null),[f,m]=F.useState(null),[w,B]=F.useState(!1),{login:x,sendMagicLink:y,loginWithBiometrics:C,error:k}=Xt(),{db:R}=qt(),P=_s(),M=ri(),{t:U}=$t(),H=F.useMemo(()=>{var Z;const ie=(Z=R.image_assets)==null?void 0:Z.find(q=>{var z;return q.id==="sacred_emblem"||((z=q.tags)==null?void 0:z.includes("brand_logo"))});return ie?$r.resolveImage(ie.path):cD},[R.image_assets]),$=((le=(J=R.config)==null?void 0:J.find(ie=>ie.key==="admin_access_code"))==null?void 0:le.value)||"admin@admin";F.useEffect(()=>{if(M.hash){const q=new URLSearchParams(M.hash.substring(1)).get("error_description");q&&(q.includes("otp_expired")?p("This verification link has expired or was already used. Please request a new one."):p(q.replace(/\+/g," ")))}localStorage.getItem("glyph_bio_registered")==="true"&&Of.isAvailable().then(Z=>l(Z))},[M]);const L=ie=>{const Z=ie.target.value;s(Z),Z===$&&P("/master-login")},T=async ie=>{ie.preventDefault(),B(!0),m(null),p(null);try{e?(await y(n),m("A mystical link has been sent to your email. Click it to enter the circle instantly."),navigator.vibrate&&navigator.vibrate(50)):(await x(n,i),localStorage.setItem("glyph_last_email",n),t&&t(n),P("/home"))}catch(Z){console.error("Auth Failed",Z)}finally{B(!1)}},W=async()=>{u("");try{await C()?P("/home"):u("Biometric verification failed or expired.")}catch(ie){u(ie.message||"Face/Touch ID not recognized.")}};return o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] px-4",children:o.jsx("div",{className:"w-full max-w-md bg-skin-surface border border-skin-border rounded-2xl shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden backdrop-blur-xl animate-fade-in-up",children:o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"mx-auto w-28 h-28 md:w-36 md:h-36 mb-6 rounded-full p-1 bg-gradient-to-tr from-skin-accent to-purple-600 shadow-xl animate-float-gentle flex items-center justify-center overflow-hidden bg-black border-2 border-skin-accent/30 relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("img",{src:H,alt:"Glyph Circle Logo",className:"w-[85%] h-[85%] object-contain block m-auto transition-transform hover:scale-110 duration-700",referrerPolicy:"no-referrer"})}),o.jsx("div",{className:"absolute inset-[-5px] border border-white/5 rounded-full animate-[spin_12s_linear_infinite]"})]}),o.jsx("h1",{className:"text-3xl font-cinzel font-bold text-skin-accent tracking-widest mb-1 uppercase drop-shadow-md",children:"GlyphCircle"}),o.jsx("p",{className:"text-skin-text/60 font-lora italic text-sm",children:"Enter the Circle of Wisdom"})]}),o.jsxs("form",{onSubmit:T,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-skin-accent font-cinzel font-bold text-[10px] mb-1.5 uppercase tracking-[0.2em]",children:"Email Address"}),o.jsx("input",{autoFocus:!0,type:"email",value:n,onChange:L,className:"w-full p-3.5 bg-black/40 border border-skin-border/50 rounded-xl text-skin-text focus:outline-none focus:border-skin-accent transition-all placeholder-skin-text/20",placeholder:"seeker@glyph.circle",required:!0})]}),!e&&o.jsxs("div",{className:"animate-fade-in-up",children:[o.jsx("label",{className:"block text-skin-accent font-cinzel font-bold text-[10px] mb-1.5 uppercase tracking-[0.2em]",children:"Passphrase"}),o.jsx("input",{type:"password",value:i,onChange:ie=>a(ie.target.value),className:"w-full p-3.5 bg-black/40 border border-skin-border/50 rounded-xl text-skin-text focus:outline-none focus:border-skin-accent transition-all placeholder-skin-text/20",placeholder:"",required:!0})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx("button",{type:"button",onClick:()=>{r(!e),m(null)},className:"text-[10px] text-skin-accent/60 hover:text-skin-accent uppercase font-bold tracking-widest transition-colors",children:e?"Wait, I have a password":"Send me a Magic Link instead"})}),f&&o.jsx("div",{className:"bg-green-900/20 border border-green-500/50 p-3 rounded-lg text-green-400 text-xs text-center animate-fade-in-up",children:f}),(k||h)&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/50 p-3 rounded-lg text-red-400 text-xs text-center animate-shake",children:h||k}),o.jsx("button",{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-skin-accent to-amber-700 hover:brightness-110 text-skin-button-text font-bold py-4 rounded-xl shadow-lg font-cinzel tracking-widest text-sm border border-white/10 transition-all transform active:scale-95 disabled:opacity-50",children:w?"CHALICE FILLING...":e?"SEND MAGIC LINK":"ENTER THE CIRCLE"})]}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"relative flex items-center justify-center mb-8",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-skin-border/20"})}),o.jsx("div",{className:"relative bg-skin-surface px-4",children:o.jsx("span",{className:"text-skin-text/30 font-lora text-[10px] uppercase tracking-widest",children:U("orContinueWith")})})]}),o.jsx(lD,{})]}),A&&o.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[o.jsxs("button",{onClick:W,className:"flex items-center gap-3 px-5 py-2.5 bg-black/40 border border-purple-500/30 rounded-xl text-purple-200 hover:bg-purple-900/20 hover:border-purple-400 transition-all group",children:[o.jsx("span",{className:"text-lg group-hover:scale-110 transition-transform",children:""}),o.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Face / Touch ID"})]}),c&&o.jsx("p",{className:"text-red-400 text-[10px] mt-2",children:c})]}),o.jsx("div",{className:"mt-10 text-center",children:o.jsxs("p",{className:"text-skin-text/40 text-xs font-lora",children:["New Seeker? "," ",o.jsx("button",{onClick:()=>P("/register"),className:"text-skin-accent hover:underline font-bold transition-colors font-cinzel tracking-tight cursor-pointer",children:"Create Profile"})]})})]})})})},uD=()=>{const[t,e]=F.useState({name:"",email:"",password:""}),[r,n]=F.useState({}),[s,i]=F.useState(!1),[a,A]=F.useState(!1),[l,c]=F.useState(null),{register:u,error:h}=Xt();_s(),F.useEffect(()=>{PC()||A(!0)},[]);const p=()=>{const w={};return t.name.trim().length<2&&(w.name="Name must be at least 2 characters"),/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t.email)||(w.email="Please enter a valid email address"),t.password.length<6&&(w.password="Password must be 6+ characters"),n(w),Object.keys(w).length===0},f=async w=>{if(w.preventDefault(),a){alert("Database connection is not configured.");return}if(p()){i(!0);try{await u(t.name,t.email,t.password),c("An invitation has been sent to your email. Check your mystical scrolls (inbox and spam) to activate your Seeker profile.")}catch(B){const x=B.message||String(B);x.includes("Location.assign")||x.includes("script denied")||x.includes("BAD_URI")?c("Connection initiated! Please check your email to proceed."):console.error("Registration Error:",x)}finally{i(!1)}}},m=()=>{if(!t.password)return[!1,!1,!1,!1];const w=[!0];for(t.password.length>8&&w.push(!0),/[0-9]/.test(t.password)&&w.push(!0),/[A-Z]/.test(t.password)&&w.push(!0);w.length<4;)w.push(!1);return w};return o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] px-4",children:o.jsx("div",{className:"w-full max-w-md bg-skin-surface border border-skin-border rounded-2xl shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden backdrop-blur-xl animate-fade-in-up",children:o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h2",{className:"text-3xl font-cinzel font-bold text-skin-accent mb-2 uppercase tracking-widest drop-shadow-md",children:"JOIN THE CIRCLE"}),o.jsx("p",{className:"text-skin-text/60 font-lora italic text-sm",children:"Begin your mystical journey."})]}),l?o.jsxs("div",{className:"bg-skin-accent/10 border border-skin-accent/30 p-8 rounded-xl text-skin-text text-center animate-fade-in-up",children:[o.jsx("div",{className:"text-5xl mb-6 animate-pulse",children:""}),o.jsx("h3",{className:"text-xl font-cinzel font-bold mb-4 text-skin-accent uppercase tracking-widest",children:"Gateway Awaiting"}),o.jsx("p",{className:"font-lora italic leading-relaxed mb-8 text-sm",children:l}),o.jsx(ht,{to:"/login",children:o.jsx("button",{className:"w-full bg-transparent border border-skin-accent/50 hover:bg-skin-accent/10 text-skin-accent font-bold py-3 rounded-xl transition-all text-xs uppercase tracking-widest",children:"Return to Login"})})]}):o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/50 p-3 rounded text-red-400 text-[10px] text-center uppercase font-bold tracking-wider",children:" Database connection not configured"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-skin-accent font-cinzel font-bold text-[10px] mb-1.5 uppercase tracking-[0.2em]",children:"Full Name"}),o.jsx("input",{autoFocus:!0,type:"text",value:t.name,onChange:w=>e({...t,name:w.target.value}),className:`w-full p-3.5 bg-black/40 border rounded-xl text-skin-text focus:outline-none focus:border-skin-accent transition-all placeholder-skin-text/20 ${r.name?"border-red-500":"border-skin-border/50"}`,placeholder:"Mystic Seeker",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-skin-accent font-cinzel font-bold text-[10px] mb-1.5 uppercase tracking-[0.2em]",children:"Email Address"}),o.jsx("input",{type:"email",value:t.email,onChange:w=>e({...t,email:w.target.value}),className:`w-full p-3.5 bg-black/40 border rounded-xl text-skin-text focus:outline-none focus:border-skin-accent transition-all placeholder-skin-text/20 ${r.email?"border-red-500":"border-skin-border/50"}`,placeholder:"user@example.com",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-skin-accent font-cinzel font-bold text-[10px] mb-1.5 uppercase tracking-[0.2em]",children:"Passphrase"}),o.jsx("input",{type:"password",value:t.password,onChange:w=>e({...t,password:w.target.value}),className:`w-full p-3.5 bg-black/40 border rounded-xl text-skin-text focus:outline-none focus:border-skin-accent transition-all placeholder-skin-text/20 ${r.password?"border-red-500":"border-skin-border/50"}`,placeholder:"",required:!0}),o.jsx("div",{className:"flex gap-1.5 mt-3 px-1",children:m().map((w,B)=>o.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors ${w?"bg-skin-accent/80 shadow-[0_0_10px_var(--color-primary-glow)]":"bg-gray-800"}`},B))})]}),(h||Object.keys(r).length>0)&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/50 p-3 rounded text-red-400 text-xs text-center",children:h||Object.values(r)[0]}),o.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-skin-accent to-amber-700 hover:brightness-110 text-skin-button-text font-bold py-4 rounded-xl shadow-lg font-cinzel tracking-widest text-sm border border-white/10 transition-all transform active:scale-95 disabled:opacity-50 uppercase",children:s?"BINDING SPIRIT...":"Create Account"})]}),o.jsx("div",{className:"mt-10 text-center",children:o.jsxs("p",{className:"text-skin-text/40 text-xs font-lora",children:["Already have an account? "," ",o.jsx(ht,{to:"/login",className:"text-skin-accent hover:underline font-bold font-cinzel tracking-tight cursor-pointer",children:"Log In"})]})})]})})})},Lb=[{code:"en",label:"English",flag:""},{code:"hi",label:"",flag:""},{code:"es",label:"Espaol",flag:""},{code:"fr",label:"Franais",flag:""},{code:"de",label:"Deutsch",flag:""},{code:"ru",label:"",flag:""},{code:"ja",label:"",flag:""},{code:"zh",label:"",flag:""},{code:"ta",label:"",flag:""},{code:"te",label:"",flag:""},{code:"bn",label:"",flag:""},{code:"mr",label:"",flag:""},{code:"ar",label:"",flag:""},{code:"pt",label:"Portugus",flag:""}],dD=()=>{const{language:t,setLanguage:e,isRTL:r}=$t(),[n,s]=F.useState(!1),i=Lb.find(a=>a.code===t);return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-2 bg-gray-800/80 hover:bg-gray-700/80 backdrop-blur-md border border-amber-500/30 rounded-full px-3 py-1.5 transition-all shadow-lg min-w-[100px] justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg leading-none",children:i==null?void 0:i.flag}),o.jsx("span",{className:"text-xs font-bold text-amber-100 uppercase hidden sm:block",children:i==null?void 0:i.code})]}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 text-amber-400 transition-transform ${n?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),o.jsx("div",{className:`
                absolute top-12 w-48 bg-gray-900 border border-amber-500/30 rounded-xl shadow-2xl overflow-hidden z-50 max-h-80 overflow-y-auto custom-scrollbar
                ${r?"left-0":"right-0"}
            `,children:o.jsx("div",{className:"p-2 grid grid-cols-1 gap-1",children:Lb.map(a=>o.jsxs("button",{onClick:()=>{e(a.code),s(!1)},className:`
                            flex items-center gap-3 w-full px-3 py-2 rounded-lg text-sm transition-colors
                            ${t===a.code?"bg-amber-900/50 text-amber-300 border border-amber-500/20":"text-gray-300 hover:bg-gray-800 hover:text-white"}
                        `,children:[o.jsx("span",{className:"text-lg",children:a.flag}),o.jsx("span",{className:`font-medium ${["hi","ta","te","bn","mr","ar","ja","zh"].includes(a.code)?"font-sans":"font-cinzel"}`,children:a.label}),t===a.code&&o.jsx("span",{className:"ml-auto text-amber-500",children:""})]},a.code))})})]})]})},_a={default:{id:"default",name:"Mystic Night",icon:"",backgrounds:["https://images.unsplash.com/photo-1531162232855-369463387517?q=80&w=1920","https://images.unsplash.com/photo-1515524738708-327f6b0037a2?q=80&w=1920","https://images.unsplash.com/photo-1605333116398-1c39a3f898e3?q=80&w=1920","https://images.unsplash.com/photo-1590387120759-4f86a5578507?q=80&w=1920"],cssClass:"bg-midnight",accentColor:"text-amber-400"},diwali:{id:"diwali",name:"Royal Maroon",icon:"",backgrounds:["https://images.unsplash.com/photo-1513558161293-cdaf765ed2fd?q=80&w=1920","https://images.unsplash.com/photo-1543429268-b737898e7e46?q=80&w=1920","https://images.unsplash.com/photo-1605629232363-2591dd8b7623?q=80&w=1920"],cssClass:"bg-maroon-950",accentColor:"text-gold-500"},holi:{id:"holi",name:"Holi Colors",icon:"",backgrounds:["https://images.unsplash.com/photo-1550684848-fac1c5b4e853?q=80&w=1920","https://images.unsplash.com/photo-1492684223066-81342ee5ff30?q=80&w=1920","https://images.unsplash.com/photo-1615966650071-855b15f29ad1?q=80&w=1920"],cssClass:"bg-slate-900",accentColor:"text-neon-magenta"},navratri:{id:"navratri",name:"Rose Quartz",icon:"",backgrounds:["https://images.unsplash.com/photo-1601306342673-0b6fd4739c38?q=80&w=1920","https://images.unsplash.com/photo-1634320722359-009d6b2c0024?q=80&w=1920","https://images.unsplash.com/photo-1567591414240-e13630603713?q=80&w=1920"],cssClass:"bg-indigo-950",accentColor:"text-amber-300"},divine:{id:"divine",name:"Divine Blue",icon:"",backgrounds:["https://images.unsplash.com/photo-1506318137071-a8bcbf90d114?q=80&w=1920","https://images.unsplash.com/photo-1532274402911-5a369e4c4bb5?q=80&w=1920"],cssClass:"bg-blue-900",accentColor:"text-yellow-400"}},IN=F.createContext(void 0),hD=()=>{const t=F.useContext(IN);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},fD=({children:t})=>{const{db:e}=qt(),[r,n]=F.useState(()=>localStorage.getItem("glyph_theme")||"default"),[s,i]=F.useState(_a[r]||_a.default);F.useEffect(()=>{const l=(e.ui_themes||[]).find(c=>c.status==="active");if(l){const c={id:l.id,name:l.name,icon:"",backgrounds:_a.default.backgrounds,cssClass:l.css_class,accentColor:l.accent_color};i(c),_a[l.id]&&n(l.id)}else i(_a[r]||_a.default)},[e.ui_themes,r]);const a=A=>{n(A),localStorage.setItem("glyph_theme",A),navigator.vibrate&&navigator.vibrate(20)};return F.useEffect(()=>{document.body.setAttribute("data-theme",r),s.accentColor.startsWith("#")&&document.documentElement.style.setProperty("--color-primary-glow",s.accentColor)},[r,s]),o.jsx(IN.Provider,{value:{currentTheme:s,setTheme:a,availableThemes:Object.values(_a)},children:t})},pD=()=>{const{currentTheme:t,setTheme:e}=hD(),[r,n]=F.useState(!1);return o.jsxs("div",{className:"relative z-50",children:[o.jsx("button",{onClick:()=>n(!r),className:"flex items-center justify-center w-10 h-10 rounded-full bg-black/40 hover:bg-black/60 backdrop-blur-md border border-amber-500/30 transition-all shadow-lg text-xl",title:"Change Festival Theme",children:t.icon}),r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),o.jsx("div",{className:"absolute top-12 right-0 w-48 bg-gray-900 border border-amber-500/30 rounded-xl shadow-2xl overflow-hidden z-50 animate-fade-in-up",children:o.jsxs("div",{className:"p-2 space-y-1",children:[o.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Select Theme"}),Object.values(_a).map(s=>o.jsxs("button",{onClick:()=>{e(s.id),n(!1)},className:`
                    w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors
                    ${t.id===s.id?"bg-amber-900/50 text-amber-300 border border-amber-500/20":"text-gray-300 hover:bg-gray-800 hover:text-white"}
                  `,children:[o.jsx("span",{className:"text-lg",children:s.icon}),o.jsx("span",{className:"font-cinzel",children:s.name}),t.id===s.id&&o.jsx("span",{className:"ml-auto text-amber-500 text-xs",children:""})]},s.id))]})})]})]})},na=({isVisible:t,onClose:e,children:r})=>t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50",onClick:e,children:o.jsxs("div",{className:"relative bg-gray-900 border border-amber-500/30 rounded-xl shadow-2xl w-full max-w-md m-4",onClick:n=>n.stopPropagation(),children:[o.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-amber-200 hover:text-white transition-colors",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r]})}):null,gD=({isVisible:t,onClose:e})=>{const{db:r}=qt(),n=_s(),[s,i]=F.useState(null),a=[{key:"store_items",label:"Inventory",icon:"",color:"text-green-400",bg:"bg-green-900/20",border:"border-green-500/30"},{key:"users",label:"Seekers",icon:"",color:"text-blue-400",bg:"bg-blue-900/20",border:"border-blue-500/30"},{key:"readings",label:"Readings",icon:"",color:"text-purple-400",bg:"bg-purple-900/20",border:"border-purple-500/30"},{key:"transactions",label:"Revenue",icon:"",color:"text-amber-400",bg:"bg-amber-900/20",border:"border-amber-500/30"},{key:"feedback",label:"Feedback",icon:"",color:"text-pink-400",bg:"bg-pink-900/20",border:"border-pink-500/30"},{key:"config",label:"System Config",icon:"",color:"text-gray-400",bg:"bg-gray-800/50",border:"border-gray-600/30"}],A=h=>{e(),n(`/admin/db/${h}`)},l=(h,p)=>{h.stopPropagation(),e(),n(`/admin/db/${p}?create=true`)},c=(h,p)=>{h.stopPropagation(),i(p),setTimeout(()=>{try{const f=r[p]||[];if(f.length===0){alert("No records to export."),i(null);return}const m=Object.keys(f[0]).join(","),w=f.map(k=>Object.values(k).map(R=>`"${R}"`).join(",")),B=[m,...w].join(`
`),x=new Blob([B],{type:"text/csv"}),y=URL.createObjectURL(x),C=document.createElement("a");C.href=y,C.download=`${p}_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C)}catch(f){console.error(f)}i(null)},800)},u=F.useMemo(()=>{const h=[];return r.users&&r.users.forEach(p=>h.push({type:"User Joined",text:p.name,time:p.created_at,icon:""})),r.transactions&&r.transactions.forEach(p=>h.push({type:"Payment",text:`Order #${p.id.toString().slice(-4)}`,time:p.created_at,icon:""})),r.readings&&r.readings.forEach(p=>h.push({type:"Reading",text:p.type,time:p.created_at,icon:""})),h.sort((p,f)=>new Date(f.time).getTime()-new Date(p.time).getTime()).slice(0,3)},[r]);return o.jsx(na,{isVisible:t,onClose:e,children:o.jsxs("div",{className:"p-6 bg-[#0F0F23] rounded-xl border border-amber-500/20 w-full max-w-2xl mx-auto flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-800 pb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/20 border border-amber-500/50 flex items-center justify-center animate-pulse",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-cinzel font-bold text-amber-100",children:"Master Tools"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"relative flex h-2 w-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),o.jsx("p",{className:"text-[10px] text-green-400 font-mono tracking-widest uppercase",children:"System Active"})]})]})]}),o.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors text-2xl",children:""})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6 overflow-y-auto custom-scrollbar pr-2 flex-grow",children:a.map(h=>{const p=r[h.key]||[],f=p.length,m=p.filter(B=>B.status==="active").length,w=f-m;return o.jsxs("div",{onClick:()=>A(h.key),className:`group relative p-4 rounded-xl border ${h.border} ${h.bg} hover:bg-opacity-40 cursor-pointer transition-all hover:scale-[1.02] active:scale-95`,children:[o.jsx("button",{onClick:B=>l(B,h.key),className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-white/10 hover:bg-white/30 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity z-20",title:"Quick Add Record",children:"+"}),o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("span",{className:"text-2xl filter drop-shadow-lg",children:h.icon}),o.jsx("div",{className:"text-right",children:o.jsx("span",{className:`text-xl font-bold font-mono ${h.color}`,children:f})})]}),o.jsx("h3",{className:"text-sm font-bold text-gray-200 mb-1",children:h.label}),o.jsxs("div",{className:"flex gap-2 text-[10px] text-gray-400 font-mono",children:[m>0&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),m]}),w>0&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),w]})]}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 h-10 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end justify-center pb-2 rounded-b-xl",children:o.jsx("button",{onClick:B=>c(B,h.key),className:"text-[10px] bg-gray-800 hover:bg-gray-700 text-white px-2 py-1 rounded shadow flex items-center gap-1",children:s===h.key?"":" CSV"})})]},h.key)})}),o.jsxs("div",{className:"bg-black/20 rounded-lg p-3 border border-gray-800 mb-4",children:[o.jsxs("h4",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider mb-2 flex justify-between items-center",children:[o.jsx("span",{children:"Recent Cosmic Activity"}),o.jsx("span",{className:"text-[9px] bg-gray-800 px-1 rounded",children:"LIVE"})]}),o.jsxs("div",{className:"space-y-2",children:[u.map((h,p)=>o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:h.icon}),o.jsxs("span",{className:"text-gray-300",children:[h.type,": ",o.jsx("strong",{className:"text-white",children:h.text})]})]}),o.jsx("span",{className:"text-gray-600 font-mono text-[10px]",children:new Date(h.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},p)),u.length===0&&o.jsx("div",{className:"text-gray-600 text-xs italic",children:"No recent activity detected."})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-800",children:[o.jsx("button",{onClick:()=>{e(),n("/admin/dashboard")},className:"bg-gray-800 hover:bg-gray-700 border border-gray-600 text-white text-xs py-2.5 rounded-lg font-bold transition-all uppercase tracking-widest",children:"Dashboard"}),o.jsx("button",{onClick:()=>{e(),n("/admin/config")},className:"bg-skin-accent hover:opacity-90 border border-skin-border text-skin-button-text text-xs py-2.5 rounded-lg font-bold transition-all uppercase tracking-widest shadow-lg",children:"Full Config"})]})]})})},mD="https://lh3.googleusercontent.com/d/1Mt-LsfsxuxNpGY0hholo8qkBv58S6VNO",wD=({onLogout:t,isMobile:e})=>{const{t:r}=$t(),{user:n}=Xt(),{db:s}=qt(),[i,a]=F.useState(!1),A=F.useMemo(()=>(n==null?void 0:n.role)==="admin"&&gC.includes(n.email||""),[n]),l=F.useMemo(()=>{var u,h;const c=((u=s.image_assets)==null?void 0:u.find(p=>{var f;return((f=p.tags)==null?void 0:f.includes("brand_logo"))&&p.status==="active"}))||((h=s.image_assets)==null?void 0:h.find(p=>p.id==="header_logo"));return c?$r.resolveImage(c.path):mD},[s.image_assets]);return o.jsx("header",{className:"bg-skin-surface/95 backdrop-blur-xl shadow-2xl sticky top-0 z-50 border-b border-skin-border/20 transition-all duration-500",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-hidden min-w-0",children:[o.jsxs(ht,{to:"/home",className:"cursor-pointer flex-shrink-0 group flex items-center gap-2 md:gap-3 min-w-0",children:[o.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full border border-skin-accent/30 overflow-hidden shadow-lg group-hover:scale-110 group-hover:border-skin-accent/60 transition-all duration-500 flex-shrink-0 bg-black flex items-center justify-center",children:o.jsx(Ya,{src:l,alt:"Logo",className:"w-full h-full object-contain",showSkeleton:!1})}),o.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-skin-accent tracking-widest font-cinzel group-hover:brightness-125 transition-all truncate drop-shadow-sm uppercase",children:r("glyphCircle")})]}),!e&&o.jsx(ht,{to:"/history",className:"hidden lg:flex items-center justify-center w-10 h-10 rounded-full bg-skin-base/30 hover:bg-skin-accent/10 text-skin-text border border-skin-border/30 hover:border-skin-accent transition-all ml-4 flex-shrink-0 group",title:"Your History",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:scale-110 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-4 justify-end flex-shrink-0 relative",children:[A&&o.jsx("button",{onClick:()=>a(!0),className:"flex items-center justify-center w-9 h-9 rounded-full bg-skin-base/50 border border-skin-border/50 text-skin-accent hover:border-skin-accent hover:bg-skin-accent/10 transition-all transform hover:scale-105 group shadow-sm",title:"Master Tools",children:o.jsx("span",{className:"text-lg group-hover:animate-spin",children:""})}),o.jsx(pD,{}),o.jsx("div",{className:"hidden sm:block",children:o.jsx(dD,{})}),o.jsx("button",{onClick:t,className:`
                bg-skin-accent hover:opacity-90 border border-white/10 text-skin-button-text font-bold rounded-full transition duration-300 ease-in-out transform hover:scale-105 whitespace-nowrap shadow-xl uppercase font-cinzel tracking-wider
                ${e?"py-1.5 px-4 text-[10px]":"py-2 px-6 text-xs"}
              `,children:r("logout")}),A&&o.jsx(gD,{isVisible:i,onClose:()=>a(!1)})]})]})})},vD=()=>o.jsx("footer",{className:"bg-black bg-opacity-20 mt-8 py-4",children:o.jsx("div",{className:"container mx-auto px-4 text-center text-amber-200 opacity-70",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," Glyph Circle. All rights reserved."]})})}),xD=()=>{var $;const[t,e]=F.useState(""),[r,n]=F.useState(""),[s,i]=F.useState(null),[a,A]=F.useState(!1),[l,c]=F.useState(0),[u,h]=F.useState(""),[p,f]=F.useState(!1),{t:m,language:w}=$t(),{openPayment:B}=ni(),{user:x}=Xt(),{db:y}=qt(),k=x&&["master@gylphcircle.com","admin@gylphcircle.com"].includes(x.email),R=($=y.services)==null?void 0:$.find(L=>L.id==="remedy"),P=(R==null?void 0:R.price)||49,M=L=>({en:"English",hi:"Hindi",fr:"French"})[L]||"English",U=F.useCallback(async()=>{if(!t.trim()){h("Please describe your concern.");return}A(!0),c(0),n(""),i(null),h(""),f(!1);const L=setInterval(()=>c(T=>T>=90?T:T+10),500);try{const T=await x6(t,M(w));clearInterval(L),c(100),n(T),i({doshaState:[{label:"Vata",sub:"Air/Space",value:Math.floor(Math.random()*50+50)},{label:"Pitta",sub:"Fire",value:Math.floor(Math.random()*40+20)},{label:"Kapha",sub:"Earth/Water",value:Math.floor(Math.random()*30+10)}]})}catch(T){clearInterval(L),h(`Failed to get guidance: ${T.message}. Please try again.`)}finally{A(!1)}},[t,w]),H=()=>B(()=>f(!0),"Personal Remedy",P);return o.jsx(o.Fragment,{children:o.jsxs("div",{children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-4 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),m("backToHome")]}),o.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-gray-800 bg-opacity-50 rounded-xl shadow-2xl border border-amber-500/20",children:[o.jsx("h2",{className:"text-3xl font-bold text-center text-amber-300 mb-6",children:m("aiGuidance")}),o.jsx("p",{className:"text-center text-amber-100 mb-8",children:m("guidancePrompt")}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[o.jsxs("div",{className:"flex flex-col items-center w-full",children:[o.jsx("textarea",{value:t,onChange:L=>e(L.target.value),placeholder:m("describeConcern"),className:"w-full h-48 p-4 bg-gray-900 border border-amber-500/30 rounded-lg text-amber-50 focus:outline-none focus:ring-2 focus:ring-amber-400 resize-none placeholder-gray-600 mb-4"}),o.jsx(ft,{onClick:U,disabled:a,className:"w-full",children:m(a?"analyzing":"getGuidance")})]}),o.jsxs("div",{className:"min-h-[16rem] bg-black bg-opacity-30 p-6 rounded-lg border border-amber-500/20 w-full",children:[o.jsx("h3",{className:"text-2xl font-semibold text-amber-300 mb-4",children:m("yourReading")}),a&&o.jsx(oa,{progress:l,message:"Channeling Guidance...",estimatedTime:"Approx. 8 seconds"}),u&&o.jsx("p",{className:"text-red-400",children:u}),r&&!a&&o.jsx("div",{className:"space-y-4 text-amber-100 w-full",children:p?o.jsx(oi,{reading:r,title:m("aiGuidance"),imageUrl:"https://images.unsplash.com/photo-1528319725582-ddc096101511?q=80&w=800",chartData:s}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative text-amber-100 leading-relaxed font-lora text-lg italic bg-black/40 p-6 rounded-lg border border-amber-500/20 shadow-inner",children:[o.jsx("span",{className:"absolute top-2 left-2 text-4xl text-amber-500/20 font-serif",children:""}),r.replace(/#/g,"").replace(/\*\*/g,"").substring(0,100),"...",o.jsx("span",{className:"absolute bottom-[-10px] right-4 text-4xl text-amber-500/20 font-serif",children:""})]}),o.jsxs("div",{className:"pt-4 border-t border-amber-500/20 flex flex-col gap-2",children:[o.jsx(ft,{onClick:H,className:"w-full bg-gradient-to-r from-amber-600 to-maroon-700 border-amber-400 shadow-[0_0_20px_rgba(251,191,36,0.4)]",children:m("readMore")}),k&&o.jsx("button",{onClick:()=>f(!0),className:"text-xs text-amber-500 hover:text-amber-300 underline font-mono",children:" Admin Skip"})]})]})}),!a&&!r&&!u&&o.jsx("p",{className:"text-amber-200 opacity-60",children:m("guidancePlaceholder")})]})]})]})]})})};function yD(t){const e=t.height*2+t.width*1.5-t.wrinkles*1.2;return Math.min(100,Math.max(0,Math.round(e*3)))}function bD(t,e,r){const n=t.size*1.8+e.width*1.5+r*1.2;return Math.min(100,Math.max(0,Math.round(n*2.5)))}function BD(t,e,r){const n=t*1.5+e*1.8+r*2;return Math.min(100,Math.max(0,Math.round(n*2.2)))}function CD(t){const e=(t.forehead.height+t.forehead.width)*5,r=(t.forehead.width*.6+t.eyes.size*.4)*10,n=t.eyes.size*6+t.skin.texture*4,s=t.nose.length*5+t.nose.width*3+t.jaw.strength*2,i=t.cheeks.prominence*10,a=t.mouth.lipFullness*5+t.eyes.size*5,A=t.jaw.strength*6+t.chin.prominence*4;return{jupiter:Math.min(100,e),mercury:Math.min(100,r),mars:Math.min(100,s),sun:Math.min(100,i),venus:Math.min(100,a),moon:Math.min(100,n),saturn:Math.min(100,A)}}function ND(t){const e=Math.max(t.upper,t.middle,t.lower);return e===t.upper?{trait:"Intellectual",desc:"Thinker / Planner"}:e===t.middle?{trait:"Social",desc:"Charismatic / Emotional"}:{trait:"Material",desc:"Determined / Practical"}}function SD(t){const e={"High/Broad":{jupiter:"Strong",mercury:"Good",career:"Teacher/Advisor"},"Low/Narrow":{jupiter:"Weak",mercury:"Sharp",career:"Business/Execution"},Rounded:{jupiter:"Moderate",mercury:"High",career:"Arts/Music"},Square:{jupiter:"High",mercury:"Moderate",career:"Engineering/Tech"}};return e[t]||e["High/Broad"]}function ED(t){const e={Straight:{mars:85,venus:80,wealth:"Balanced Income"},Hooked:{mars:95,venus:60,wealth:"High Ambition"},Bulbous:{mars:70,venus:90,wealth:"Creative Wealth"},Snub:{mars:60,venus:85,wealth:"Service Oriented"}};return e[t]||e.Straight}function _D(t,e){let r="Balanced";return e>7?r="Trustworthy & Open":e<4&&(r="Analytical & Private"),t==="Deep-set"&&(r+=", Intense"),t==="Round"&&(r+=", Emotional"),{type:`${e>7?"Large":"Small"} / ${t}`,venus:e>7?"High":"Medium",personality:r}}function FD(t,e){const r=e*10;let n="Balanced";return t.includes("Square")&&(n="Disciplined & Strong"),t.includes("Round")&&(n="Harmonious & Adaptable"),t.includes("Pointed")&&(n="Ambitious & Sharp"),{type:t,saturn:r,approach:n}}function kD(t){return t>=85?{karmic:"Excellent",health:"Strong Vitality"}:t>=70?{karmic:"Good",health:"Normal Health"}:{karmic:"Average",health:"Monitor Stress"}}const UD=t=>{const e={upper:yD(t.forehead),middle:bD(t.eyes,t.nose,t.cheeks.prominence),lower:BD(t.mouth.lipFullness,t.chin.prominence,t.jaw.strength)},r=ND(e),n=CD(t),s={youth:e.upper>70?"Intellectual Growth & Study":"Practical Struggles",midlife:e.middle>70?"Wealth & Family Success":"Career Building",elder:e.lower>70?"Authority & Comfort":"Spiritual Retreat"},i={zoneBalance:[{zone:"Intellectual (Upper)",score:e.upper,interpretation:e.upper>60?"High":"Avg"},{zone:"Social (Middle)",score:e.middle,interpretation:e.middle>60?"High":"Avg"},{zone:"Material (Lower)",score:e.lower,interpretation:e.lower>60?"High":"Avg"}],foreheadAnalysis:SD(t.forehead.shape),noseClassification:ED(t.nose.shape),eyeCharacteristics:_D(t.eyes.shape,t.eyes.size),jawAnalysis:FD(t.jaw.type,t.jaw.strength),symmetryHealth:kD(t.symmetry)};return{zones:{...e,dominance:r.trait},planetary:n,charts:i,personality:{primary:r.desc,secondary:n.venus>80?"Charming":n.mars>80?"Driven":"Steady"},lifeEmphasis:s}},ID=()=>{var I,V,Y;const[t,e]=F.useState(null),[r,n]=F.useState(null),[s,i]=F.useState(""),[a,A]=F.useState(null),[l,c]=F.useState(!1),[u,h]=F.useState(0),[p,f]=F.useState(""),[m,w]=F.useState(!1),[B,x]=F.useState(!1),[y,C]=F.useState(null),k=F.useRef(null),{t:R,language:P}=$t(),{openPayment:M}=ni(),{user:U}=Xt(),{db:H}=qt(),L=U&&["master@gylphcircle.com","admin@gylphcircle.com"].includes(U.email),T=(I=H.services)==null?void 0:I.find(ee=>ee.id==="face-reading"),W=(T==null?void 0:T.price)||49,J=((Y=(V=H.image_assets)==null?void 0:V.find(ee=>ee.id==="report_bg_face"))==null?void 0:Y.path)||"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?q=80&w=800";F.useEffect(()=>()=>{y&&y.getTracks().forEach(ee=>ee.stop())},[y]),F.useEffect(()=>{B&&k.current&&y&&(k.current.srcObject=y)},[B,y]);const le=async()=>{f("");try{const ee=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});C(ee),x(!0)}catch(ee){console.error(ee),f("Unable to access camera. Please check permissions or upload a file.")}},ie=()=>{y&&(y.getTracks().forEach(ee=>ee.stop()),C(null)),x(!1)},Z=()=>{if(k.current){const ee=document.createElement("canvas");ee.width=k.current.videoWidth,ee.height=k.current.videoHeight;const re=ee.getContext("2d");re&&(re.translate(ee.width,0),re.scale(-1,1),re.drawImage(k.current,0,0),ee.toBlob(fe=>{if(fe){const de=new File([fe],"face_capture.jpg",{type:"image/jpeg"});e(de),n(URL.createObjectURL(fe)),ie(),i(""),A(null),f(""),w(!1)}},"image/jpeg"))}},q=ee=>{var fe;const re=(fe=ee.target.files)==null?void 0:fe[0];if(re){e(re),i(""),A(null),f(""),w(!1);const de=new FileReader;de.onloadend=()=>{n(de.result)},de.readAsDataURL(re)}},z=ee=>({en:"English",hi:"Hindi",ta:"Tamil",te:"Telugu",bn:"Bengali",mr:"Marathi",es:"Spanish",fr:"French",ar:"Arabic",pt:"Portuguese"})[ee]||"English",se=F.useCallback(async()=>{if(!t){f("Please upload an image of your face first.");return}c(!0),h(0),i(""),A(null),f("");const ee=setInterval(()=>{h(re=>re>=90?re:re+Math.random()*8)},600);try{const re=await m6(t,z(P));if(clearInterval(ee),h(100),re.rawMetrics){const fe=UD(re.rawMetrics);A(fe)}i(re.textReading)}catch(re){clearInterval(ee),f(`Failed to get reading: ${re.message}. Please try again.`)}finally{c(!1)}},[t,P]),ue=()=>{M(()=>{w(!0)},"Face Reading",W)},_=()=>{if(!a)return null;const{zones:ee,planetary:re,charts:fe}=a;return o.jsxs("div",{className:"space-y-6 mt-6 animate-fade-in-up",children:[o.jsxs("div",{className:"bg-black/30 p-4 rounded border border-amber-500/10",children:[o.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-3",children:"Mukha Trikona (3 Zones)"}),o.jsxs("div",{className:"space-y-3 mb-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{className:"text-amber-100",children:"Upper (Forehead)"}),o.jsxs("span",{className:"text-amber-400 font-bold",children:[ee.upper,"%"]})]}),o.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full",children:o.jsx("div",{className:"h-full bg-blue-500",style:{width:`${ee.upper}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{className:"text-amber-100",children:"Middle (Eyes/Nose)"}),o.jsxs("span",{className:"text-amber-400 font-bold",children:[ee.middle,"%"]})]}),o.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full",children:o.jsx("div",{className:"h-full bg-green-500",style:{width:`${ee.middle}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{className:"text-amber-100",children:"Lower (Mouth/Chin)"}),o.jsxs("span",{className:"text-amber-400 font-bold",children:[ee.lower,"%"]})]}),o.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full",children:o.jsx("div",{className:"h-full bg-red-500",style:{width:`${ee.lower}%`}})})]})]}),o.jsxs("div",{className:"text-center bg-gray-800/50 p-2 rounded text-xs text-amber-200",children:["Dominant: ",o.jsx("strong",{className:"text-white",children:ee.dominance})," (",a.personality.primary,")"]})]}),o.jsxs("div",{className:"bg-black/30 p-4 rounded border border-amber-500/10",children:[o.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-3",children:"Planetary Influences"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(re).map(([de,Be])=>o.jsxs("div",{className:"bg-gray-900 p-2 rounded text-center border border-gray-700",children:[o.jsx("div",{className:"text-[10px] uppercase text-gray-400 mb-1",children:de}),o.jsx("div",{className:`font-bold text-sm ${Be>80?"text-green-400":"text-amber-100"}`,children:Be})]},de))})]})]})};return o.jsx("div",{className:"flex flex-col gap-12 items-center",children:o.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 md:p-6",children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-4 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),R("backToHome")]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-amber-300 mb-2",children:R("aiFaceReading")}),o.jsx("p",{className:"text-amber-100/70",children:R("uploadFacePrompt")})]}),o.jsxs("div",{className:"flex flex-col gap-8 items-center w-full",children:[o.jsxs("div",{className:"w-full max-w-md",children:[B?o.jsxs("div",{className:"w-full relative bg-black rounded-lg overflow-hidden border-2 border-amber-500 shadow-xl",children:[o.jsx("video",{ref:k,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover transform scale-x-[-1]"}),o.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-4 z-10",children:[o.jsx("button",{onClick:ie,className:"bg-red-600/80 hover:bg-red-600 text-white p-2 rounded-full backdrop-blur-sm",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("button",{onClick:Z,className:"bg-white/90 hover:bg-white text-black p-4 rounded-full shadow-lg backdrop-blur-sm border-4 border-amber-500/50 transform active:scale-95 transition-transform",children:o.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full"})})]})]}):o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"face-upload",className:"w-full",children:o.jsx("div",{className:"w-full h-64 border-2 border-dashed border-amber-400 rounded-lg flex flex-col justify-center items-center cursor-pointer hover:bg-amber-900/20 transition-colors bg-gray-900/50",children:r?o.jsx("img",{src:r,alt:"Face preview",className:"object-contain h-full w-full rounded-lg"}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-amber-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),o.jsx("span",{className:"text-amber-200",children:R("uploadInstruction")})]})})}),o.jsx("input",{id:"face-upload",type:"file",accept:"image/*",className:"hidden",onChange:q}),o.jsx("div",{className:"mt-4",children:o.jsxs(ft,{onClick:le,className:"w-full bg-gray-800 hover:bg-gray-700 border-gray-600 text-sm py-2 flex items-center justify-center gap-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})," Take Selfie"]})})]}),t&&!B&&o.jsx(ft,{onClick:se,disabled:l,className:"mt-6 w-full",children:R(l?"analyzing":"getYourReading")})]}),o.jsxs("div",{className:"w-full max-w-5xl",children:[l&&o.jsx(oa,{progress:u,message:"Mapping Facial Landmarks...",estimatedTime:"Approx. 10 seconds"}),p&&o.jsx("p",{className:"text-red-400 text-center",children:p}),a&&!l&&o.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[_(),m?o.jsx(oi,{reading:s,title:R("aiFaceReading"),imageUrl:$r.resolveImage(J)}):o.jsxs(nt,{className:"p-6 border-l-4 border-amber-500 bg-gray-900/80",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-amber-500/20",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("h4",{className:"text-amber-300 font-cinzel font-bold text-sm",children:"Vedic Insight Summary"})]}),o.jsx("div",{className:"space-y-2 mb-6 font-lora text-amber-100/90 text-sm italic",children:s.split(`
`).slice(0,4).map((ee,re)=>o.jsx("p",{children:ee},re))}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(ft,{onClick:ue,className:"w-full bg-gradient-to-r from-amber-600 to-maroon-700 border-amber-400 shadow-[0_0_20px_rgba(251,191,36,0.4)]",children:R("readMore")}),L&&o.jsx("button",{onClick:()=>w(!0),className:"text-xs text-amber-500 hover:text-amber-300 underline font-mono text-center",children:" Admin Access: Skip Payment"})]})]})]})]})]})]})})},jN=({onResult:t,placeholder:e,className:r=""})=>{const[n,s]=F.useState(!1),[i,a]=F.useState(!1),{t:A}=$t();F.useEffect(()=>{("webkitSpeechRecognition"in window||"SpeechRecognition"in window)&&a(!0)},[]);const l=F.useCallback(()=>{if(!i)return;navigator.vibrate&&navigator.vibrate(50);const c=window.SpeechRecognition||window.webkitSpeechRecognition,u=new c;u.continuous=!1,u.interimResults=!1,u.lang="en-US",u.onstart=()=>{s(!0)},u.onresult=h=>{const p=h.results[0][0].transcript;t(p),s(!1),navigator.vibrate&&navigator.vibrate([50,50])},u.onerror=h=>{console.error("Speech recognition error",h.error),s(!1),navigator.vibrate&&navigator.vibrate([100,50,100])},u.onend=()=>{s(!1)},u.start()},[i,t]);return i?o.jsxs("div",{className:`relative inline-block ${r}`,children:[o.jsx("button",{type:"button",onClick:l,"aria-label":n?"Listening...":"Start voice input",className:`
          p-3 rounded-full transition-all duration-300 flex items-center justify-center
          ${n?"bg-red-600 text-white animate-pulse shadow-[0_0_15px_rgba(220,38,38,0.6)] scale-110":"bg-amber-600 hover:bg-amber-500 text-white shadow-lg border border-amber-400/50"}
        `,children:n?o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 10.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})}):o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),n&&o.jsx("span",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs text-amber-300 font-bold whitespace-nowrap bg-black/80 px-2 py-1 rounded",children:"Listening..."})]}):null},jD=()=>{var R,P;const[t,e]=F.useState(""),[r,n]=F.useState(null),[s,i]=F.useState(null),[a,A]=F.useState(!1),[l,c]=F.useState(0),[u,h]=F.useState(""),[p,f]=F.useState(!1),{t:m,language:w}=$t(),{openPayment:B}=ni(),{db:x}=qt(),y=((P=(R=x.image_assets)==null?void 0:R.find(M=>M.id==="report_bg_dream"))==null?void 0:P.path)||"https://images.unsplash.com/photo-1518020382113-a7e8fc38eac9?q=80&w=800",C=async()=>{if(!t.trim()||t.length<5){h("Please describe your dream in more detail.");return}A(!0),c(0),h(""),n(null),i(null),f(!1);const M=setInterval(()=>c(U=>U>=90?U:U+5),200);try{const U=await y6(t,w);clearInterval(M),c(100),n(U),i({luckyNumbers:U.luckyNumbers,vedicMetrics:[{label:"Sattva (Purity)",sub:"Clarity",value:Math.floor(Math.random()*30+60)},{label:"Rajas (Passion)",sub:"Action",value:Math.floor(Math.random()*40+30)},{label:"Tamas (Inertia)",sub:"Subconscious",value:Math.floor(Math.random()*40+20)}],elementalBalance:[{element:"Ether",sanskrit:"Akasha",score:Math.floor(Math.random()*50+50)},{element:"Water",sanskrit:"Jala",score:Math.floor(Math.random()*50+30)},{element:"Fire",sanskrit:"Agni",score:Math.floor(Math.random()*50+20)},{element:"Air",sanskrit:"Vayu",score:Math.floor(Math.random()*50+40)}]})}catch{clearInterval(M),h("Failed to interpret dream. The mists are too thick.")}finally{A(!1)}},k=()=>B(()=>f(!0));return o.jsxs("div",{children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-4",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),m("backToHome")]}),o.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-gradient-to-br from-indigo-900/40 via-purple-900/40 to-black/60 rounded-xl shadow-2xl border border-indigo-500/30 backdrop-blur-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-4xl font-cinzel font-bold text-indigo-300 mb-2 drop-shadow-lg",children:"Dream Interpreter"}),o.jsx("p",{className:"text-indigo-100/70 font-lora italic",children:"Unlock the messages of your subconscious mind."})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("textarea",{value:t,onChange:M=>e(M.target.value),placeholder:"I was flying over a golden ocean...",className:"w-full h-64 p-4 bg-black/40 border border-indigo-500/30 rounded-lg text-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-none placeholder-indigo-400/30 font-lora text-lg leading-relaxed shadow-inner"}),o.jsx("div",{className:"absolute bottom-4 right-4",children:o.jsx(jN,{onResult:M=>e(U=>U+" "+M)})})]}),o.jsx(ft,{onClick:C,disabled:a,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-500 hover:to-purple-600 border-indigo-400/50 shadow-lg",children:a?"Consulting the Oracle...":"Interpret Dream"}),u&&o.jsx("p",{className:"text-red-400 text-center text-sm bg-red-900/20 p-2 rounded border border-red-500/20 animate-shake",children:u})]}),o.jsxs("div",{className:"min-h-[20rem] bg-black/20 rounded-lg border border-indigo-500/20 p-6 relative overflow-hidden flex flex-col",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-600/10 rounded-full blur-3xl -z-10"}),a&&o.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/60 backdrop-blur-sm z-20",children:o.jsx(oa,{progress:l,message:"Decoding Symbols..."})}),!r&&!a&&o.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-indigo-300/40 text-center",children:[o.jsx("span",{className:"text-7xl mb-4 animate-float opacity-50",children:""}),o.jsx("p",{className:"font-lora italic",children:"Describe your dream to reveal its hidden meaning and cosmic frequencies."})]}),r&&!a&&o.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-indigo-900/30 p-3 rounded-xl border border-indigo-500/30 shadow-lg",children:[o.jsx("h4",{className:"text-[10px] text-indigo-300 uppercase tracking-widest mb-3 font-bold",children:"Key Symbols"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.symbols.map((M,U)=>o.jsx("span",{className:"text-[10px] bg-black/40 px-2 py-1 rounded-full text-indigo-200 border border-indigo-500/20",children:M},U))})]}),o.jsxs("div",{className:"bg-amber-900/20 p-3 rounded-xl border border-amber-500/30 text-center shadow-lg group",children:[o.jsx("h4",{className:"text-[10px] text-amber-300 uppercase tracking-widest mb-3 font-bold",children:"Luck Frequencies"}),o.jsx("div",{className:"flex justify-center gap-2",children:r.luckyNumbers.map((M,U)=>o.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gradient-to-br from-amber-600 to-amber-900 rounded-full text-white font-cinzel font-black border border-amber-400 shadow-[0_0_10px_rgba(245,158,11,0.3)] transform group-hover:scale-110 transition-transform",children:M},U))})]})]}),o.jsx("div",{className:"relative flex-grow",children:p?o.jsx("div",{className:"max-h-[30rem] overflow-y-auto custom-scrollbar pr-2",children:o.jsx(oi,{reading:r.meaning,title:"Dream Interpretation",subtitle:"Subconscious Wisdom",imageUrl:$r.resolveImage(y),chartData:s})}):o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-indigo-500/20 text-indigo-100 font-lora italic leading-relaxed text-sm relative overflow-hidden flex-grow",children:[o.jsx("span",{className:"text-3xl text-indigo-500/30 absolute top-0 left-2",children:'"'}),r.meaning.substring(0,160),"...",o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-16 bg-gradient-to-t from-gray-900/90 to-transparent"})]}),o.jsx("div",{className:"mt-4",children:o.jsx(ft,{onClick:k,className:"w-full bg-gradient-to-r from-amber-600 to-amber-800 border-amber-500 shadow-xl py-4 font-cinzel tracking-widest",children:"Unlock Full Interpretation"})})]})})]})]})]})]})]})},LD=[{name:"Mumbai",state:"Maharashtra",country:"India",lat:19.076,lng:72.8777,tz:"Asia/Kolkata"},{name:"Delhi",state:"Delhi",country:"India",lat:28.6139,lng:77.209,tz:"Asia/Kolkata"},{name:"Bangalore",state:"Karnataka",country:"India",lat:12.9716,lng:77.5946,tz:"Asia/Kolkata"},{name:"Chennai",state:"Tamil Nadu",country:"India",lat:13.0827,lng:80.2707,tz:"Asia/Kolkata"},{name:"Kolkata",state:"West Bengal",country:"India",lat:22.5726,lng:88.3639,tz:"Asia/Kolkata"},{name:"Hyderabad",state:"Telangana",country:"India",lat:17.385,lng:78.4867,tz:"Asia/Kolkata"},{name:"Pune",state:"Maharashtra",country:"India",lat:18.5204,lng:73.8567,tz:"Asia/Kolkata"},{name:"Ahmedabad",state:"Gujarat",country:"India",lat:23.0225,lng:72.5714,tz:"Asia/Kolkata"},{name:"Jaipur",state:"Rajasthan",country:"India",lat:26.9124,lng:75.7873,tz:"Asia/Kolkata"},{name:"Lucknow",state:"Uttar Pradesh",country:"India",lat:26.8467,lng:80.9462,tz:"Asia/Kolkata"},{name:"Bhopal",state:"Madhya Pradesh",country:"India",lat:23.2599,lng:77.4126,tz:"Asia/Kolkata"},{name:"Bhubaneswar",state:"Odisha",country:"India",lat:20.2961,lng:85.8245,tz:"Asia/Kolkata"},{name:"Bhojpur",state:"Bihar",country:"India",lat:25.4667,lng:84.5167,tz:"Asia/Kolkata"},{name:"Bhilai",state:"Chhattisgarh",country:"India",lat:21.1938,lng:81.3509,tz:"Asia/Kolkata"},{name:"Indore",state:"Madhya Pradesh",country:"India",lat:22.7196,lng:75.8577,tz:"Asia/Kolkata"},{name:"Patna",state:"Bihar",country:"India",lat:25.5941,lng:85.1376,tz:"Asia/Kolkata"},{name:"Nagpur",state:"Maharashtra",country:"India",lat:21.1458,lng:79.0882,tz:"Asia/Kolkata"},{name:"Varanasi",state:"Uttar Pradesh",country:"India",lat:25.3176,lng:82.9739,tz:"Asia/Kolkata"},{name:"Kanpur",state:"Uttar Pradesh",country:"India",lat:26.4499,lng:80.3319,tz:"Asia/Kolkata"},{name:"Visakhapatnam",state:"Andhra Pradesh",country:"India",lat:17.6868,lng:83.2185,tz:"Asia/Kolkata"},{name:"Surat",state:"Gujarat",country:"India",lat:21.1702,lng:72.8311,tz:"Asia/Kolkata"},{name:"New York",state:"NY",country:"USA",lat:40.7128,lng:-74.006,tz:"America/New_York"},{name:"Los Angeles",state:"CA",country:"USA",lat:34.0522,lng:-118.2437,tz:"America/Los_Angeles"},{name:"Chicago",state:"IL",country:"USA",lat:41.8781,lng:-87.6298,tz:"America/Chicago"},{name:"Houston",state:"TX",country:"USA",lat:29.7604,lng:-95.3698,tz:"America/Chicago"},{name:"London",state:"England",country:"UK",lat:51.5074,lng:-.1278,tz:"Europe/London"},{name:"Paris",state:"Ile-de-France",country:"France",lat:48.8566,lng:2.3522,tz:"Europe/Paris"},{name:"Berlin",state:"",country:"Germany",lat:52.52,lng:13.405,tz:"Europe/Berlin"},{name:"Moscow",state:"",country:"Russia",lat:55.7558,lng:37.6173,tz:"Europe/Moscow"},{name:"Dubai",state:"Dubai",country:"UAE",lat:25.2048,lng:55.2708,tz:"Asia/Dubai"},{name:"Singapore",state:"",country:"Singapore",lat:1.3521,lng:103.8198,tz:"Asia/Singapore"},{name:"Sydney",state:"NSW",country:"Australia",lat:-33.8688,lng:151.2093,tz:"Australia/Sydney"},{name:"Melbourne",state:"Victoria",country:"Australia",lat:-37.8136,lng:144.9631,tz:"Australia/Melbourne"},{name:"Tokyo",state:"",country:"Japan",lat:35.6762,lng:139.6503,tz:"Asia/Tokyo"},{name:"Toronto",state:"Ontario",country:"Canada",lat:43.651,lng:-79.347,tz:"America/Toronto"},{name:"Vancouver",state:"BC",country:"Canada",lat:49.2827,lng:-123.1207,tz:"America/Vancouver"}],QD=t=>{const e=t.toLowerCase();return LD.filter(r=>r.name.toLowerCase().includes(e)||r.state.toLowerCase().includes(e)||r.country.toLowerCase().includes(e))},LN=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"],TD=["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha"],PD=t=>{const e=new Date(t),r=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/1e3/60/60/24),n=Math.floor(r/2.5)%12,s=Math.floor(r)%9;return{sign:LN[n],nakshatra:TD[s]}},RD=(t,e)=>{const n=new Date(t).getMonth();let s=6,i=0;return n<3||n>9?(s=7,i=15):n>4&&n<8&&(s=5,i=30),`${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},Lg=(t,e)=>{const s=(new Date(e||new Date).getMonth()+9)%12,[i]=t.split(":").map(Number),a=i-6,A=Math.floor(a/2);let l=(s+A)%12;return l<0&&(l+=12),LN[l]},DD=()=>[{name:"Mahatma Gandhi",date:"1869-10-02"},{name:"Albert Einstein",date:"1879-03-14"},{name:"Steve Jobs",date:"1955-02-24"},{name:"Elon Musk",date:"1971-06-28"}],Xv="w-full p-3 bg-gray-900 border border-amber-500/30 rounded-lg text-amber-50 focus:ring-1 focus:ring-amber-500 font-mono text-sm placeholder-gray-600",Zv="absolute z-50 w-full bg-gray-900 border border-amber-500/50 rounded-lg shadow-[0_0_20px_rgba(0,0,0,0.9)] mt-1 max-h-64 overflow-y-auto custom-scrollbar",Xo=({value:t,onChange:e})=>{const[r,n]=F.useState(t),[s,i]=F.useState(!1),a=F.useRef(null);F.useEffect(()=>{n(t)},[t]);const A=()=>{const u=r.toLowerCase(),h=[];if(u.includes("leo")&&h.push({label:"Leo Season (Recent)",value:"2023-08-15",note:"Sun in Leo"}),u.includes("1980")&&h.push({label:"Start of Decade",value:"1980-01-01",note:"Jan 1st"}),DD().filter(f=>f.name.toLowerCase().includes(u)).forEach(f=>h.push({label:f.name,value:f.date,note:"Famous Chart"})),!u||"today".includes(u)){const f=new Date().toISOString().split("T")[0];h.push({label:"Today (Live Transit)",value:f,note:"Now"})}return h},l=u=>{e(u),i(!1)},c=t?PD(t):null;return o.jsxs("div",{className:"relative group",ref:a,children:[o.jsxs("label",{className:"block text-amber-200 mb-1 font-cinzel text-xs font-bold uppercase tracking-widest",children:["Date of Birth",c&&o.jsxs("span",{className:"text-amber-500 ml-2 normal-case font-mono opacity-80",children:["[",c.sign," Moon]"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"date",className:Xv,value:r,onChange:u=>{n(u.target.value),e(u.target.value)},onFocus:()=>i(!0),onBlur:()=>setTimeout(()=>i(!1),200)}),o.jsx("div",{className:"absolute right-3 top-3 pointer-events-none text-amber-500/50",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),s&&r.length>0&&!/\d{4}-\d{2}-\d{2}/.test(r)&&o.jsxs("div",{className:Zv,children:[o.jsx("div",{className:"p-2 text-xs text-gray-500 uppercase tracking-widest bg-gray-950/50",children:"Smart Suggestions"}),A().map((u,h)=>o.jsxs("div",{className:"p-3 hover:bg-amber-900/30 cursor-pointer flex justify-between items-center transition-colors border-b border-gray-800 last:border-0",onMouseDown:()=>l(u.value),children:[o.jsx("span",{className:"text-amber-100 font-bold",children:u.label}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-amber-500",children:u.value}),o.jsx("div",{className:"text-[10px] text-gray-500",children:u.note})]})]},h)),A().length===0&&o.jsx("div",{className:"p-3 text-gray-500 text-xs italic",children:'Type "Leo", "Gandhi", or select a date...'})]})]})},Uw=({value:t,date:e,onChange:r})=>{const[n,s]=F.useState(!1),i=["06:00","08:00","10:00","12:00","14:00","16:00","18:00","20:00","22:00"],a=t?Lg(t,e):null;return o.jsxs("div",{className:"relative",children:[o.jsxs("label",{className:"block text-amber-200 mb-1 font-cinzel text-xs font-bold uppercase tracking-widest",children:["Time of Birth",a&&o.jsxs("span",{className:"text-purple-400 ml-2 normal-case font-mono opacity-90",children:["[",a," Lagna]"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"time",className:Xv,value:t,onChange:A=>r(A.target.value),onFocus:()=>s(!0),onBlur:()=>setTimeout(()=>s(!1),200)}),o.jsx("div",{className:"absolute right-10 top-3 text-[10px] text-amber-500/50 pointer-events-none",children:t&&Lg(t,e)})]}),n&&o.jsxs("div",{className:Zv,children:[o.jsxs("div",{className:"sticky top-0 bg-gray-900 border-b border-gray-800 p-2 grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"text-xs text-gray-400",children:["Sunrise: ",o.jsx("span",{className:"text-amber-400",children:RD(e)})]}),o.jsxs("div",{className:"text-xs text-gray-400 text-right",children:["Abhijit: ",o.jsx("span",{className:"text-green-400",children:"11:45-12:30"})]})]}),o.jsx("div",{className:"p-2 text-[10px] text-gray-500 uppercase tracking-widest",children:"Lagna Preview"}),i.map(A=>{const l=Lg(A,e);return o.jsxs("div",{className:"p-2 hover:bg-amber-900/30 cursor-pointer flex justify-between items-center border-b border-gray-800/50",onMouseDown:()=>{r(A),s(!1)},children:[o.jsx("span",{className:"font-mono text-amber-100",children:A}),o.jsxs("span",{className:`text-xs ${["Aries","Leo","Sagittarius"].includes(l)?"text-red-400":"text-blue-300"}`,children:[l," Ascendant"]})]},A)})]})]})},Iw=({value:t,onChange:e})=>{const[r,n]=F.useState(t),[s,i]=F.useState([]),[a,A]=F.useState(!1),[l,c]=F.useState("");F.useEffect(()=>{n(t)},[t]);const u=f=>{const m=f.target.value;n(m),e(m),m.length>1?(i(QD(m)),A(!0)):(i([]),A(!1))},h=f=>{n(`${f.name}, ${f.country}`),e(`${f.name}, ${f.country}`,{lat:f.lat,lng:f.lng}),c(`${f.lat.toFixed(2)} N, ${f.lng.toFixed(2)} E`),A(!1);const m=JSON.parse(localStorage.getItem("glyph_recent_cities")||"[]"),w=[f,...m.filter(B=>B.name!==f.name)].slice(0,5);localStorage.setItem("glyph_recent_cities",JSON.stringify(w))},p=()=>{const f=JSON.parse(localStorage.getItem("glyph_recent_cities")||"[]");i(f),A(!0)};return o.jsxs("div",{className:"relative",children:[o.jsxs("label",{className:"block text-amber-200 mb-1 font-cinzel text-xs font-bold uppercase tracking-widest",children:["Place of Birth",l&&o.jsxs("span",{className:"text-green-400 ml-2 normal-case font-mono opacity-80 text-[10px]",children:["[",l,"]"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:Xv,placeholder:"City, Country",value:r,onChange:u,onFocus:p,onBlur:()=>setTimeout(()=>A(!1),200)}),o.jsx("div",{className:"absolute right-3 top-3 text-amber-500/50 pointer-events-none",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),a&&o.jsxs("div",{className:Zv,children:[s.length===0&&r.length<2&&o.jsx("div",{className:"p-3 text-gray-500 text-xs",children:"Start typing to search global cities..."}),s.map((f,m)=>o.jsxs("div",{className:"p-3 hover:bg-amber-900/30 cursor-pointer border-b border-gray-800 transition-colors",onMouseDown:()=>h(f),children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-amber-100 font-bold",children:f.name}),o.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:f.tz})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 mt-1",children:[o.jsxs("span",{children:[f.state?`${f.state}, `:"",f.country]}),o.jsxs("span",{children:[f.lat.toFixed(2),", ",f.lng.toFixed(2)]})]})]},m))]})]})},qA=["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha","Magha","Purva Phalguni","Uttara Phalguni","Hasta","Chitra","Swati","Vishakha","Anuradha","Jyeshtha","Mula","Purva Ashadha","Uttara Ashadha","Shravana","Dhanishta","Shatabhisha","Purva Bhadrapada","Uttara Bhadrapada","Revati"],OD=()=>{const{t}=$t(),[e,r]=F.useState(""),[n,s]=F.useState(""),[i,a]=F.useState(qA[0]),[A,l]=F.useState(qA[0]),[c,u]=F.useState(""),[h,p]=F.useState(""),[f,m]=F.useState(null),[w,B]=F.useState(!1),[x,y]=F.useState(0),[C,k]=F.useState("Calculating Gunas..."),R=()=>{B(!0),y(0),m(null),k("Aligning Planetary Positions...");const U=setInterval(()=>{y(H=>H>=90?H:(H>40&&H<50&&k("Analysing Moon Signs..."),H>70&&H<80&&k("Checking Manglik Dosha..."),H+10))},300);setTimeout(()=>{clearInterval(U),y(100);const H=c?new Date(c).getTime():0,$=h?new Date(h).getTime():0,T=12+(e.length+n.length+qA.indexOf(i)*2+qA.indexOf(A)*2+H%100+$%100)%25;m(T),B(!1)},3e3)},P=U=>U>=28?{text:"Excellent Union (Uttam)",color:"text-green-400"}:U>=18?{text:"Good Compatibility (Madhyam)",color:"text-yellow-400"}:{text:"Incompatible (Adham)",color:"text-red-400"},M=e&&n&&c&&h;return o.jsxs("div",{className:"max-w-4xl mx-auto min-h-screen",children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-6 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),t("backToHome")]}),o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h2",{className:"text-4xl font-cinzel font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-red-600 mb-2",children:"Vedic Matchmaking"}),o.jsx("p",{className:"text-amber-100/60 font-lora",children:"Ashta Koota Guna Milan"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[o.jsxs(nt,{className:"p-6 border-l-4 border-blue-500",children:[o.jsx("h3",{className:"text-xl font-bold text-blue-300 mb-4 font-cinzel",children:"Partner A (Boy)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1",children:"Name"}),o.jsx("input",{type:"text",value:e,onChange:U=>r(U.target.value),className:"w-full bg-gray-900 border border-blue-500/30 rounded p-2 text-white",placeholder:"Enter Name"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"mb-1 text-xs text-gray-400 uppercase",children:"Date of Birth"}),o.jsx(Xo,{value:c,onChange:u})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1",children:"Birth Star (Nakshatra)"}),o.jsx("select",{value:i,onChange:U=>a(U.target.value),className:"w-full bg-gray-900 border border-blue-500/30 rounded p-2 text-white",children:qA.map(U=>o.jsx("option",{value:U,children:U},U))})]})]})]}),o.jsx("div",{className:"hidden md:flex absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 w-16 h-16 bg-gray-900 rounded-full border-2 border-red-500 items-center justify-center shadow-[0_0_20px_rgba(239,68,68,0.5)]",children:o.jsx("span",{className:"text-2xl animate-pulse",children:""})}),o.jsxs(nt,{className:"p-6 border-r-4 border-pink-500",children:[o.jsx("h3",{className:"text-xl font-bold text-pink-300 mb-4 font-cinzel text-right",children:"Partner B (Girl)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1 text-right",children:"Name"}),o.jsx("input",{type:"text",value:n,onChange:U=>s(U.target.value),className:"w-full bg-gray-900 border border-pink-500/30 rounded p-2 text-white text-right",placeholder:"Enter Name"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"mb-1 text-xs text-gray-400 uppercase",children:"Date of Birth"}),o.jsx(Xo,{value:h,onChange:p})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1 text-right",children:"Birth Star (Nakshatra)"}),o.jsx("select",{value:A,onChange:U=>l(U.target.value),className:"w-full bg-gray-900 border border-pink-500/30 rounded p-2 text-white text-right",dir:"rtl",children:qA.map(U=>o.jsx("option",{value:U,children:U},U))})]})]})]})]}),o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx(ft,{onClick:R,disabled:w||!M,className:"px-12 py-4 bg-gradient-to-r from-blue-600 to-pink-600 rounded-full text-lg font-bold shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Consulting Ancient Stars...":"Check Vedic Compatibility"}),!M&&o.jsx("p",{className:"text-red-400 text-xs mt-2",children:"Please fill in all Name and Date of Birth fields."})]}),w&&o.jsx(oa,{progress:x,message:C}),f!==null&&!w&&o.jsx("div",{className:"mt-10 animate-fade-in-up",children:o.jsxs(nt,{className:"bg-black/80 border-amber-500/30 p-8 text-center max-w-lg mx-auto shadow-[0_0_50px_rgba(236,72,153,0.2)]",children:[o.jsx("p",{className:"text-gray-400 text-sm uppercase tracking-widest mb-2",children:"Total Guna Milan"}),o.jsxs("div",{className:"text-6xl font-black text-white mb-2 relative inline-block",children:[f," ",o.jsx("span",{className:"text-2xl text-gray-500",children:"/ 36"}),o.jsx("div",{className:"absolute -inset-4 bg-white/5 blur-xl rounded-full -z-10"})]}),o.jsx("h3",{className:`text-2xl font-cinzel font-bold mt-4 ${P(f).color}`,children:P(f).text}),o.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 text-xs text-left bg-gray-900/50 p-4 rounded",children:[o.jsxs("div",{className:"flex justify-between border-b border-gray-700 pb-1",children:[o.jsx("span",{children:"Varna (Spiritual)"}),o.jsx("span",{className:"text-green-400",children:"1 / 1"})]}),o.jsxs("div",{className:"flex justify-between border-b border-gray-700 pb-1",children:[o.jsx("span",{children:"Yoni (Instinct)"}),o.jsx("span",{className:"text-amber-400",children:"2 / 4"})]}),o.jsxs("div",{className:"flex justify-between border-b border-gray-700 pb-1",children:[o.jsx("span",{children:"Graha Maitri (Mental)"}),o.jsx("span",{className:"text-green-400",children:"5 / 5"})]}),o.jsxs("div",{className:"flex justify-between border-b border-gray-700 pb-1",children:[o.jsx("span",{children:"Nadi (Health/Genetics)"}),o.jsxs("span",{className:f>18?"text-green-400":"text-red-400",children:[f>18?"8":"0"," / 8"]})]})]})]})})]})},Qb={dashboard:{title:"Admin Dashboard Overview",steps:[{title:"System Status",desc:"Check the health of your Cloud (Supabase) and Cache (Local) connections."},{title:"Navigation",desc:"Use the grid buttons to jump to specific configuration sections."},{title:"Security",desc:'Use the "De-Authorize" button to safely lock the admin panel.'}]},db:{title:"Database Management Guide",steps:[{title:"Enable/Disable Records",desc:'Locate the "Active/Inactive" button in the Actions column on the right. Click it to toggle the status instantly.'},{title:"Edit Content",desc:'Click the blue "Edit" button. A modal will appear where you can modify fields. Ensure links (like images) are valid.'},{title:"Add New Entry",desc:'Click the "+ New Entry" button at the top right. Fill in the required fields. Leave ID blank for auto-generation.'},{title:"Validation",desc:"The system automatically checks if your image links match an active Cloud Provider."}]},cloud:{title:"Cloud Provider Setup",steps:[{title:"Add New Provider",desc:'Click "+ NEW" in the sidebar. Select a provider type (e.g., Dropbox, Google Drive).'},{title:"Configuration",desc:'Enter a Name (e.g., "My Dropbox"). Enter any required API keys or Folder IDs. For public links, keys might be optional depending on provider.'},{title:"Activation",desc:'IMPORTANT: After saving, locate the provider in the list. Click the "OFF" button to toggle it to " LIVE".'},{title:"Multiple Clouds",desc:"You can have multiple providers active simultaneously. The system will detect which one to use based on the link URL."}]},payment:{title:"Payment Gateway Setup",steps:[{title:"Select Provider",desc:"Choose between Razorpay (India/Global), Stripe (Global), or PayPal."},{title:"Credentials",desc:"Enter your Public Key (Client ID) and Secret Key. These are provided by your payment processor dashboard."},{title:"Region Locking",desc:'Use "IN" for India-only gateways, or "GLOBAL" for worldwide. The app auto-switches based on user location.'},{title:"Testing",desc:'Use the "Initiate Test" button to verify credentials before going live.'}]}},e1=({context:t})=>{const[e,r]=F.useState(!1),n=Qb[t]||Qb.db,[s,i]=F.useState({x:window.innerWidth-80,y:window.innerHeight-100}),[a,A]=F.useState(!1),l=F.useRef({x:0,y:0}),c=F.useRef(null),u=f=>{A(!0),l.current={x:f.clientX-s.x,y:f.clientY-s.y}},h=f=>{A(!0);const m=f.touches[0];l.current={x:m.clientX-s.x,y:m.clientY-s.y}};F.useEffect(()=>{const f=(x,y)=>{if(a){let C=x-l.current.x,k=y-l.current.y;const R=window.innerWidth-60,P=window.innerHeight-60;C=Math.max(10,Math.min(C,R)),k=Math.max(10,Math.min(k,P)),i({x:C,y:k})}},m=x=>f(x.clientX,x.clientY),w=x=>f(x.touches[0].clientX,x.touches[0].clientY),B=()=>A(!1);return a&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",B),window.addEventListener("touchmove",w,{passive:!1}),window.addEventListener("touchend",B)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",B),window.removeEventListener("touchmove",w),window.removeEventListener("touchend",B)}},[a]);const p=f=>{a||r(!e)};return o.jsxs(o.Fragment,{children:[o.jsx("button",{ref:c,onMouseDown:u,onTouchStart:h,onClick:p,style:{left:`${s.x}px`,top:`${s.y}px`,touchAction:"none"},className:`fixed z-[1000] w-14 h-14 rounded-full shadow-[0_0_20px_rgba(34,211,238,0.5)] font-bold text-xl flex items-center justify-center border-2 border-white/20 transition-transform active:scale-95 cursor-move ${a?"bg-cyan-700 scale-110":"bg-gradient-to-r from-blue-600 to-cyan-600 hover:scale-105"}`,title:"Drag me! Click for Help.",children:o.jsx("span",{className:"text-white pointer-events-none text-2xl drop-shadow-md",children:"?"})}),e&&o.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in-up",children:o.jsxs("div",{className:"w-full max-w-md bg-gray-900 border border-cyan-500/30 rounded-xl shadow-2xl overflow-hidden relative",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-cyan-900/50 p-4 border-b border-white/10 flex justify-between items-center",children:[o.jsxs("h3",{className:"font-cinzel font-bold text-cyan-100 flex items-center gap-2",children:[o.jsx("span",{children:""})," Admin Guide"]}),o.jsx("button",{onClick:()=>r(!1),className:"text-cyan-200 hover:text-white text-2xl leading-none",children:""})]}),o.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[o.jsx("h4",{className:"text-sm font-bold text-white mb-4 border-b border-gray-700 pb-2",children:n.title}),o.jsx("div",{className:"space-y-4",children:n.steps.map((f,m)=>o.jsxs("div",{className:"relative pl-4 border-l-2 border-cyan-800",children:[o.jsx("div",{className:"absolute -left-[5px] top-0 w-2 h-2 rounded-full bg-cyan-500"}),o.jsx("h5",{className:"text-xs font-bold text-cyan-400 uppercase tracking-wider mb-1",children:f.title}),o.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:f.desc})]},m))}),o.jsx("div",{className:"mt-6 pt-4 border-t border-white/10 text-center",children:o.jsx("button",{onClick:()=>r(!1),className:"bg-gray-800 hover:bg-gray-700 text-cyan-400 px-6 py-2 rounded text-xs font-bold uppercase tracking-wider",children:"Close Guide"})})]})]})})]})},MD=()=>{const[t,e]=F.useState({supabase:"Checking...",sqlite:"Active",latency:0,lastSync:new Date().toLocaleTimeString(),error:""}),[r,n]=F.useState(!1),s=async()=>{const i=Date.now();try{const{error:a}=await bt.from("services").select("id").limit(1),A=Date.now()-i;if(a)throw new Error(a.message||JSON.stringify(a));e({supabase:"Operational",sqlite:"Synced",latency:A,lastSync:new Date().toLocaleTimeString(),error:""}),n(!1)}catch(a){const A=a.message||String(a);console.error("Dashboard Health Check Error:",A),e(l=>({...l,supabase:"Connection Error",error:A})),n(!0)}};return F.useEffect(()=>{s();const i=setInterval(s,3e4);return()=>clearInterval(i)},[]),o.jsx(nt,{className:`mb-6 border-l-4 ${r?"border-red-600":"border-green-500"} bg-black/40 backdrop-blur-md`,children:o.jsxs("div",{className:"p-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${r?"bg-red-500":"bg-green-500"} animate-pulse`}),!r&&o.jsx("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-green-400 animate-ping"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-mono font-bold uppercase tracking-widest text-gray-500",children:"Infrastructure Health"}),o.jsxs("div",{className:"flex gap-4 mt-1",children:[o.jsxs("div",{className:"text-sm font-bold text-white",children:["Cloud: ",o.jsx("span",{className:r?"text-red-400":"text-green-400",children:t.supabase})]}),o.jsxs("div",{className:"text-sm font-bold text-white",children:["Cache: ",o.jsx("span",{className:"text-blue-400",children:t.sqlite})]})]}),r&&o.jsx("p",{className:"text-[9px] text-red-500/80 font-mono mt-1 italic max-w-xs break-all",children:t.error})]})]}),o.jsxs("div",{className:"text-right shrink-0",children:[o.jsxs("div",{className:"text-[10px] font-mono text-gray-500 uppercase",children:["Latency: ",o.jsxs("span",{className:"text-amber-400",children:[t.latency,"ms"]})]}),o.jsxs("div",{className:"text-[10px] font-mono text-gray-500 uppercase",children:["Last Check: ",o.jsx("span",{className:"text-amber-400",children:t.lastSync})]})]})]})})},HD=()=>{const t=_s(),[e,r]=F.useState(()=>{try{const s=localStorage.getItem("glyph_admin_session");return s?JSON.parse(s):null}catch{return null}});F.useEffect(()=>{if(!e){const s=localStorage.getItem("glyph_admin_session");s?r(JSON.parse(s)):t("/master-login")}},[t,e]);const n=()=>{localStorage.removeItem("glyph_admin_session"),t("/master-login")};return e?o.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center font-sans p-4",children:[o.jsxs("div",{className:"max-w-xl w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-cinzel font-bold text-white mb-2 tracking-widest",children:"Admin Sanctum"}),o.jsxs("p",{className:"text-green-400 text-sm font-mono tracking-widest uppercase",children:["IDENTIFIED: ",e.user]})]}),o.jsx(MD,{}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:()=>t("/home"),className:"group p-6 bg-blue-900/20 hover:bg-blue-600 border border-blue-500/50 rounded-xl transition-all flex flex-col items-center justify-center gap-3 shadow-lg",children:[o.jsx("span",{className:"text-3xl group-hover:scale-110 transition-transform",children:""}),o.jsx("span",{className:"font-bold text-blue-100 uppercase tracking-widest text-xs",children:"Run App as User"})]}),o.jsxs("button",{onClick:()=>t("/admin/config"),className:"group p-6 bg-purple-900/20 hover:bg-purple-600 border border-purple-500/50 rounded-xl transition-all flex flex-col items-center justify-center gap-3 shadow-lg",children:[o.jsx("span",{className:"text-3xl group-hover:scale-110 transition-transform",children:""}),o.jsx("span",{className:"font-bold text-purple-100 uppercase tracking-widest text-xs",children:"Full Configuration"})]}),o.jsxs("button",{onClick:()=>t("/admin/cloud"),className:"group p-6 bg-orange-900/20 hover:bg-orange-600 border border-orange-500/50 rounded-xl transition-all flex flex-col items-center justify-center gap-3 shadow-lg",children:[o.jsx("span",{className:"text-3xl group-hover:scale-110 transition-transform",children:""}),o.jsx("span",{className:"font-bold text-orange-100 uppercase tracking-widest text-xs",children:"Cloud Storage"})]}),o.jsxs("button",{onClick:()=>t("/admin/payments"),className:"group p-6 bg-emerald-900/20 hover:bg-emerald-600 border border-emerald-500/50 rounded-xl transition-all flex flex-col items-center justify-center gap-3 shadow-lg",children:[o.jsx("span",{className:"text-3xl group-hover:scale-110 transition-transform",children:""}),o.jsx("span",{className:"font-bold text-emerald-100 uppercase tracking-widest text-xs",children:"Payment Routes"})]}),o.jsxs("button",{onClick:()=>t("/admin/revenue"),className:"group p-6 bg-amber-900/20 hover:bg-amber-600 border border-amber-500/50 rounded-xl transition-all flex flex-col items-center justify-center gap-3 shadow-lg col-span-1 sm:col-span-2",children:[o.jsx("span",{className:"text-3xl group-hover:scale-110 transition-transform",children:""}),o.jsx("span",{className:"font-bold text-amber-100 uppercase tracking-widest text-xs",children:"Financial Analytics"})]}),o.jsx("button",{onClick:()=>t("/admin/backup"),className:"p-3 bg-gray-800 hover:bg-gray-700 text-gray-400 rounded-lg text-[10px] font-bold uppercase tracking-widest col-span-1 sm:col-span-2 border border-gray-700",children:"Disaster Recovery & Backups"})]}),o.jsx("div",{className:"mt-8 pt-4 border-t border-gray-800 text-center",children:o.jsx("button",{onClick:n,className:"text-red-500 hover:text-red-400 text-xs font-bold uppercase tracking-widest underline underline-offset-4",children:"De-Authorize Session"})})]}),o.jsx(e1,{context:"dashboard"})]}):o.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center font-sans p-4",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-green-600 border-t-transparent rounded-full animate-spin mb-4"}),o.jsx("h2",{className:"text-green-500 font-cinzel font-bold tracking-widest text-sm animate-pulse",children:"INITIALIZING SECURE LINK..."})]})},KD=[{title:"Seeker Archives",subtitle:"User profiles, history & personal data",icon:"",gradient:"from-blue-900/20 to-indigo-900/20",border:"border-blue-500/30",text:"text-blue-200",tables:["users","readings","transactions","feedback","user_subscriptions","mood_entries","dosha_profiles","synastry_reports","remedy_requests"]},{title:"Mystic Bazaar",subtitle:"Store inventory & commerce",icon:"",gradient:"from-emerald-900/20 to-teal-900/20",border:"border-emerald-500/30",text:"text-emerald-200",tables:["store_items","store_orders","store_categories","store_discounts"]},{title:"Content Grimoire",subtitle:"Services, assets & knowledge base",icon:"",gradient:"from-purple-900/20 to-fuchsia-900/20",border:"border-purple-500/30",text:"text-purple-200",tables:["services","featured_content","image_assets","gemstones"]},{title:"System Core",subtitle:"Configuration & integrations",icon:"",gradient:"from-gray-800/40 to-gray-900/40",border:"border-gray-500/30",text:"text-gray-300",tables:["config","ui_themes","report_formats","cloud_providers","payment_providers","payment_config","payment_methods","logs"]}],Tb=`--  UI THEMES TABLE SETUP
CREATE TABLE IF NOT EXISTS public.ui_themes (
    id TEXT PRIMARY KEY,
    name TEXT,
    css_class TEXT,
    accent_color TEXT,
    font_family TEXT DEFAULT 'cinzel',
    background_url TEXT,
    status TEXT DEFAULT 'inactive',
    created_at TIMESTAMPTZ DEFAULT now()
);

ALTER TABLE public.ui_themes ENABLE ROW LEVEL SECURITY;
DROP POLICY IF EXISTS "Public Read Themes" ON public.ui_themes;
CREATE POLICY "Public Read Themes" ON public.ui_themes FOR SELECT USING (true);
DROP POLICY IF EXISTS "Admin Write Themes" ON public.ui_themes;
CREATE POLICY "Admin Write Themes" ON public.ui_themes FOR ALL USING (true) WITH CHECK (true);

INSERT INTO public.ui_themes (id, name, css_class, accent_color, font_family, status) VALUES
('theme_default', 'Mystic Night', 'bg-[#0F0F23]', 'text-amber-400', 'lora', 'active'),
('theme_solar', 'Solar Flare', 'bg-gradient-to-br from-[#2a0a00] to-[#450a0a]', 'text-orange-400', 'cinzel', 'inactive'),
('theme_forest', 'Forest Sage', 'bg-gradient-to-b from-[#051a05] to-[#0a2f15]', 'text-emerald-400', 'lora', 'inactive'),
('theme_silver', 'Celestial Silver', 'bg-[#0a0a12]', 'text-cyan-200', 'cinzel', 'inactive'),
('theme_rose', 'Rose Quartz', 'bg-gradient-to-br from-[#1f0510] to-[#2d0a18]', 'text-pink-300', 'lora', 'inactive'),
('theme_saffron', 'Vedic Saffron', 'bg-[#2b0505]', 'text-yellow-400', 'cinzel', 'inactive'),
('theme_cyber', 'Cyber Zen', 'bg-black', 'text-neon-magenta', 'mono', 'inactive')
ON CONFLICT (id) DO NOTHING;`,Pb=`--  FIX SCHEMA & REFRESH CACHE
ALTER TABLE public.users ADD COLUMN IF NOT EXISTS currency TEXT DEFAULT 'USD';
ALTER TABLE public.report_formats ENABLE ROW LEVEL SECURITY;
DROP POLICY IF EXISTS "Public Full Access" ON public.report_formats;
CREATE POLICY "Public Full Access" ON public.report_formats FOR ALL USING (true) WITH CHECK (true);
ALTER TABLE public.ui_themes ENABLE ROW LEVEL SECURITY;
DROP POLICY IF EXISTS "Themes Full Access" ON public.ui_themes;
CREATE POLICY "Themes Full Access" ON public.ui_themes FOR ALL USING (true) WITH CHECK (true);
NOTIFY pgrst, 'reload config';`,VD=()=>{const{db:t,refresh:e,activateTheme:r}=qt(),[n,s]=F.useState(!1),[i,a]=F.useState(!1),[A,l]=F.useState("themes"),c=t.ui_themes||[],u=async()=>{a(!0),await e(),setTimeout(()=>a(!1),1e3)};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0505] via-[#0F0F23] to-[#0f0518] text-amber-50 font-lora selection:bg-maroon-500 selection:text-white pb-20",children:[o.jsx("div",{className:"sticky top-0 z-40 bg-[#0F0F23]/80 backdrop-blur-lg border-b border-amber-500/20 shadow-lg",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-500 to-maroon-600 flex items-center justify-center shadow-[0_0_15px_rgba(245,158,11,0.4)]",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-cinzel font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-200 to-gold-400",children:"Sanctum Config"}),o.jsx("p",{className:"text-[10px] text-amber-200/50 uppercase tracking-widest font-mono",children:"Master Control Plane"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:u,className:"group relative px-4 py-2 rounded-lg bg-black/40 border border-amber-500/30 hover:border-amber-400 text-amber-200 text-xs font-bold uppercase tracking-wider transition-all overflow-hidden",children:[o.jsxs("span",{className:`relative z-10 flex items-center gap-2 ${i?"animate-pulse":""}`,children:[o.jsx("span",{className:i?"animate-spin":"",children:""})," Refresh"]}),o.jsx("div",{className:"absolute inset-0 bg-amber-500/10 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300"})]}),o.jsx("button",{onClick:()=>s(!0),className:"px-4 py-2 rounded-lg bg-indigo-900/40 border border-indigo-500/50 hover:bg-indigo-900/60 text-indigo-200 text-xs font-bold uppercase tracking-wider transition-all shadow-[0_0_10px_rgba(99,102,241,0.2)]",children:"Tools"}),o.jsx(ht,{to:"/home",className:"px-5 py-2 rounded-lg bg-gradient-to-r from-maroon-800 to-red-900 hover:from-maroon-700 hover:to-red-800 text-white text-xs font-bold uppercase tracking-wider border border-red-500/30 shadow-lg transition-transform hover:scale-105",children:"Exit"})]})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-12",children:[o.jsxs("section",{className:"animate-fade-in-up",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl filter drop-shadow-md",children:""}),o.jsx("h2",{className:"text-xl font-cinzel font-bold text-amber-100",children:"Visual Manifestation"})]}),o.jsx(ht,{to:"/admin/db/ui_themes",className:"text-xs text-amber-400 hover:text-amber-200 underline font-mono",children:"Edit Theme Data"})]}),o.jsx("div",{className:"bg-black/30 border border-amber-500/20 rounded-2xl p-6 backdrop-blur-sm",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[c.length===0&&o.jsxs("div",{className:"col-span-full text-center p-8 text-gray-500 bg-black/20 rounded border border-dashed border-gray-700",children:[o.jsx("p",{children:"No themes found."}),o.jsx("button",{onClick:()=>s(!0),className:"text-amber-400 underline text-xs mt-2",children:"Run SQL Setup"})]}),c.map(h=>{var m;const p=h.status==="active",f=h.css_class.includes("bg-[")?(m=h.css_class.match(/bg-\[(.*?)\]/))==null?void 0:m[1]:null;return o.jsxs("div",{onClick:()=>r(h.id),className:`
                                        group relative cursor-pointer rounded-xl border transition-all duration-300 h-32 flex flex-col overflow-hidden
                                        ${p?"border-green-400 shadow-[0_0_20px_rgba(74,222,128,0.3)] scale-105 z-10":"border-white/10 hover:border-amber-500/50 hover:scale-105 opacity-80 hover:opacity-100"}
                                    `,children:[o.jsx("div",{className:`absolute inset-0 opacity-50 transition-opacity group-hover:opacity-70 ${h.css_class.startsWith("bg")?h.css_class:""}`,style:f?{backgroundColor:f}:{}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("div",{className:`w-3 h-3 rounded-full border shadow-sm ${p?"bg-green-500 border-green-300 animate-pulse":"bg-black/50 border-white/30"}`})}),o.jsxs("div",{className:"relative z-10 mt-auto p-3",children:[o.jsx("h4",{className:"font-bold text-xs text-white leading-tight mb-1 font-cinzel",children:h.name}),o.jsx("p",{className:"text-[9px] text-gray-300 uppercase tracking-wider",children:p?"Active":"Apply"})]})]},h.id)})]})})]}),o.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:KD.map((h,p)=>o.jsx("section",{className:"animate-fade-in-up",style:{animationDelay:`${p*100}ms`},children:o.jsxs("div",{className:`rounded-2xl border ${h.border} bg-gradient-to-br ${h.gradient} backdrop-blur-md overflow-hidden shadow-xl`,children:[o.jsx("div",{className:`p-5 border-b ${h.border} flex items-center justify-between bg-black/20`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:h.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:`text-lg font-cinzel font-bold ${h.text}`,children:h.title}),o.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-wider",children:h.subtitle})]})]})}),o.jsx("div",{className:"p-5 grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.tables.map(f=>{var w;const m=((w=t[f])==null?void 0:w.length)||0;return o.jsxs(ht,{to:`/admin/db/${f}`,className:"group relative flex flex-col justify-between p-3 bg-black/40 border border-white/5 hover:border-amber-500/40 rounded-lg transition-all hover:-translate-y-1 hover:shadow-lg",children:[o.jsx("div",{className:"flex justify-between items-start mb-2",children:o.jsx("h4",{className:"text-xs font-bold text-gray-300 group-hover:text-amber-100 capitalize truncate w-full",title:f.replace(/_/g," "),children:f.replace(/_/g," ")})}),o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsx("span",{className:"text-[10px] text-gray-500 group-hover:text-amber-500/70 uppercase",children:"Table"}),o.jsx("span",{className:"text-xs font-mono font-bold px-1.5 py-0.5 rounded bg-white/5 group-hover:bg-amber-500/20 group-hover:text-amber-300 transition-colors",children:m})]})]},f)})})]})},h.title))})]}),o.jsx(na,{isVisible:n,onClose:()=>s(!1),children:o.jsxs("div",{className:"bg-[#0F0F23] border border-indigo-500/50 rounded-xl p-0 w-full max-w-3xl overflow-hidden shadow-2xl",children:[o.jsxs("div",{className:"p-4 bg-indigo-950/50 border-b border-indigo-500/30 flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-bold text-indigo-200 flex items-center gap-2",children:[o.jsx("span",{children:""})," Database Engineers"]}),o.jsx("button",{onClick:()=>s(!1),className:"text-indigo-300 hover:text-white",children:""})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex gap-2 mb-4 bg-black/30 p-1 rounded-lg inline-flex",children:[o.jsx("button",{onClick:()=>l("themes"),className:`px-4 py-2 rounded-md text-xs font-bold transition-all ${A==="themes"?"bg-pink-700 text-white shadow":"text-gray-400 hover:text-gray-200"}`,children:" 1. Theme Schema"}),o.jsx("button",{onClick:()=>l("permissions"),className:`px-4 py-2 rounded-md text-xs font-bold transition-all ${A==="permissions"?"bg-green-700 text-white shadow":"text-gray-400 hover:text-gray-200"}`,children:" 2. Fix Permissions"})]}),o.jsxs("div",{className:"relative group",children:[o.jsx("pre",{className:"bg-[#050510] p-4 rounded-lg border border-gray-800 text-[10px] text-green-400 font-mono overflow-auto max-h-64 custom-scrollbar shadow-inner",children:A==="themes"?Tb:Pb}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(A==="themes"?Tb:Pb),alert("SQL Copied! Run this in Supabase SQL Editor.")},className:"absolute top-2 right-2 bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1 rounded text-[10px] font-bold uppercase tracking-wider opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:"Copy SQL"})]}),o.jsx("p",{className:"mt-4 text-xs text-gray-500 text-center",children:"Copy the SQL above and run it in the Supabase Dashboard SQL Editor to apply structure updates."})]})]})})]})},GD=["Google Drive","Dropbox","AWS S3","Firebase Storage"],zD=()=>{const{db:t,refresh:e}=qt(),[r,n]=F.useState({provider:"Google Drive"}),[s,i]=F.useState(!1),[a,A]=F.useState("Checking..."),[l,c]=F.useState(!1),u=t.cloud_providers||[];F.useEffect(()=>{h()},[]);const h=async()=>{const{error:B}=await bt.from("config").select("count",{count:"exact",head:!0});A(B?" Disconnected (Check .env)":" Connected to Supabase")},p=async()=>{c(!0),await e(),await h(),setTimeout(()=>c(!1),800)},f=B=>{n(B),i(!0)},m=()=>{n({provider:"Google Drive",is_active:!1}),i(!0)},w=async()=>{if(!r.name)return alert("Name required");await $r.saveProvider(r),i(!1),e()};return o.jsx("div",{className:"min-h-screen bg-gray-900 p-6 font-mono text-gray-300",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 border-b border-gray-700 pb-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Cloud Infrastructure"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Manage Asset Sources & Database Connection"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:p,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded border border-gray-600 text-amber-200 flex items-center gap-2 transition-all active:scale-95",children:[o.jsx("span",{className:`text-sm ${l?"animate-spin":""}`,children:""}),o.jsx("span",{className:"text-xs font-bold uppercase",children:"Refresh"})]}),o.jsx(ht,{to:"/admin/dashboard",className:"text-blue-400 hover:text-blue-300 text-sm",children:" Dashboard"})]})]}),o.jsx(nt,{className:"bg-gradient-to-r from-green-900/40 to-blue-900/40 border-green-500/30 p-6 mb-8",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Serverless Database"}),o.jsx("p",{className:"text-sm text-gray-300",children:"PostgreSQL (Supabase) via REST API"})]}),o.jsx("div",{className:"px-4 py-2 bg-black/40 rounded border border-gray-600 font-bold text-sm",children:a})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Asset Providers"}),o.jsx("button",{onClick:m,className:"bg-green-700 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-bold",children:"+ NEW"})]}),o.jsx("div",{className:"space-y-3",children:u.filter(B=>B.status==="active").map(B=>o.jsxs("div",{onClick:()=>f(B),className:`p-4 rounded-lg border cursor-pointer transition-all ${B.id===r.id?"bg-gray-800 border-blue-500":"bg-gray-800/50 border-gray-700 hover:bg-gray-800"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded bg-blue-900 text-blue-300",children:B.provider}),B.is_active&&o.jsx("span",{className:"text-[10px] text-green-400 font-bold",children:" LIVE"})]}),o.jsx("h4",{className:"font-bold text-white truncate",children:B.name})]},B.id))})]}),o.jsx(nt,{className:"lg:col-span-2 bg-gray-800 border-gray-700 p-6",children:s?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:r.id?"Edit Provider":"New Connection"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs uppercase text-gray-500 mb-1",children:"Provider Type"}),o.jsx("select",{className:"w-full bg-gray-900 border border-gray-600 rounded p-3 text-white focus:border-blue-500 outline-none",value:r.provider,onChange:B=>n({...r,provider:B.target.value}),children:GD.map(B=>o.jsx("option",{value:B,children:B},B))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs uppercase text-gray-500 mb-1",children:"Name"}),o.jsx("input",{className:"w-full bg-gray-900 border border-gray-600 rounded p-3 text-white focus:border-blue-500 outline-none",value:r.name||"",onChange:B=>n({...r,name:B.target.value})})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-xs uppercase text-gray-500 mb-1",children:"API Key / Token"}),o.jsx("input",{type:"password",className:"w-full bg-gray-900 border border-gray-600 rounded p-3 text-white focus:border-blue-500 outline-none font-mono",value:r.api_key||"",onChange:B=>n({...r,api_key:B.target.value})})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-xs uppercase text-gray-500 mb-1",children:"Root Folder / Bucket"}),o.jsx("input",{className:"w-full bg-gray-900 border border-gray-600 rounded p-3 text-white focus:border-blue-500 outline-none",value:r.folder_id||r.bucket_name||"",onChange:B=>n({...r,folder_id:B.target.value,bucket_name:B.target.value})})]}),o.jsx("div",{className:"md:col-span-2",children:o.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-900 rounded border border-gray-600 cursor-pointer hover:border-green-500",children:[o.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-green-500",checked:r.is_active||!1,onChange:B=>n({...r,is_active:B.target.checked})}),o.jsx("span",{className:`text-sm font-bold ${r.is_active?"text-green-400":"text-gray-400"}`,children:r.is_active?"ENABLED (LIVE)":"DISABLED"})]})})]}),o.jsxs("div",{className:"flex gap-4 pt-4 border-t border-gray-700",children:[o.jsx(ft,{onClick:w,className:"flex-1 bg-green-700 hover:bg-green-600",children:"Save"}),o.jsx("button",{onClick:()=>i(!1),className:"px-6 py-2 rounded bg-gray-700 hover:bg-gray-600 text-white font-bold",children:"Cancel"})]})]}):o.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 opacity-50",children:o.jsx("p",{children:"Select a provider to configure."})})})]}),o.jsx(e1,{context:"cloud"})]})})},qD=["razorpay","stripe","paypal"],$D=()=>{const{db:t,refresh:e}=qt(),[r,n]=F.useState({provider_type:"razorpay"}),[s,i]=F.useState(!1),[a,A]=F.useState({}),[l,c]=F.useState(!1),[u,h]=F.useState(!1),[p,f]=F.useState(null),[m,w]=F.useState(!1),B=t.payment_providers||[],x=async()=>{h(!0),await e(),setTimeout(()=>h(!1),800)},y=$=>{n($),i(!0),A({}),f(null)},C=()=>{n({provider_type:"razorpay",is_active:!0,country_codes:"GLOBAL"}),i(!0),A({}),f(null)},k=$=>{f($),w(!0),navigator.vibrate&&navigator.vibrate([100,50,100]),setTimeout(()=>w(!1),800)},R=()=>{var $,L;return($=r.name)!=null&&$.trim()?(L=r.api_key)!=null&&L.trim()?!0:(k("Public API Key is required."),!1):(k("Configuration Name is missing."),!1)},P=async()=>{R()&&(await fl.saveProvider(r),i(!1),e(),f(null))},M=async $=>{window.confirm("Are you sure you want to remove this provider configuration?")&&(await fl.deleteProvider($),e())},U=async($,L,T)=>{T.stopPropagation(),await fl.toggleActive($,L),e()},H=async()=>{if(!R())return;c(!0);const $=await fl.testTransaction(r);A($),c(!1)};return o.jsx("div",{className:"min-h-screen bg-gray-900 p-6 font-mono text-gray-300",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 border-b border-gray-700 pb-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Payment Gateway Manager"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Configure global transaction routes. Auto-detect region."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:x,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded border border-gray-600 text-amber-200 flex items-center gap-2 transition-all active:scale-95",children:[o.jsx("span",{className:`text-sm ${u?"animate-spin":""}`,children:""}),o.jsx("span",{className:"text-xs font-bold uppercase",children:"Refresh"})]}),o.jsx(ht,{to:"/admin/dashboard",className:"text-blue-400 hover:text-blue-300 text-sm",children:" Dashboard"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Active Gateways"}),o.jsx("button",{onClick:C,className:"bg-green-700 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-bold",children:"+ NEW"})]}),o.jsx("div",{className:"space-y-3",children:B.filter($=>$.status==="active").map($=>o.jsxs("div",{onClick:()=>y($),className:`p-4 rounded-lg border cursor-pointer transition-all ${$.id===r.id?"bg-gray-800 border-blue-500 ring-1 ring-blue-500":"bg-gray-800/50 border-gray-700 hover:bg-gray-800"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded uppercase ${$.provider_type==="razorpay"?"bg-blue-900 text-blue-300":$.provider_type==="stripe"?"bg-purple-900 text-purple-300":"bg-orange-900 text-orange-300"}`,children:$.provider_type}),o.jsx("button",{onClick:L=>U($.id,$.is_active,L),className:`flex items-center gap-1 text-[10px] font-bold px-2 py-0.5 rounded-full border ${$.is_active?"bg-green-900/30 text-green-400 border-green-600":"bg-gray-700 text-gray-400 border-gray-600"}`,children:$.is_active?" LIVE":" OFF"})]}),o.jsx("h4",{className:"font-bold text-white truncate",children:$.name}),o.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[o.jsx("span",{children:$.currency}),o.jsx("span",{className:"font-mono",children:$.country_codes})]})]},$.id))})]}),o.jsx(nt,{className:`lg:col-span-2 bg-gray-800 border-gray-700 p-6 transition-all duration-300 ${m?"ring-4 ring-red-500 shadow-[0_0_50px_rgba(220,38,38,0.5)] bg-red-900/10":""}`,children:s?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:r.id?"Edit Gateway":"New Gateway"}),r.id&&o.jsx("button",{onClick:()=>M(r.id),className:"text-red-400 hover:text-red-300 text-xs px-3",children:"Delete"})]}),p&&o.jsxs("div",{className:"bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded-lg flex items-center gap-3 animate-bounce",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-sm uppercase tracking-widest",children:"Action Required"}),o.jsx("div",{className:"text-xs",children:p})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs uppercase text-gray-500 mb-1",children:"Provider Type"}),o.jsx("select",{className:"w-full bg-gray-900 border border-gray-600 rounded p-3 text-white focus:border-blue-500 outline-none uppercase",value:r.provider_type,onChange:$=>n({...r,provider_type:$.target.value}),children:qD.map($=>o.jsx("option",{value:$,children:$},$))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs uppercase text-gray-500 mb-1",children:["Config Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{className:"w-full bg-gray-900 border border-gray-600 rounded p-3 text-white focus:border-blue-500 outline-none",placeholder:"e.g. Razorpay India Prod",value:r.name||"",onChange:$=>n({...r,name:$.target.value})})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-xs uppercase text-gray-500 mb-1",children:["Public API Key (Client ID) ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{className:"w-full bg-gray-900 border border-gray-600 rounded p-3 text-white focus:border-blue-500 outline-none font-mono text-sm",placeholder:"rzp_test_... or pk_test_...",value:r.api_key||"",onChange:$=>n({...r,api_key:$.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs uppercase text-gray-500 mb-1",children:"Region Codes (ISO)"}),o.jsx("input",{className:"w-full bg-gray-900 border border-gray-600 rounded p-3 text-white focus:border-blue-500 outline-none font-mono uppercase",placeholder:"IN,US or GLOBAL",value:r.country_codes||"",onChange:$=>n({...r,country_codes:$.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs uppercase text-gray-500 mb-1",children:"Currency"}),o.jsx("input",{className:"w-full bg-gray-900 border border-gray-600 rounded p-3 text-white focus:border-blue-500 outline-none uppercase",placeholder:"INR, USD",value:r.currency||"",onChange:$=>n({...r,currency:$.target.value})})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-xs uppercase text-gray-500 mb-1",children:["API Secret / Private Key ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"password",className:"w-full bg-gray-900 border border-gray-600 rounded p-3 text-white focus:border-blue-500 outline-none font-mono text-sm",placeholder:"**************************",value:r.api_secret||"",onChange:$=>n({...r,api_secret:$.target.value})})]})]}),o.jsxs("div",{className:"bg-black/30 p-4 rounded border border-gray-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h4",{className:"text-sm font-bold text-gray-300",children:"Transaction Test"}),o.jsx("button",{onClick:H,disabled:l,className:"text-xs bg-amber-900/50 hover:bg-amber-800 text-amber-300 px-3 py-1 rounded border border-amber-800 transition-colors",children:l?"Processing...":"Initiate 1 Test"})]}),a.message&&o.jsxs("div",{className:`text-xs p-2 rounded ${a.success?"bg-green-900/20 text-green-400":"bg-red-900/20 text-red-400"}`,children:[a.success?"":""," ",a.message]})]}),o.jsxs("div",{className:"flex gap-4 pt-4 border-t border-gray-700",children:[o.jsx(ft,{onClick:P,className:"flex-1 bg-green-700 hover:bg-green-600",children:"Save Provider"}),o.jsx("button",{onClick:()=>{i(!1),f(null)},className:"px-6 py-2 rounded bg-gray-700 hover:bg-gray-600 text-white font-bold",children:"Cancel"})]})]}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 opacity-50",children:[o.jsx("span",{className:"text-6xl mb-4",children:""}),o.jsx("p",{children:"Select a payment gateway to configure"})]})})]})]})})},WD=()=>{const{table:t}=__(),[e]=rF(),{db:r,toggleStatus:n,activateTheme:s,createEntry:i,updateEntry:a,refresh:A}=qt(),[l,c]=F.useState(""),[u,h]=F.useState(!1),[p,f]=F.useState(!1),[m,w]=F.useState({}),[B,x]=F.useState(null),[y,C]=F.useState(!1),[k,R]=F.useState(!1),P=t||"users",M=r[P]||[],U=P==="ui_themes";F.useEffect(()=>{A()},[P,A]),F.useEffect(()=>{e.get("create")==="true"&&(h(!0),w({}))},[e]);const H=async()=>{C(!0),await A(),setTimeout(()=>C(!1),800)},$=M.filter(z=>JSON.stringify(z).toLowerCase().includes(l.toLowerCase())),L=M.length>0?Array.from(new Set(M.flatMap(z=>Object.keys(z)))):["id","status","name","image","description"],T=["created_at"],W=(z,se)=>{w(ue=>({...ue,[z]:se}))},J=()=>{w({}),h(!0)},le=z=>{const se={};return Object.keys(z).forEach(ue=>{const _=z[ue];if(typeof _=="string"&&(_.trim().startsWith("{")||_.trim().startsWith("[")))try{se[ue]=JSON.parse(_)}catch{se[ue]=_}else se[ue]=_}),se},ie=async()=>{R(!0);try{console.log(` UI: Creating entry in ${P}...`);const z=le(m);await i(P,z),h(!1),w({}),await A()}catch(z){console.error("UI: Create Error:",z),alert(`Creation Failed: ${z.message}`)}finally{R(!1)}},Z=z=>{const se={};Object.keys(z).forEach(ue=>{if(!T.includes(ue)){const _=z[ue];se[ue]=typeof _=="object"?JSON.stringify(_):String(_||"")}}),w(se),x(z.id),f(!0)},q=async()=>{if(B){R(!0);try{console.log(` UI: Updating ${P} record ${B}...`);const{id:z,...se}=m,ue=le(se);await a(P,B,ue),console.log(" UI: Update successful."),f(!1),x(null),w({}),await A()}catch(z){console.error("UI: Update Error:",z),alert(`Update Failed!

${z.message||"The network connection may be unstable."}`)}finally{R(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-gray-900 p-6 font-mono text-sm text-gray-300",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-6 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ht,{to:"/admin/config",className:"text-blue-400 hover:underline",children:" Back to Panel"}),o.jsx("h1",{className:"text-2xl font-bold text-white capitalize",children:P.replace(/_/g," ")}),o.jsx("span",{className:"bg-green-900 text-green-200 px-2 py-1 rounded text-xs",children:"Supabase Live"})]}),o.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[o.jsx("input",{type:"text",placeholder:"Search...",value:l,onChange:z=>c(z.target.value),className:"bg-gray-800 border border-gray-600 rounded px-4 py-2 text-white focus:outline-none focus:border-blue-500 flex-grow"}),o.jsx("button",{onClick:H,className:"p-2 bg-gray-800 hover:bg-gray-700 rounded border border-gray-600 text-amber-200",children:o.jsx("span",{className:`block ${y?"animate-spin":""}`,children:""})}),o.jsx("button",{onClick:J,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-4 rounded shadow-lg transition-colors",children:"+ New Entry"})]})]}),o.jsx(nt,{className:"bg-gray-800 border-gray-700 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-700 text-gray-200",children:[L.map(z=>o.jsx("th",{className:"p-3 border-b border-gray-600 font-bold uppercase text-xs whitespace-nowrap",children:z},z)),o.jsx("th",{className:"p-3 border-b border-gray-600 text-right sticky right-0 bg-gray-700",children:"Actions"})]})}),o.jsx("tbody",{children:$.map((z,se)=>o.jsxs("tr",{className:`hover:bg-gray-700/50 border-b border-gray-800 last:border-0 transition-colors ${z.status==="active"&&U?"bg-green-900/10":""}`,children:[L.map(ue=>{const _=z[ue];if(ue==="status")return U?o.jsx("td",{className:"p-3",children:o.jsxs("button",{onClick:ee=>{ee.stopPropagation(),s(z.id)},className:`flex items-center gap-2 px-3 py-1.5 rounded-full border transition-all ${_==="active"?"bg-green-600 text-white border-green-400 shadow-lg scale-105":"bg-gray-800 text-gray-400 border-gray-600 hover:border-gray-400"}`,children:[o.jsx("div",{className:`w-3 h-3 rounded-full border-2 ${_==="active"?"bg-white border-white":"border-gray-400"}`}),o.jsx("span",{className:"text-[10px] font-bold uppercase",children:_==="active"?"ACTIVE":"SELECT"})]})},ue):o.jsx("td",{className:"p-3",children:o.jsx("div",{onClick:ee=>{ee.stopPropagation(),n(P,z.id)},className:`w-10 h-5 flex items-center rounded-full p-1 cursor-pointer transition-colors duration-300 ${_==="active"?"bg-green-600":"bg-gray-600"}`,title:`Toggle Status: ${_}`,children:o.jsx("div",{className:`bg-white w-3 h-3 rounded-full shadow-md transform duration-300 ease-in-out ${_==="active"?"translate-x-5":""}`})})},ue);const I=String(_||""),Y=typeof _=="string"&&I.startsWith("http")&&(ue.includes("image")||ue.includes("url")||ue.includes("path")||I.match(/\.(jpg|png|svg)/));return o.jsx("td",{className:"p-3 text-xs truncate max-w-[200px]",title:I,children:Y?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:$r.resolveImage(I),alt:"prev",className:"w-8 h-8 object-cover rounded bg-black"}),o.jsx("a",{href:I,target:"_blank",className:"text-blue-400 underline",children:"Link"})]}):typeof _=="object"?"{...}":I},ue)}),o.jsx("td",{className:"p-3 text-right sticky right-0 bg-gray-800/50 backdrop-blur-sm flex gap-2 justify-end items-center h-full",children:o.jsx("button",{onClick:()=>Z(z),className:"px-3 py-1.5 rounded text-xs font-bold bg-blue-900 text-blue-300 border border-blue-700",children:"Edit"})})]},se))})]})})})]}),o.jsx(na,{isVisible:u,onClose:()=>h(!1),children:o.jsxs("div",{className:"p-6 bg-gray-900",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add New Record"}),o.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto custom-scrollbar",children:L.filter(z=>!T.includes(z)).map(z=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 text-xs uppercase mb-1",children:z}),o.jsx("input",{className:"w-full bg-black border border-gray-700 rounded p-2 text-white",placeholder:z==="id"?"Leave empty for auto-gen":`Enter ${z}`,value:m[z]||"",onChange:se=>W(z,se.target.value)})]},z))}),o.jsxs("div",{className:"mt-6 flex gap-3",children:[o.jsx(ft,{onClick:ie,disabled:k,className:"flex-1 bg-green-700",children:k?"Creating...":"Create Record"}),o.jsx("button",{onClick:()=>h(!1),className:"flex-1 bg-gray-700 text-white rounded font-bold",children:"Cancel"})]})]})}),o.jsx(na,{isVisible:p,onClose:()=>f(!1),children:o.jsxs("div",{className:"p-6 bg-gray-900",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4 font-cinzel",children:"Edit Record"}),o.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto custom-scrollbar",children:Object.keys(m).map(z=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 text-[10px] uppercase font-bold tracking-widest mb-1",children:z}),o.jsx("input",{disabled:z==="id",className:`w-full bg-black border border-gray-700 rounded p-3 text-white font-mono text-xs ${z==="id"?"opacity-50 cursor-not-allowed border-blue-900/30":"focus:border-blue-500 outline-none"}`,value:m[z],onChange:se=>W(z,se.target.value)}),z==="id"&&o.jsx("p",{className:"text-[9px] text-gray-600 mt-1 uppercase italic",children:"Read Only Key"})]},z))}),o.jsxs("div",{className:"mt-6 flex gap-3",children:[o.jsx(ft,{onClick:q,disabled:k,className:"flex-1 bg-blue-700 shadow-xl",children:k?"Saving Changes...":"Update Record"}),o.jsx("button",{onClick:()=>f(!1),disabled:k,className:"flex-1 bg-gray-800 text-gray-400 hover:text-white rounded font-bold transition-colors disabled:opacity-50",children:"Cancel"})]}),k&&o.jsx("p",{className:"mt-4 text-[10px] text-amber-500/60 text-center animate-pulse uppercase tracking-widest",children:"Channeling updates to cloud... (Up to 30s)"})]})}),o.jsx(e1,{context:"db"})]})},JD=()=>{const[t,e]=F.useState(""),[r,n]=F.useState(""),[s,i]=F.useState([]),[a,A]=F.useState(!1),[l,c]=F.useState(!0),[u,h]=F.useState(!1),[p,f]=F.useState(!1),m=_s(),{refreshUser:w}=Xt(),B=R=>i(P=>[`> ${R}`,...P]),x=async R=>{R.preventDefault(),A(!0),i([]),f(!1);const P=t.trim(),M=r.trim();B(` Authenticating: ${P}`);try{const{data:U,error:H}=await bt.auth.signInWithPassword({email:P,password:M});if(H){H.message.includes("Email not confirmed")?(B(" BLOCKED: Email not confirmed."),B(" ACTION: Run the SQL below to force verify."),h(!0)):H.message.includes("Invalid login credentials")?(B(" Access Denied: Credentials Invalid."),B(" Identity may not exist."),f(!0)):B(` Auth Failed: ${H.message}`),A(!1);return}if(U.user){B(" Identity Verified. Checking Clearance...");const{data:$,error:L}=await bt.from("users").select("role").eq("id",U.user.id).single(),T=P.includes("admin")||P.includes("master")||P.includes("glyphcircle.com");if(L)B(" Profile Missing. Attempting Auto-Fix..."),T?(await bt.from("users").upsert({id:U.user.id,email:P,name:"Master Admin",role:"admin",credits:99999}),B(" Profile Auto-Created & Promoted."),y(P)):(B(" Access Denied: No Profile."),await bt.auth.signOut());else if($.role!=="admin")if(B(` Role mismatch detected: '${$.role}'`),T){B(" Attempting Force Promotion...");const{error:W}=await bt.from("users").update({role:"admin",credits:99999}).eq("id",U.user.id);W?(B(` Promotion Failed: ${W.message}`),B(" TIP: Check RLS policies or use SQL Guide."),h(!0),await bt.auth.signOut()):(B(" Role Elevated to Admin."),y(P))}else B(" PERMISSION DENIED: Not an authorized admin email."),await bt.auth.signOut();else y(P)}}catch(U){B(` System Error: ${U.message}`)}finally{A(!1)}},y=async R=>{B(" Access Granted."),localStorage.setItem("glyph_admin_session",JSON.stringify({user:R,role:"admin",method:"Master Auth"})),w(),B(" Redirecting..."),setTimeout(()=>m("/admin/dashboard"),500)},C=async R=>{var U,H;R.preventDefault(),A(!0),i([]);const P=t.trim(),M=r.trim();B(` Initializing New Admin Entity: ${P}`);try{let $=null,L=!1;const{data:T,error:W}=await bt.auth.signUp({email:P,password:M,options:{data:{full_name:"Master Admin"}}});if(W)if(W.message.includes("already registered")||W.status===400){B(" User exists in auth system.");const{data:J,error:le}=await bt.auth.signInWithPassword({email:P,password:M});if(le){if(le.message.includes("Email not confirmed")){B(" BLOCKED: Identity is unconfirmed."),B(" SOLUTION: Run 'Force Verify' SQL below."),h(!0),A(!1);return}throw le}$=(U=J.user)==null?void 0:U.id,L=!0,B(" Identity confirmed via existing credentials.")}else throw W;else $=(H=T.user)==null?void 0:H.id,T.session?(L=!0,B(" Identity Created & Verified.")):(B(" Identity created but UNCONFIRMED."),B(" TIP: Profile link will likely fail with FK Error."),B(" Use SQL God Mode below to bypass verification."),h(!0));if($){B(" Linking profile to public registry...");const{error:J}=await bt.from("users").upsert({id:$,email:P,name:"Master Admin",role:"admin",credits:99999,created_at:new Date().toISOString()});J?(console.warn("Profile creation failed",J),J.message.includes("foreign key constraint")?(B(" LINK FAILED: Foreign Key Violation."),B(" Reason: Auth record not committed/confirmed."),B(" ACTION: Use SQL God Mode to bypass."),h(!0)):B(` Profile creation error: ${J.message}`)):(B(" Admin Privileges Assigned."),B(" Account ready. Switching to Login mode..."),n(""),setTimeout(()=>{c(!0),i([" Admin Created Successfully."," Log In to enter the Sanctum."])},2e3))}}catch($){B(` Process Failed: ${$.message}`)}finally{A(!1)}},k=`--  GOD MODE SQL
-- Run this in Supabase SQL Editor to bypass email verification & force admin.

-- 1. Force Confirm Email (Bypass Verification Link)
UPDATE auth.users 
SET email_confirmed_at = now() 
WHERE email = '${t||"target_email"}';

-- 2. Grant Admin Role & Credits
INSERT INTO public.users (id, email, role, credits)
SELECT id, email, 'admin', 99999
FROM auth.users
WHERE email = '${t||"target_email"}'
ON CONFLICT (id) DO UPDATE 
SET role = 'admin', credits = 99999;`;return o.jsxs("div",{className:"min-h-screen bg-black text-green-500 font-mono p-4 flex flex-col items-center justify-center select-none",children:[o.jsxs("div",{className:"w-full max-w-lg border-2 border-green-700 bg-gray-900/50 p-6 shadow-[0_0_50px_rgba(0,255,0,0.1)] relative overflow-hidden backdrop-blur-sm",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-0 pointer-events-none bg-[length:100%_2px,3px_100%]"}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-green-500/30 animate-[scan_3s_linear_infinite] z-10"}),o.jsxs("div",{className:"relative z-20",children:[o.jsxs("h1",{className:"text-2xl font-bold mb-6 text-center border-b border-green-900 pb-2 flex justify-between items-center",children:[o.jsx("span",{children:" SECURE ENCLAVE"}),o.jsx("span",{className:"text-[10px] animate-pulse",children:l?"AUTH_MODE":"GENESIS_MODE"})]}),o.jsxs("div",{className:"flex mb-6 border border-green-800 rounded overflow-hidden",children:[o.jsx("button",{onClick:()=>{c(!0),i([]),f(!1)},className:`flex-1 py-2 text-xs font-bold uppercase tracking-widest transition-colors ${l?"bg-green-900 text-black":"hover:bg-green-900/20"}`,children:"Login"}),o.jsx("button",{onClick:()=>{c(!1),i([]),f(!1)},className:`flex-1 py-2 text-xs font-bold uppercase tracking-widest transition-colors ${l?"hover:bg-green-900/20":"bg-green-900 text-black"}`,children:"Create Admin"})]}),o.jsxs("form",{onSubmit:l?x:C,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] uppercase text-green-700 mb-1",children:"Identity (Email)"}),o.jsx("input",{className:"w-full bg-black border border-green-800 p-3 text-green-400 focus:border-green-400 outline-none",value:t,onChange:R=>e(R.target.value),placeholder:"admin@glyphcircle.com",autoComplete:"off",disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] uppercase text-green-700 mb-1",children:"Passphrase"}),o.jsx("input",{type:"password",className:"w-full bg-black border border-green-800 p-3 text-green-400 focus:border-green-400 outline-none",value:r,onChange:R=>n(R.target.value),placeholder:"",disabled:a})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-green-900 hover:bg-green-800 text-green-100 font-bold py-3 uppercase tracking-widest border border-green-700 disabled:opacity-50 mt-4 shadow-[0_0_15px_rgba(0,255,0,0.2)]",children:a?"PROCESSING...":l?"AUTHENTICATE":"INITIALIZE NEW ADMIN"})]}),o.jsxs("div",{className:"mt-6 bg-black border border-gray-800 p-3 h-32 overflow-y-auto text-[10px] font-mono shadow-inner custom-scrollbar relative",children:[s.length===0&&o.jsx("div",{className:"text-gray-700 italic opacity-50",children:"System Ready..."}),s.map((R,P)=>o.jsx("div",{className:`mb-1 pb-1 border-b border-gray-900/50 ${R.includes("")||R.includes("")||R.includes("")?"text-red-400":"text-green-500"}`,children:R},P))]}),p&&o.jsx("div",{className:"mt-4 animate-fade-in-up",children:o.jsx("button",{onClick:()=>{c(!1),i([]),f(!1)},className:"w-full py-2 bg-amber-900/40 hover:bg-amber-800/60 border border-amber-600/50 text-amber-400 text-xs font-bold uppercase tracking-widest rounded transition-colors",children:"User not found? Switch to Create"})}),o.jsxs("div",{className:"mt-6 border-t border-green-900 pt-4 text-center",children:[o.jsx("button",{onClick:()=>h(!u),className:"text-[10px] text-green-700 hover:text-green-500 underline uppercase tracking-widest",children:u?"Close SQL Guide":"Manual SQL Setup Guide"}),u&&o.jsxs("div",{className:"mt-4 text-left bg-black p-4 border border-green-900 rounded animate-fade-in-up",children:[o.jsxs("p",{className:"text-[10px] text-gray-400 mb-2",children:[o.jsx("strong",{children:"To fix linking errors (FK Violations):"})," ",o.jsx("br",{}),"1. Copy the SQL code below.",o.jsx("br",{}),"2. Go to Supabase Dashboard > SQL Editor.",o.jsx("br",{}),"3. Run the query."]}),o.jsxs("div",{className:"relative group",children:[o.jsx("pre",{className:"text-[9px] text-amber-500 bg-gray-900 p-3 rounded border border-amber-900/30 overflow-x-auto whitespace-pre-wrap",children:k}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(k),alert("Query Copied! Paste into Supabase SQL Editor.")},className:"absolute top-2 right-2 bg-green-900 text-[8px] px-2 py-1 rounded opacity-50 group-hover:opacity-100 transition-opacity",children:"COPY"})]})]})]})]})]}),o.jsx("button",{onClick:()=>m("/login"),className:"mt-8 text-gray-600 hover:text-green-500 text-xs uppercase font-bold tracking-[0.2em] transition-colors",children:" Return to Public Access"})]})},QN=F.createContext(void 0),YD=()=>{const t=F.useContext(QN);if(!t)throw new Error("useAnalytics must be used within AnalyticsProvider");return t},XD=Array.from({length:50}).flatMap((t,e)=>{const r=Date.now()-e*1e3*60*60,n=[{name:"Page View",properties:{path:"/home"},timestamp:r},{name:"Card Select",properties:{card:"The Fool"},timestamp:r+1e3}];return Math.random()>.3&&(n.push({name:"Open Payment Modal",properties:{source:"Tarot"},timestamp:r+5e3}),Math.random()>.6&&n.push({name:"Payment Success",properties:{amount:Math.random()>.5?49:29,currency:"INR"},timestamp:r+15e3})),n}).sort((t,e)=>t.timestamp-e.timestamp),ZD=({children:t})=>{const[e,r]=F.useState(XD),[n,s]=F.useState(null),i=ri();F.useEffect(()=>{A("Page View",{path:i.pathname})},[i]);const a=(c,u)=>{s(c),console.log(`[Analytics] Identify: ${c}`,u)},A=(c,u)=>{const h={name:c,properties:u,timestamp:Date.now(),userId:n||"anonymous"};r(p=>[...p,h]),console.log(`[Analytics] Track: ${c}`,u)},l=()=>{const c=e.filter(f=>{var m;return f.name==="Page View"&&((m=f.properties)==null?void 0:m.path)==="/home"}).length,u=e.filter(f=>f.name==="Card Select"||f.name==="Reading Generated").length,h=e.filter(f=>f.name==="Open Payment Modal").length,p=e.filter(f=>f.name==="Payment Success").length;return{views:c,readings:u,intents:h,conversions:p,conversionRate:h>0?(p/h*100).toFixed(1):"0"}};return o.jsx(QN.Provider,{value:{track:A,identify:a,events:e,getFunnelStats:l},children:t})},eO=()=>{const{events:t,getFunnelStats:e}=YD(),r=e(),n=F.useMemo(()=>{const i=t.filter(u=>u.name==="Payment Success").reduce((u,h)=>{var p;return u+(((p=h.properties)==null?void 0:p.amount)||0)},0),a=t.filter(u=>u.name==="Payment Success"&&u.timestamp>Date.now()-864e5).reduce((u,h)=>{var p;return u+(((p=h.properties)==null?void 0:p.amount)||0)},0),A=new Set(t.map(u=>u.userId||"anon")).size,l=t.filter(u=>{var h;return u.name==="Payment Success"&&((h=u.properties)==null?void 0:h.amount)===49}).length,c=t.filter(u=>{var h;return u.name==="Payment Success"&&((h=u.properties)==null?void 0:h.amount)===29}).length;return{totalRevenue:i,todayRevenue:a,activeUsers:A,variantA:l,variantB:c}},[t]),s=[...t].reverse().slice(0,10);return o.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto min-h-screen",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-cinzel font-bold text-amber-300",children:"Sanctum Analytics"}),o.jsx("p",{className:"text-amber-200/60 font-mono text-xs",children:"REAL-TIME REVENUE TRACKER"})]}),o.jsx(ht,{to:"/home",className:"text-sm text-amber-400 hover:underline",children:"Exit Dashboard"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(nt,{className:"bg-gradient-to-br from-gray-900 to-black border-l-4 border-green-500",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"text-gray-400 text-xs uppercase tracking-wider",children:"Total Revenue"}),o.jsxs("div",{className:"text-3xl font-bold text-white mt-1",children:["",n.totalRevenue]}),o.jsx("div",{className:"text-green-400 text-xs mt-2",children:" 12% vs last week"})]})}),o.jsx(nt,{className:"bg-gradient-to-br from-gray-900 to-black border-l-4 border-blue-500",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"text-gray-400 text-xs uppercase tracking-wider",children:"Today's Earnings"}),o.jsxs("div",{className:"text-3xl font-bold text-white mt-1",children:["",n.todayRevenue]}),o.jsxs("div",{className:"text-blue-400 text-xs mt-2",children:[Math.floor(n.todayRevenue/49)," orders"]})]})}),o.jsx(nt,{className:"bg-gradient-to-br from-gray-900 to-black border-l-4 border-amber-500",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"text-gray-400 text-xs uppercase tracking-wider",children:"Conversion Rate"}),o.jsxs("div",{className:"text-3xl font-bold text-white mt-1",children:[r.conversionRate,"%"]}),o.jsx("div",{className:"text-amber-400 text-xs mt-2",children:"Funnel Health: Good"})]})}),o.jsx(nt,{className:"bg-gradient-to-br from-gray-900 to-black border-l-4 border-purple-500",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"text-gray-400 text-xs uppercase tracking-wider",children:"Active Seekers"}),o.jsx("div",{className:"text-3xl font-bold text-white mt-1",children:n.activeUsers}),o.jsx("div",{className:"text-purple-400 text-xs mt-2",children:"Live Now"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsx(nt,{children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-amber-100 mb-6",children:"Conversion Funnel"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative pt-1",children:[o.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-amber-600 bg-amber-200",children:"Home Visits"}),o.jsx("span",{className:"text-xs font-semibold inline-block text-amber-600",children:r.views})]}),o.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-amber-200/20",children:o.jsx("div",{style:{width:"100%"},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-amber-500"})})]}),o.jsxs("div",{className:"relative pt-1",children:[o.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200",children:"Readings Generated"}),o.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-600",children:[r.readings," (",Math.round(r.readings/r.views*100),"%)"]})]}),o.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200/20",children:o.jsx("div",{style:{width:`${r.readings/r.views*100}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500"})})]}),o.jsxs("div",{className:"relative pt-1",children:[o.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-purple-600 bg-purple-200",children:"Payment Intent"}),o.jsxs("span",{className:"text-xs font-semibold inline-block text-purple-600",children:[r.intents," (",Math.round(r.intents/r.views*100),"%)"]})]}),o.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-purple-200/20",children:o.jsx("div",{style:{width:`${r.intents/r.views*100}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-purple-500"})})]}),o.jsxs("div",{className:"relative pt-1",children:[o.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-green-600 bg-green-200",children:"Paid Users"}),o.jsxs("span",{className:"text-xs font-semibold inline-block text-green-600",children:[r.conversions," (",Math.round(r.conversions/r.views*100),"%)"]})]}),o.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-green-200/20",children:o.jsx("div",{style:{width:`${r.conversions/r.views*100}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-green-500"})})]})]})]})}),o.jsx(nt,{children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-amber-100 mb-6",children:"A/B Test: Pricing (v1)"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 bg-gray-900 rounded-lg p-4 border border-gold-500/30 text-center",children:[o.jsx("div",{className:"text-gold-400 font-bold mb-2",children:"Variant A (49)"}),o.jsx("div",{className:"text-2xl text-white",children:n.variantA}),o.jsx("div",{className:"text-xs text-gray-500",children:"Conversions"}),o.jsxs("div",{className:"mt-2 text-sm text-green-400 font-bold",children:["",n.variantA*49]})]}),o.jsxs("div",{className:"flex-1 bg-gray-900 rounded-lg p-4 border border-purple-500/30 text-center",children:[o.jsx("div",{className:"text-purple-400 font-bold mb-2",children:"Variant B (29)"}),o.jsx("div",{className:"text-2xl text-white",children:n.variantB}),o.jsx("div",{className:"text-xs text-gray-500",children:"Conversions"}),o.jsxs("div",{className:"mt-2 text-sm text-green-400 font-bold",children:["",n.variantB*29]})]})]}),o.jsxs("div",{className:"mt-4 p-3 bg-blue-900/20 rounded text-xs text-blue-200 text-center",children:["Analysis: Variant A (49) generates ",o.jsx("strong",{children:n.variantA*49>n.variantB*29?"Higher":"Lower"})," total revenue despite volume differences."]})]})})]}),o.jsx(nt,{children:o.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-400 mb-4 sticky top-0 bg-gray-900/95 py-2",children:"Live Event Stream"}),o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-gray-500 border-b border-gray-700",children:[o.jsx("th",{className:"pb-2",children:"Time"}),o.jsx("th",{className:"pb-2",children:"Event"}),o.jsx("th",{className:"pb-2",children:"User"}),o.jsx("th",{className:"pb-2",children:"Details"})]})}),o.jsx("tbody",{children:s.map((i,a)=>o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-white/5 transition-colors",children:[o.jsx("td",{className:"py-2 text-gray-400 font-mono text-xs",children:new Date(i.timestamp).toLocaleTimeString()}),o.jsx("td",{className:"py-2",children:o.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${i.name==="Payment Success"?"bg-green-900 text-green-300":i.name==="Open Payment Modal"?"bg-purple-900 text-purple-300":"text-gray-300"}`,children:i.name})}),o.jsx("td",{className:"py-2 text-gray-500 text-xs",children:i.userId}),o.jsx("td",{className:"py-2 text-gray-400 text-xs font-mono",children:JSON.stringify(i.properties)})]},a))})]})]})})]})},tO={A:1,I:1,J:1,Q:1,Y:1,B:2,K:2,R:2,C:3,G:3,L:3,S:3,D:4,M:4,T:4,E:5,H:5,N:5,X:5,U:6,V:6,W:6,O:7,Z:7,F:8,P:8},rO={A:1,J:1,S:1,B:2,K:2,T:2,C:3,L:3,U:3,D:4,M:4,V:4,E:5,N:5,W:5,F:6,O:6,X:6,G:7,P:7,Y:7,H:8,Q:8,Z:8,I:9,R:9},nO={1:{friends:[1,2,3,5,9],neutral:[4,7],enemies:[6,8]},2:{friends:[1,3,5],neutral:[2,7,8,9],enemies:[4,6]},3:{friends:[1,2,3,5,9],neutral:[7,8],enemies:[4,6]},4:{friends:[5,6,7],neutral:[1,8],enemies:[2,3,4,9]},5:{friends:[1,4,5,6],neutral:[3,7,8,9],enemies:[2]},6:{friends:[5,6,8,9],neutral:[2,4,7],enemies:[1,3]},7:{friends:[4,6],neutral:[1,2,3,5,7,9],enemies:[8]},8:{friends:[5,6],neutral:[3,7],enemies:[1,2,4,8,9]},9:{friends:[1,3,5,6,9],neutral:[2,7],enemies:[4,8]}},sO={1:"Gold, Orange, Yellow",2:"White, Silver, Cream",3:"Yellow, Saffron, Purple",4:"Electric Blue, Grey",5:"Green, White, Light Brown",6:"White, Light Blue, Pink",7:"Smoky Grey, Pastel Green",8:"Black, Dark Blue, Violet",9:"Red, Maroon, Rose"},iO={1:"Sunday, Monday",2:"Monday, Sunday",3:"Thursday, Tuesday",4:"Saturday, Sunday",5:"Wednesday, Friday",6:"Friday, Wednesday",7:"Monday, Wednesday",8:"Saturday, Friday",9:"Tuesday, Thursday"},aO={1:"22, 28, 37, 46, 55",2:"20, 24, 29, 38, 47",3:"21, 30, 39, 48, 57",4:"22, 31, 40, 49, 58",5:"23, 32, 41, 50, 59",6:"24, 33, 42, 51, 60",7:"25, 34, 43, 52, 61",8:"26, 35, 44, 53, 62",9:"27, 36, 45, 54, 63"},oO={1:"Sun (Surya)",2:"Moon (Chandra)",3:"Jupiter (Guru)",4:"Rahu (Uranus)",5:"Mercury (Budh)",6:"Venus (Shukra)",7:"Ketu (Neptune)",8:"Saturn (Shani)",9:"Mars (Mangal)"},Gs=(t,e=!1)=>{if(t===0)return 0;if(e&&(t===11||t===22||t===33)||t<10)return t;const r=String(t).split("").reduce((n,s)=>n+parseInt(s),0);return Gs(r,e)},AO=(t,e)=>{const r=t.getDate(),n=t.getMonth()+1,s=t.getFullYear(),i=r+n+s;return Gs(i)},lO=t=>{const{name:e,dob:r,system:n="chaldean",useMasterNumbers:s=!1}=t,i=n==="pythagorean"?rO:tO,a=new Date(r),A=a.getDate(),l=a.getMonth()+1,c=a.getFullYear(),u=Gs(A,s),h=u>9?Gs(u):u,p=Gs(A),f=Gs(l),m=Gs(c),w=Gs(p+f+m,s),B=w>9?Gs(w):w,x=e.toUpperCase().replace(/[^A-Z]/g,"");let y=0;for(let U of x)y+=i[U]||0;const C=Gs(y,s),k=nO[h],R=[],P=new Date;for(let U=0;U<5;U++){const H=new Date;H.setDate(P.getDate()+U);const $=AO(H);k.friends.includes($)&&R.push(H.toLocaleDateString(void 0,{weekday:"short",day:"numeric"}))}const M={mulank:`${u} (${oO[h]}): Governs your inner nature. You are ${Rb(h)}.`,bhagyank:`${w}: Your life's purpose. Path of ${cO(B)}.`,namank:`${C}: How the world sees you. Vibrates with ${Rb(h>9?Gs(C):C)}.`};return{coreNumbers:{mulank:u,bhagyank:w,namank:C,system:n.charAt(0).toUpperCase()+n.slice(1)},charts:{compatibility:k,colors:{primary:sO[h]},luckyDays:{primary:iO[B]},peakYears:{ranges:aO[B]}},forecast:{luckyDaysUpcoming:R.slice(0,3)},interpretations:M,disclaimer:"Traditional Vedic guidance only, not scientific prediction."}};function Rb(t){return["","leadership and initiative","cooperation and sensitivity","creativity and expression","stability and process","freedom and versatility","responsibility and care","analysis and introspection","power and ambition","humanitarianism"][t]||"mystery"}function cO(t){return["","achievement","partnership","expression","building","adventure","service","truth-seeking","execution","compassion"][t]||"unknown"}const Qg=["","Mesha (Ari)","Vrishabha (Tau)","Mithuna (Gem)","Karka (Can)","Simha (Leo)","Kanya (Vir)","Tula (Lib)","Vrishchika (Sco)","Dhanu (Sag)","Makara (Cap)","Kumbha (Aq)","Meena (Pis)"],Db=["","Mars","Venus","Mercury","Moon","Sun","Mercury","Venus","Mars","Jupiter","Saturn","Saturn","Jupiter"],jw=[{n:"Ashwini",l:"Ketu"},{n:"Bharani",l:"Venus"},{n:"Krittika",l:"Sun"},{n:"Rohini",l:"Moon"},{n:"Mrigashira",l:"Mars"},{n:"Ardra",l:"Rahu"},{n:"Punarvasu",l:"Jupiter"},{n:"Pushya",l:"Saturn"},{n:"Ashlesha",l:"Mercury"},{n:"Magha",l:"Ketu"},{n:"P.Phalguni",l:"Venus"},{n:"U.Phalguni",l:"Sun"},{n:"Hasta",l:"Moon"},{n:"Chitra",l:"Mars"},{n:"Swati",l:"Rahu"},{n:"Vishakha",l:"Jupiter"},{n:"Anuradha",l:"Saturn"},{n:"Jyeshtha",l:"Mercury"},{n:"Mula",l:"Ketu"},{n:"P.Ashadha",l:"Venus"},{n:"U.Ashadha",l:"Sun"},{n:"Shravana",l:"Moon"},{n:"Dhanishta",l:"Mars"},{n:"Shatabhisha",l:"Rahu"},{n:"P.Bhadrapada",l:"Jupiter"},{n:"U.Bhadrapada",l:"Saturn"},{n:"Revati",l:"Mercury"}],uO=["Vishkumbha","Preeti","Ayushman","Saubhagya","Sobhana","Atiganda","Sukarma","Dhriti","Shoola","Ganda","Vriddhi","Dhruva","Vyaghata","Harshana","Vajra","Siddhi","Vyatipata","Variyan","Parigha","Shiva","Siddha","Sadhya","Shubha","Shukla","Brahma","Indra","Vaidhriti"],dO=["Pratipada","Dwitiya","Tritiya","Chaturthi","Panchami","Shashti","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Purnima/Amavasya"],Xs=t=>{let e=t%360;return e<0&&(e+=360),e},t1=2451545,r1=t=>t.getTime()/864e5+24405875e-1,hO=(t,e)=>{let r=0;switch(t){case"Sun":r=280.46646+36000.76983*e;break;case"Moon":r=218.3165+481267.8813*e;break;case"Mercury":r=252.250906+149472.674636*e;break;case"Venus":r=181.979801+58517.815676*e;break;case"Mars":r=355.433+19140.29647*e;break;case"Jupiter":r=34.351519+3034.905675*e;break;case"Saturn":r=50.077444+1222.113794*e;break;case"Rahu":r=125.04452-1934.136261*e;break;case"Ketu":r=125.04452-1934.136261*e+180;break}return Xs(r)},n1=t=>23.85+t*100*(50.29/3600),fO=(t,e)=>{const n=(r1(e)-t1)/36525;let s=hO(t,n),i=0,a=0;t==="Sun"?(i=Xs(357.52911+35999.05029*n),a=(1.914602-.004817*n)*Math.sin(i*Math.PI/180)+(.019993-101e-6*n)*Math.sin(2*i*Math.PI/180),s+=a):t==="Moon"&&(i=Xs(134.963+477198.867*n),a=6.289*Math.sin(i*Math.PI/180),s+=a);const A=n1(n),l=Xs(s-A);let c=!1;return["Rahu","Ketu"].includes(t)&&(c=!0),{deg:l,retro:c}},Ob=t=>{const e=Xs(t),r=13.3333,n=Math.floor(e/r),s=e%r,i=Math.floor(s/3.3333)+1,a=n%27,A=jw[a]||jw[0];return{name:A.n,lord:A.l,pada:i}},pO=(t,e,r)=>{const n=r1(t),s=(n-t1)/36525;let i=280.46061837+360.98564736629*(n-2451545)+387933e-9*s*s-s*s*s/3871e4;i=Xs(i);const A=Xs(i+r)*Math.PI/180,l=23.44*Math.PI/180,c=e*Math.PI/180,u=Math.cos(A),h=-Math.sin(A)*Math.cos(l)-Math.tan(c)*Math.sin(l);let p=Math.atan2(u,h),f=Xs(p*180/Math.PI);const m=n1(s);return Xs(f-m)},TN=t=>{const e=t.lat||28.6139,r=t.lng||77.209,n=`${t.dob}T${t.tob}`,s=new Date(n);if(isNaN(s.getTime()))return console.error("Invalid Date in Astro Engine"),TN({...t,dob:new Date().toISOString().split("T")[0],tob:"12:00"});const i=pO(s,e,r),a=Math.floor(i/30)+1,A=i%30,l=Ob(i),u=["Sun","Moon","Mars","Mercury","Jupiter","Venus","Saturn","Rahu","Ketu"].map(Z=>{const{deg:q,retro:z}=fO(Z,s),se=Math.floor(q/30)+1;let ue=se-a+1;ue<=0&&(ue+=12);const _=Ob(q);return{name:Z,sign:se,signName:Qg[se],fullDegree:q,normDegree:q%30,house:ue,isRetrograde:z,nakshatra:_.name,nakshatraLord:_.lord,pada:_.pada,speed:Z==="Moon"?13:1,shadbala:100,rank:0}}),h=[];for(let Z=1;Z<=12;Z++){let q=a+Z-1;q>12&&(q-=12);const z=u.filter(ue=>ue.house===Z).map(ue=>ue.name);let se="Neutral";[1,4,7,10].includes(Z)?se="Kendra":[5,9].includes(Z)?se="Trikona":[6,8,12].includes(Z)&&(se="Dusthana"),h.push({number:Z,sign:q,signName:Qg[q],lord:Db[q],planets:z,type:se})}const p=u.find(Z=>Z.name==="Moon"),m=p.fullDegree%13.3333/13.3333,w=["Ketu","Venus","Sun","Moon","Mars","Rahu","Jupiter","Saturn","Mercury"],B={Ketu:7,Venus:20,Sun:6,Moon:10,Mars:7,Rahu:18,Jupiter:16,Saturn:19,Mercury:17},C=jw.map(Z=>Z.n).indexOf(p.nakshatra)%9,k=w[C],P=B[k]*(1-m),M=[];let U=new Date(s);const H=new Date(U.getFullYear()+P,U.getMonth(),U.getDate());M.push({planet:k,start:s.getFullYear().toString(),end:H.getFullYear().toString(),duration:`Balance: ${P.toFixed(1)}y`}),U=H;let $=C;for(let Z=0;Z<5;Z++){$=($+1)%9;const q=w[$],z=B[q],se=new Date(U.getFullYear()+z,U.getMonth(),U.getDate());M.push({planet:q,start:U.getFullYear().toString(),end:se.getFullYear().toString(),duration:`${z} Years`}),U=se}const L=u.find(Z=>Z.name==="Sun"),T=Xs(p.fullDegree-L.fullDegree),W=Math.floor(T/12),J=dO[W%15]+(W>=15?" (Krishna)":" (Shukla)"),le=Xs(p.fullDegree+L.fullDegree),ie=Math.floor(le/13.3333);return{meta:{ayanamsha:`Lahiri ${n1((r1(s)-t1)/36525).toFixed(2)}`,sunrise:"06:00 AM",timezone:"Local"},lagna:{sign:a,signName:Qg[a],degree:A,nakshatra:l.name,lord:Db[a]},planets:u,houses:h,dasha:{balance:`${k} Balance: ${P.toFixed(1)}y`,timeline:M},yogas:[],panchang:{tithi:J,yoga:uO[ie%27],karana:"Bava",nakshatra:p.nakshatra,sunrise:"06:00 AM",ayanamsa:"Lahiri"}}},Dh={isValidName:t=>typeof t=="string"&&t.trim().length>=2&&!/[0-9]/.test(t),isValidDate:t=>{if(!t)return!1;const e=new Date(t);return!isNaN(e.getTime())},isValidTime:t=>/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(t),isNotEmpty:t=>typeof t=="string"&&t.trim().length>0,isValidEmail:t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)},Mb=({mode:t})=>{var ue,_,I,V,Y,ee,re,fe;const[e,r]=F.useState({name:"",dob:"",pob:"",tob:""}),[n,s]=F.useState(null),[i,a]=F.useState(""),[A,l]=F.useState(null),[c,u]=F.useState(!1),[h,p]=F.useState(0),[f,m]=F.useState(""),[w,B]=F.useState(!1),{t:x,language:y}=$t(),{openPayment:C}=ni(),{db:k}=qt(),{user:R,saveReading:P}=Xt(),M=R&&["master@glyphcircle.com","admin@glyphcircle.com","admin@glyph.circle"].includes(R.email),U=(ue=k.services)==null?void 0:ue.find(de=>de.id===t),H=(U==null?void 0:U.price)||(t==="astrology"?99:49),$=t==="numerology"?"report_bg_numerology":"report_bg_astrology",L=((I=(_=k.image_assets)==null?void 0:_.find(de=>de.id===$))==null?void 0:I.path)||((Y=(V=k.services)==null?void 0:V.find(de=>de.id===t))==null?void 0:Y.image)||"https://images.unsplash.com/photo-1509228627129-6690a87531bc?q=80&w=800";F.useEffect(()=>{const de=localStorage.getItem("glyph_user_details");if(de)try{const Be=JSON.parse(de);r(Ee=>({...Ee,name:Be.name||"",dob:Be.dob||"",tob:Be.tob||"",pob:Be.pob||""}))}catch{}},[]),F.useEffect(()=>{a(""),l(null),B(!1),m("")},[t]);const T=de=>{m(""),r({...e,[de.target.name]:de.target.value})},W=de=>{r(Be=>({...Be,dob:de})),m("")},J=de=>{r(Be=>({...Be,tob:de})),m("")},le=(de,Be)=>{r(Ee=>({...Ee,pob:de})),Be&&s(Be),m("")},ie=()=>{if(!Dh.isValidName(e.name))return"Please enter a valid name.";if(!Dh.isValidDate(e.dob))return"Please enter a valid Date of Birth.";if(t==="astrology"){if(!Dh.isNotEmpty(e.pob))return"Place of Birth is required for Astrology.";if(!Dh.isValidTime(e.tob))return"Valid Time of Birth is required."}return""},Z=de=>({en:"English",hi:"Hindi",ta:"Tamil",te:"Telugu",bn:"Bengali",mr:"Marathi",es:"Spanish",fr:"French",ar:"Arabic",pt:"Portuguese"})[de]||"English",q=F.useCallback(async de=>{de&&de.preventDefault();const Be=ie();if(Be){m(Be);return}localStorage.setItem("glyph_user_details",JSON.stringify(e)),u(!0),p(0),a(""),l(null),m(""),B(!1);const Ee=setInterval(()=>{p(we=>we>=90?we:we+Math.random()*6)},350),je=3;let ke=0;const $e=async()=>{try{let we=null;t==="numerology"?we=lO({name:e.name,dob:e.dob}):we=TN({name:e.name,dob:e.dob,tob:e.tob,pob:e.pob,lat:n==null?void 0:n.lat,lng:n==null?void 0:n.lng}),l(we);const ne=await w6({mode:t,...e,language:Z(y)});if(!ne.reading||ne.reading.trim().length<50)throw new Error("Message too faint.");clearInterval(Ee),p(100),a(ne.reading),P({type:t,title:`${t.toUpperCase()} reading for ${e.name}`,content:ne.reading,image_url:$r.resolveImage(L),meta_data:we})}catch{ke++,ke<je?(console.warn(`Attempt ${ke} failed, retrying...`),await new Promise(ne=>setTimeout(ne,1200)),await $e()):(clearInterval(Ee),m("The Oracle is currently busy. Please realign your frequencies and try again."))}};await $e(),u(!1)},[e,t,y,n,P,L]),z=()=>{if(!i)return;C(()=>{B(!0),window.scrollTo({top:0,behavior:"smooth"})},t==="astrology"?"Your Astrology Destiny":"Your Numerology Summary",H)},se=x(t==="astrology"?"astrologyReading":"numerologyReading");return o.jsxs("div",{className:"max-w-4xl mx-auto relative pb-24",children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-8 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 transform group-hover:-translate-x-2 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),x("backToHome")]}),o.jsxs(nt,{className:"mb-10 p-10 border-amber-500/20 shadow-2xl",children:[o.jsx("h2",{className:"text-4xl font-cinzel font-black text-center text-amber-300 mb-3 tracking-widest uppercase",children:se}),o.jsx("p",{className:"text-center text-amber-100/60 mb-12 font-lora italic text-lg",children:"Consult the ancient wisdom to reveal your path."}),o.jsxs("form",{onSubmit:q,className:"grid md:grid-cols-2 gap-10",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-amber-200 mb-2 font-cinzel text-[10px] font-black uppercase tracking-[0.3em]",children:x("fullName")}),o.jsx("input",{type:"text",name:"name",value:e.name,onChange:T,className:"w-full p-4 bg-black/40 border border-amber-500/20 rounded-2xl text-white placeholder-gray-700 focus:border-amber-400 focus:ring-1 focus:ring-amber-500/50 outline-none transition-all text-lg",placeholder:"Seeker's Name"})]}),o.jsx("div",{className:t==="numerology"?"md:col-span-2":"",children:o.jsx(Xo,{value:e.dob,onChange:W})}),t==="astrology"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx(Iw,{value:e.pob,onChange:le})}),o.jsx("div",{children:o.jsx(Uw,{value:e.tob,date:e.dob,onChange:J})})]}),o.jsx("div",{className:"md:col-span-2 text-center mt-8",children:o.jsx(ft,{type:"submit",disabled:c,className:"w-full md:w-auto px-20 py-5 bg-gradient-to-r from-amber-700 to-maroon-900 border-amber-500/50 shadow-[0_0_30px_rgba(139,92,5,0.3)] text-xl font-cinzel font-bold tracking-[0.2em] uppercase rounded-full",children:c?"Channeling...":"Unlock Destiny"})})]}),f&&o.jsx("p",{className:"text-red-400 text-center mt-10 bg-red-950/20 p-4 rounded-xl border border-red-500/30 animate-shake",children:f})]}),(c||i)&&o.jsx("div",{className:"animate-fade-in-up",children:w?o.jsx(oi,{reading:i,title:t==="astrology"?"Your Astrology Destiny":"Your Numerology Summary",imageUrl:L,chartData:{...A,luckyNumbers:t==="numerology"?[((ee=A==null?void 0:A.coreNumbers)==null?void 0:ee.mulank)||7,((re=A==null?void 0:A.coreNumbers)==null?void 0:re.bhagyank)||3,((fe=A==null?void 0:A.coreNumbers)==null?void 0:fe.namank)||9]:[7,3,9],vedicMetrics:[{label:"Karmic Potential",value:88},{label:"Spiritual Sattva",value:74},{label:"Material Success",value:92}]}}):o.jsx(nt,{className:"overflow-hidden border-amber-500/40 bg-gray-900/60 backdrop-blur-xl",children:o.jsxs("div",{className:"p-10",children:[o.jsx("h3",{className:"text-3xl font-cinzel font-black text-amber-300 mb-10 text-center uppercase tracking-[0.3em]",children:"Oracle's First Vision"}),c?o.jsx(oa,{progress:h,message:"Observing the celestial dance...",estimatedTime:"~8 seconds"}):o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"bg-black/60 p-12 rounded-[2rem] border-2 border-[#d4af37]/40 flex flex-col items-center justify-center min-h-[400px] shadow-inner relative group overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(212,175,55,0.08)_0%,transparent_80%)]"}),o.jsx("div",{className:"w-40 h-40 bg-[#0d0d0d] rounded-full border-[5px] border-[#d4af37] flex items-center justify-center mb-10 shadow-[0_0_50px_rgba(212,175,55,0.5)] relative z-10 transition-transform group-hover:scale-110 duration-700",children:o.jsx("span",{className:"text-7xl drop-shadow-[0_2px_10px_rgba(245,158,11,0.8)]",children:""})}),o.jsx("span",{className:"text-[#d4af37] font-cinzel font-black text-3xl tracking-[0.5em] uppercase relative z-10 drop-shadow-sm",children:t})]}),o.jsxs("div",{className:"space-y-10",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"whitespace-pre-wrap italic font-lora text-amber-100/90 leading-relaxed text-2xl line-clamp-6 drop-shadow-lg",children:['"',i,'"']}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-[#0F0F23] via-[#0F0F23]/80 to-transparent"})]}),o.jsxs("div",{className:"pt-10 border-t border-amber-500/10 space-y-6",children:[o.jsx(ft,{onClick:z,className:"w-full py-6 bg-gradient-to-r from-amber-600 to-maroon-800 border-amber-400 shadow-2xl font-cinzel font-black tracking-[0.2em] text-xl transform hover:scale-[1.03] active:scale-95",children:"Reveal Complete Report"}),M&&o.jsx("button",{onClick:()=>B(!0),className:"w-full text-[11px] text-amber-500/60 hover:text-white underline font-mono tracking-widest uppercase transition-colors",children:"Admin Direct Access"})]})]})]})]})})})]})},gO={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",11:"",12:"",13:"",14:"",15:"",16:"",17:"",18:"",19:"",20:"",21:""},mO={Wands:"",Cups:"",Swords:"",Pentacles:""},wO={Ace:"A",Two:"2",Three:"3",Four:"4",Five:"5",Six:"6",Seven:"7",Eight:"8",Nine:"9",Ten:"10",Page:"P",Knight:"Kn",Queen:"Q",King:"K"},vO=["0","I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII","XIII","XIV","XV","XVI","XVII","XVIII","XIX","XX","XXI"],Hb={backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.1'/%3E%3C/svg%3E")`,opacity:.15,mixBlendMode:"overlay",pointerEvents:"none"},xO={backgroundImage:`
        radial-gradient(circle at 50% 50%, transparent 10%, rgba(245,158,11,0.1) 11%, transparent 12%),
        radial-gradient(circle at 0% 0%, transparent 10%, rgba(245,158,11,0.1) 11%, transparent 12%),
        radial-gradient(circle at 100% 0%, transparent 10%, rgba(245,158,11,0.1) 11%, transparent 12%),
        radial-gradient(circle at 0% 100%, transparent 10%, rgba(245,158,11,0.1) 11%, transparent 12%),
        radial-gradient(circle at 100% 100%, transparent 10%, rgba(245,158,11,0.1) 11%, transparent 12%)
    `,backgroundSize:"30px 30px"},yO=t=>{if(t.type==="Major")return{bgGradient:"bg-gradient-to-b from-indigo-900 via-purple-900 to-black",border:"border-amber-400",accent:"text-amber-300",glow:"shadow-[0_0_20px_rgba(251,191,36,0.5)]",orb:"bg-amber-500/20",icon:gO[t.number]||"",topLabel:vO[t.number]||t.number.toString(),cornerSymbol:"M"};const e=t.suit||"Wands",r=t.rank?wO[t.rank]:"?",n=mO[e]||"";switch(e){case"Wands":return{bgGradient:"bg-gradient-to-b from-red-950 via-orange-900 to-black",border:"border-orange-500/60",accent:"text-orange-300",glow:"shadow-[0_0_15px_rgba(249,115,22,0.3)]",orb:"bg-orange-500/20",icon:n,topLabel:r,cornerSymbol:""};case"Cups":return{bgGradient:"bg-gradient-to-b from-blue-950 via-cyan-900 to-black",border:"border-cyan-400/60",accent:"text-cyan-300",glow:"shadow-[0_0_15px_rgba(34,211,238,0.3)]",orb:"bg-cyan-500/20",icon:n,topLabel:r,cornerSymbol:""};case"Swords":return{bgGradient:"bg-gradient-to-b from-slate-900 via-gray-800 to-black",border:"border-gray-400/60",accent:"text-gray-300",glow:"shadow-[0_0_15px_rgba(209,213,219,0.3)]",orb:"bg-slate-500/20",icon:n,topLabel:r,cornerSymbol:""};case"Pentacles":return{bgGradient:"bg-gradient-to-b from-emerald-950 via-green-900 to-black",border:"border-emerald-500/60",accent:"text-emerald-300",glow:"shadow-[0_0_15px_rgba(16,185,129,0.3)]",orb:"bg-emerald-500/20",icon:n,topLabel:r,cornerSymbol:""};default:return{bgGradient:"bg-gray-900",border:"border-gray-500",accent:"text-gray-300",glow:"",orb:"",icon:"?",topLabel:"?",cornerSymbol:"?"}}},Tg=({card:t,isSelected:e,onClick:r})=>{const{t:n,isRTL:s}=$t(),i=F.useMemo(()=>yO(t),[t]),a=n(t.name),A=l=>{navigator.vibrate&&navigator.vibrate(20),r(l)};return o.jsx("div",{onClick:A,className:`
        group relative w-full cursor-pointer
        aspect-[2/3] 
        perspective-1000 z-10 
        transition-all duration-500 ease-out will-change-transform
        ${e?"scale-100 z-40":"hover:-translate-y-2 hover:z-30 hover:scale-105"}
      `,dir:s?"rtl":"ltr",children:o.jsxs("div",{className:`
          relative w-full h-full rounded-xl transition-all duration-700 transform-style-3d shadow-2xl
          ${e?"rotate-y-180":""}
          ${e?"":"group-hover:shadow-[0_0_30px_rgba(245,158,11,0.4)]"}
        `,children:[o.jsxs("div",{className:`absolute inset-0 w-full h-full rounded-xl backface-hidden 
                     border border-amber-600/30 bg-[#0a0a1a] overflow-hidden`,children:[o.jsx("div",{className:"absolute inset-0 opacity-30",style:xO}),o.jsx("div",{className:"absolute inset-0 z-10",style:Hb}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:o.jsxs("div",{className:"w-1/3 aspect-square rounded-full border border-amber-500/30 flex items-center justify-center relative bg-black/60 backdrop-blur-sm shadow-[0_0_15px_rgba(245,158,11,0.2)]",children:[o.jsx("div",{className:"absolute inset-0 border border-amber-500/20 rounded-full animate-ping opacity-20"}),o.jsx("span",{className:"text-[150%] filter drop-shadow-[0_0_5px_rgba(245,158,11,0.8)] opacity-90",children:""})]})}),o.jsx("div",{className:"absolute inset-1 border border-amber-500/20 rounded-lg pointer-events-none"})]}),o.jsxs("div",{className:`
            absolute inset-0 w-full h-full rounded-xl overflow-hidden rotate-y-180 backface-hidden
            flex flex-col items-center justify-between p-2 sm:p-3
            border-2 ${i.border}
            ${i.bgGradient}
            ${i.glow}
          `,children:[o.jsx("div",{className:"absolute inset-0 z-0",style:Hb}),o.jsxs("div",{className:`relative z-10 w-full flex justify-between px-1 pt-1 font-cinzel text-xs sm:text-sm font-black ${i.accent} opacity-90`,children:[o.jsx("span",{children:i.topLabel}),o.jsx("span",{className:"text-[10px] sm:text-xs opacity-70",children:i.cornerSymbol})]}),o.jsx("div",{className:"relative z-10 flex-grow flex items-center justify-center w-full min-h-0 py-2",children:t.image?o.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden border border-white/10 shadow-inner",children:[o.jsx(Ya,{src:t.image,alt:t.name,className:"w-full h-full object-cover",containerClassName:"w-full h-full"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-white/10 pointer-events-none"})]}):o.jsxs("div",{className:"relative w-[85%] aspect-square flex items-center justify-center max-h-full",children:[o.jsx("div",{className:`absolute inset-0 rounded-full ${i.orb} blur-xl animate-pulse`}),o.jsxs("div",{className:"relative w-full h-full rounded-full bg-gradient-to-br from-white/10 to-transparent border border-white/20 shadow-inner flex items-center justify-center overflow-hidden backdrop-blur-sm group-hover:scale-105 transition-transform duration-700",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-60"}),o.jsx("div",{className:"relative z-10 w-full h-full flex items-center justify-center filter drop-shadow-lg transform leading-none",children:o.jsx("span",{className:"text-[3em] sm:text-[4em] md:text-[5em] filter drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]",children:i.icon})}),o.jsx("div",{className:"absolute top-[15%] left-[20%] w-[20%] h-[10%] bg-white/40 rounded-full blur-[2px] rotate-[-45deg]"})]})]})}),o.jsx("div",{className:"relative z-10 w-full text-center pb-1 flex-shrink-0",children:o.jsx("div",{className:`
                w-full py-1.5
                bg-black/60 backdrop-blur-md rounded border-t ${i.border}
                text-amber-50 font-cinzel font-bold text-[9px] sm:text-[10px] md:text-xs tracking-wide
                flex items-center justify-center
                px-1 min-h-[1.75rem] shadow-lg
              `,children:o.jsx("span",{className:"truncate w-full drop-shadow-md",children:a})})})]})]})})},Oh=({className:t="h-4 w-full"})=>o.jsx("div",{className:`bg-white/5 rounded animate-pulse ${t}`}),bO=({className:t="h-32 w-full"})=>o.jsx("div",{className:`bg-white/5 rounded-lg animate-pulse ${t}`}),BO=()=>o.jsxs("div",{className:"space-y-4 w-full animate-fade-in-up",children:[o.jsx(Oh,{className:"h-8 w-3/4 mb-6 bg-amber-500/10"}),o.jsx(bO,{className:"h-48 border border-amber-500/10 bg-black/20"}),o.jsxs("div",{className:"space-y-2 mt-4",children:[o.jsx(Oh,{className:"w-full"}),o.jsx(Oh,{className:"w-5/6"}),o.jsx(Oh,{className:"w-4/6"})]})]});class Ur extends F.Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null}),window.location.reload()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error(" Cosmic Interruption Caught:",e,r)}render(){const{hasError:e,error:r}=this.state,{children:n}=this.props;return e?o.jsx("div",{className:"min-h-[400px] w-full flex items-center justify-center p-6 animate-fade-in-up",children:o.jsx(nt,{className:"max-w-md w-full border-red-500/30 shadow-[0_0_50px_rgba(220,38,38,0.2)] bg-[#0A0A1A]",children:o.jsxs("div",{className:"p-8 text-center",children:[o.jsxs("div",{className:"mb-6 inline-block p-4 rounded-full bg-red-900/20 border border-red-500/40 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-red-500/10 rounded-full animate-ping"}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-red-400 relative z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})]}),o.jsx("h2",{className:"text-2xl font-cinzel font-bold text-amber-100 mb-2 uppercase tracking-widest",children:"Cosmic interference detected"}),o.jsx("p",{className:"text-amber-200/60 font-lora mb-6 italic",children:'"The stars are momentarily misaligned. A flux in the mystical fabric has been detected."'}),r&&o.jsx("div",{className:"bg-black/60 p-3 rounded mb-6 text-[10px] text-red-300 font-mono text-left overflow-auto max-h-24 border border-red-900/30 custom-scrollbar",children:r.message||"Unknown anomaly"}),o.jsx(ft,{onClick:this.handleRetry,className:"w-full bg-gradient-to-r from-red-900 to-maroon-800 border-red-500/50 shadow-lg hover:shadow-red-500/20",children:"Realign & Retry "})]})})}):n}}const CO=["Wands","Cups","Swords","Pentacles"],NO=["Ace","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Page","Knight","Queen","King"],SO=["The Fool","The Magician","The High Priestess","The Empress","The Emperor","The Hierophant","The Lovers","The Chariot","Strength","The Hermit","Wheel of Fortune","Justice","The Hanged Man","Death","Temperance","The Devil","The Tower","The Star","The Moon","The Sun","Judgement","The World"],EO=()=>{const t=[];return SO.forEach((e,r)=>{t.push({id:`major-${r}`,number:r,name:e,type:"Major",suit:void 0,rank:void 0})}),CO.forEach(e=>{NO.forEach((r,n)=>{t.push({id:`minor-${e}-${n}`,number:n+1,name:`${r} of ${e}`,type:"Minor",suit:e,rank:r})})}),t},_O=EO(),FO=t=>{let e=[],r=[];if(t.type==="Major")e=[{element:"Fire",sanskrit:"Agni",score:30},{element:"Water",sanskrit:"Jala",score:20},{element:"Air",sanskrit:"Vayu",score:20},{element:"Ether",sanskrit:"Akasha",score:30}],r=[{label:"Karma (Destiny)",sub:"Prarabdha",value:90},{label:"Wisdom (Jnana)",sub:"Buddhi",value:85},{label:"Power (Shakti)",sub:"Kundalini",value:75}];else switch(t.suit){case"Wands":e=[{element:"Fire",sanskrit:"Agni",score:80},{element:"Air",sanskrit:"Vayu",score:10},{element:"Earth",sanskrit:"Prithvi",score:5},{element:"Water",sanskrit:"Jala",score:5}],r=[{label:"Willpower",sub:"Iccha Shakti",value:85},{label:"Action",sub:"Kriya Shakti",value:90},{label:"Emotion",sub:"Bhavana",value:30}];break;case"Cups":e=[{element:"Water",sanskrit:"Jala",score:85},{element:"Air",sanskrit:"Vayu",score:5},{element:"Fire",sanskrit:"Agni",score:5},{element:"Earth",sanskrit:"Prithvi",score:5}],r=[{label:"Emotion",sub:"Bhavana",value:95},{label:"Intuition",sub:"Pratibha",value:80},{label:"Action",sub:"Kriya",value:40}];break;case"Swords":e=[{element:"Air",sanskrit:"Vayu",score:85},{element:"Fire",sanskrit:"Agni",score:10},{element:"Water",sanskrit:"Jala",score:0},{element:"Earth",sanskrit:"Prithvi",score:5}],r=[{label:"Intellect",sub:"Buddhi",value:95},{label:"Conflict",sub:"Sangharsha",value:70},{label:"Peace",sub:"Shanti",value:20}];break;case"Pentacles":e=[{element:"Earth",sanskrit:"Prithvi",score:90},{element:"Water",sanskrit:"Jala",score:5},{element:"Fire",sanskrit:"Agni",score:5},{element:"Air",sanskrit:"Vayu",score:0}],r=[{label:"Wealth",sub:"Artha",value:90},{label:"Stability",sub:"Sthirata",value:85},{label:"Spirituality",sub:"Moksha",value:30}];break}return{elementalBalance:e,vedicMetrics:r}},kO=()=>{var _;const[t,e]=F.useState(null),[r,n]=F.useState(""),[s,i]=F.useState(null),[a,A]=F.useState(!1),[l,c]=F.useState(0),[u,h]=F.useState(""),[p,f]=F.useState(!1),[m,w]=F.useState(null),[B,x]=F.useState(!1),[y,C]=F.useState(!1),k=F.useRef(null),{t:R,language:P}=$t(),{openPayment:M}=ni(),{user:U,awardKarma:H,saveReading:$}=Xt(),{db:L}=qt(),T=U&&["master@gylphcircle.com","admin@gylphcircle.com"].includes(U.email),W=F.useMemo(()=>{const I=[..._O];for(let V=I.length-1;V>0;V--){const Y=Math.floor(Math.random()*(V+1));[I[V],I[Y]]=[I[Y],I[V]]}return I},[]),J=I=>({en:"English",hi:"Hindi",fr:"French",es:"Spanish"})[I]||"English",le=F.useCallback(async I=>{A(!0),c(0),n(""),i(null),h(""),f(!1);const V=setInterval(()=>{c(Y=>Y>=90?Y:Y+15)},300);try{const Y=FO(I);i(Y);const ee=await v6(I.name,J(P));clearInterval(V),c(100),n(ee),H(zm.READING_COMPLETE),$({type:"tarot",title:I.name,subtitle:`${I.type} Arcana`,content:ee,image_url:"https://images.unsplash.com/photo-1505537528343-4dc9b89823f6?q=80&w=800"})}catch(Y){clearInterval(V),h(`${Y.message||"The cosmic connection was interrupted. Please try again."}`)}finally{A(!1)}},[P,H,$]),ie=F.useCallback((I,V)=>{if(p||m||t)return;const Y=V.currentTarget.getBoundingClientRect();w({card:I,startRect:Y}),le(I)},[p,m,t,le]);F.useEffect(()=>{if(m){requestAnimationFrame(()=>{x(!0)});const I=setTimeout(()=>{C(!0)},600),V=setTimeout(()=>{e(m.card),w(null),x(!1),C(!1),setTimeout(()=>{var Y;(Y=k.current)==null||Y.scrollIntoView({behavior:"smooth",block:"start"})},100)},1100);return()=>{clearTimeout(I),clearTimeout(V)}}},[m]);const Z=(_=L.services)==null?void 0:_.find(I=>I.id==="tarot"),q=(Z==null?void 0:Z.price)||49,z=$r.resolveImage(Z==null?void 0:Z.image)||"https://images.unsplash.com/photo-1505537528343-4dc9b89823f6?q=80&w=800",se=()=>M(()=>f(!0),"Tarot Reading",q),ue=()=>{e(null),n(""),h(""),f(!1),window.scrollTo({top:0,behavior:"smooth"})};return o.jsx("div",{className:"flex flex-col gap-12 items-center",children:o.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 relative min-h-screen pb-12",children:[o.jsxs(ht,{to:"/home",className:"relative z-10 inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-4 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),R("backToHome")]}),!t&&o.jsxs("div",{className:"relative z-10 mb-8 text-center animate-fade-in-up",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-amber-400 to-amber-100 mb-4 font-cinzel drop-shadow-lg",children:R("tarotReading")}),o.jsx("p",{className:"text-amber-100/80 font-lora italic text-lg max-w-2xl mx-auto",children:"The deck contains 78 mysteries. Let your intuition guide your hand."})]}),!t&&!m&&o.jsx("div",{className:"relative z-10 grid grid-cols-3 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 gap-3 sm:gap-4 justify-items-center pb-20 animate-fade-in-up",children:W.map(I=>o.jsx(Tg,{card:I,isSelected:!1,onClick:V=>ie(I,V)},I.id))}),m&&o.jsxs("div",{className:"fixed z-[100] transition-all duration-[1000ms] ease-[cubic-bezier(0.34,1.56,0.64,1)] perspective-1000",style:B?{top:"30%",left:"50%",width:"16rem",height:"24rem",transform:"translate(-50%, -20%) rotateZ(360deg) scale(1.2)"}:{top:m.startRect.top,left:m.startRect.left,width:m.startRect.width,height:m.startRect.height,transform:"translate(0, 0) rotateZ(0deg) scale(1)"},children:[o.jsx("div",{className:`absolute -inset-4 bg-amber-500/20 rounded-full blur-2xl transition-opacity duration-500 ${B?"opacity-100":"opacity-0"}`}),o.jsx(Tg,{card:m.card,isSelected:y,onClick:()=>{}})]}),(a||t)&&!m&&o.jsx("div",{ref:k,className:"w-full max-w-5xl mx-auto animate-fade-in-up",children:o.jsxs("div",{className:"flex flex-col items-center gap-8",children:[o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-600 to-amber-600 rounded-xl blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse-glow"}),o.jsx("div",{className:"relative w-64 aspect-[2/3] transform transition-transform duration-500 hover:scale-105",children:o.jsx(Tg,{card:t,isSelected:!0,onClick:()=>{}})})]}),o.jsxs("div",{className:"w-full",children:[a&&o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx(oa,{progress:l,message:"Interpreting the Arcana...",estimatedTime:"Approx. 5 seconds"}),o.jsx(BO,{})]}),u&&!a&&o.jsx(UN,{message:u,onRetry:()=>le(t)}),r&&!a&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-amber-300 mb-2 font-cinzel",children:t.name}),o.jsxs("div",{className:"text-amber-500 text-sm font-bold tracking-[0.3em] uppercase",children:[t.type," Arcana"]})]}),p?o.jsxs("div",{className:"w-full",children:[o.jsx(Ur,{children:o.jsx(oi,{reading:r,title:t.name,subtitle:`${t.type} Arcana  Vedic Insight`,imageUrl:z,chartData:s})}),o.jsx("div",{className:"text-center mt-8",children:o.jsx("button",{onClick:ue,className:"px-10 py-4 bg-gradient-to-r from-gray-800 to-black hover:from-gray-700 hover:to-gray-900 text-amber-200 rounded-full border border-amber-500/30 font-bold transition-all transform hover:scale-105 shadow-xl uppercase font-cinzel tracking-[0.2em]",children:"Draw Another Card"})})]}):o.jsxs(nt,{className:"p-8 border-l-4 border-purple-500 bg-gray-900/80 shadow-[0_0_30px_rgba(139,92,246,0.15)]",children:[o.jsxs("div",{className:"relative text-amber-100 leading-relaxed font-lora italic text-lg mb-8",children:[r.replace(/#/g,"").replace(/\*\*/g,"").split(`
`).slice(0,3).map((I,V)=>o.jsx("p",{className:"mb-2",children:I},V)),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-12 bg-gradient-to-t from-gray-900 to-transparent"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-4 border-t border-gray-700",children:[o.jsx(ft,{onClick:se,className:"w-full sm:w-auto px-8 bg-gradient-to-r from-amber-600 to-maroon-700 border-amber-400",children:R("readMore")}),o.jsx("button",{onClick:ue,className:"text-sm text-gray-400 hover:text-white underline font-cinzel tracking-widest uppercase",children:"Draw Another Card"})]}),T&&o.jsx("button",{onClick:()=>f(!0),className:"block mx-auto mt-4 text-xs text-amber-500 hover:text-amber-300 underline opacity-50",children:"Admin Bypass"})]})]})]})]})})]})})},PN=F.createContext(void 0),s1=()=>{const t=F.useContext(PN);if(!t)throw new Error("useNotifications must be used within PushNotifications wrapper");return t},UO=({children:t})=>{const[e,r]=F.useState("default"),[n,s]=F.useState(!1),[i,a]=F.useState({daily:!0,store:!0,reminders:!0});F.useEffect(()=>{"Notification"in window&&r(Notification.permission);const h=localStorage.getItem("glyph_notif_prefs");h&&a(JSON.parse(h))},[]);const A=()=>{s(!0)},l=async()=>{if(!("Notification"in window)){alert("This browser does not support desktop notifications");return}try{const h=await Notification.requestPermission();r(h),localStorage.setItem("glyph_notif_prefs",JSON.stringify(i)),h==="granted"&&(navigator.vibrate&&navigator.vibrate([100,50,100]),new Notification(" Cosmic Connection Established",{body:"Your preferences have been recorded in the stars.",icon:"https://cdn-icons-png.flaticon.com/512/3063/3063822.png"})),s(!1)}catch(h){console.error("Permission request failed",h)}},c=h=>{a(h),localStorage.setItem("glyph_notif_prefs",JSON.stringify(h))},u=(h,p)=>{if(e==="granted"){navigator.vibrate&&navigator.vibrate([200]);const f={body:p,icon:"https://cdn-icons-png.flaticon.com/512/3063/3063822.png",badge:"https://cdn-icons-png.flaticon.com/512/3063/3063822.png",vibrate:[200,100,200],tag:"glyph-circle-alert",renotify:!0};try{new Notification(h,f)}catch(m){console.error("Notification dispatch error",m)}}};return o.jsxs(PN.Provider,{value:{permission:e,preferences:i,requestPermission:A,updatePreferences:c,sendNotification:u},children:[t,e==="default"&&!n&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-gray-900 via-gray-900/95 to-gray-900/80 border-t border-amber-500/30 p-4 z-[100] animate-fade-in-up backdrop-blur-xl shadow-[0_-5px_20px_rgba(0,0,0,0.5)]",children:o.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center border border-amber-500/50 animate-pulse",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-amber-300 font-bold font-cinzel text-lg",children:"Enable Cosmic Updates?"}),o.jsx("p",{className:"text-amber-100/70 text-sm font-lora",children:"Customize your daily insights and alerts."})]})]}),o.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[o.jsx("button",{onClick:()=>r("denied"),className:"flex-1 sm:flex-none px-4 py-2 text-sm text-amber-200/60 hover:text-amber-100 font-bold transition-colors",children:"Later"}),o.jsx(ft,{onClick:A,className:"flex-1 sm:flex-none py-2 px-6 text-sm bg-amber-600 hover:bg-amber-500 border-none shadow-lg",children:"Customize"})]})]})}),o.jsx(na,{isVisible:n,onClose:()=>s(!1),children:o.jsxs("div",{className:"p-6 bg-gray-900 text-amber-50 rounded-lg",children:[o.jsx("h3",{className:"text-xl font-cinzel font-bold text-amber-300 mb-2",children:"Cosmic Signals"}),o.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"GDPR Consent: Select the types of messages you wish to receive. You can disable these at any time via browser settings."}),o.jsxs("div",{className:"space-y-3 mb-8",children:[o.jsxs("label",{className:"flex items-start gap-3 p-3 bg-black/30 rounded border border-gray-700 cursor-pointer hover:border-amber-500/30 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:i.daily,onChange:h=>a({...i,daily:h.target.checked}),className:"mt-1 form-checkbox h-4 w-4 text-amber-600 bg-gray-800 border-gray-600 focus:ring-amber-500 rounded"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-sm text-amber-100",children:"Daily Horoscope"}),o.jsx("div",{className:"text-[10px] text-gray-500",children:"Morning celestial guidance at 8:00 AM"})]})]}),o.jsxs("label",{className:"flex items-start gap-3 p-3 bg-black/30 rounded border border-gray-700 cursor-pointer hover:border-amber-500/30 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:i.store,onChange:h=>a({...i,store:h.target.checked}),className:"mt-1 form-checkbox h-4 w-4 text-amber-600 bg-gray-800 border-gray-600 focus:ring-amber-500 rounded"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-sm text-amber-100",children:"Store Treasures"}),o.jsx("div",{className:"text-[10px] text-gray-500",children:"Alerts for new artifacts and flash sales"})]})]}),o.jsxs("label",{className:"flex items-start gap-3 p-3 bg-black/30 rounded border border-gray-700 cursor-pointer hover:border-amber-500/30 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:i.reminders,onChange:h=>a({...i,reminders:h.target.checked}),className:"mt-1 form-checkbox h-4 w-4 text-amber-600 bg-gray-800 border-gray-600 focus:ring-amber-500 rounded"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-sm text-amber-100",children:"Ritual Reminders"}),o.jsx("div",{className:"text-[10px] text-gray-500",children:"Streak alerts and gamification updates"})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3 text-gray-400 hover:text-white text-sm font-bold",children:"Cancel"}),o.jsx(ft,{onClick:l,className:"flex-1 bg-green-700 hover:bg-green-600 border-green-500",children:"Confirm & Allow"})]})]})})]})},IO=()=>{const{db:t,toggleStatus:e,createEntry:r,updateEntry:n}=qt(),{user:s}=Xt(),{t:i,getRegionalPrice:a}=$t(),{openPayment:A}=ni(),{sendNotification:l}=s1(),c=_s(),[u,h]=F.useState(""),[p,f]=F.useState("All"),[m,w]=F.useState([]),[B,x]=F.useState(!1),[y,C]=F.useState("default"),[k,R]=F.useState("cart"),[P,M]=F.useState({fullName:(s==null?void 0:s.name)||"",address:"",city:"",zip:"",phone:""}),[U,H]=F.useState(null),$=(s==null?void 0:s.role)==="admin",L=["All",...Array.from(new Set((t.store_items||[]).map(I=>I.category||"General")))],T=F.useMemo(()=>{let I=t.store_items||[];return $||(I=I.filter(V=>V.status==="active")),u&&(I=I.filter(V=>V.name.toLowerCase().includes(u.toLowerCase())||(V.category||"").toLowerCase().includes(u.toLowerCase()))),p!=="All"&&(I=I.filter(V=>V.category===p)),y==="price_asc"?I=[...I].sort((V,Y)=>V.price-Y.price):y==="price_desc"&&(I=[...I].sort((V,Y)=>Y.price-V.price)),I},[t.store_items,$,u,p,y]),W=m.reduce((I,V)=>I+V.price*V.quantity,0),J=F.useMemo(()=>Object.values(P).every(I=>I.trim().length>0),[P]),le=I=>{w(V=>{const Y=V.find(re=>re.id===I.id);if(Y&&Y.quantity>=(I.stock||999))return H(`Max stock reached for ${I.name}`),setTimeout(()=>H(null),3e3),V;if(Y)return V.map(re=>re.id===I.id?{...re,quantity:re.quantity+1}:re);const ee=$r.getProxyImageUrl(I.id,I.image_url||`https://source.unsplash.com/random/200x200/?${I.category},spiritual`);return[...V,{id:I.id,name:I.name,price:I.price,quantity:1,image:ee,stock:I.stock}]}),navigator.vibrate&&navigator.vibrate(50),H(`${I.name} added to cart `),setTimeout(()=>H(null),3e3)},ie=I=>w(V=>V.filter(Y=>Y.id!==I)),Z=(I,V)=>w(Y=>Y.map(ee=>{if(ee.id!==I)return ee;const re=ee.quantity+V;return re>(ee.stock||999)?ee:{...ee,quantity:Math.max(1,re)}})),q=()=>{R("cart"),x(!0)},z=I=>{const{name:V,value:Y}=I.target;M(ee=>({...ee,[V]:Y}))},se=()=>{if(!J)return alert("Please fill in all delivery details.");const I=[...m];A(async()=>{const V={user_id:(s==null?void 0:s.id)||"guest",item_ids:JSON.stringify(I.map(Y=>({id:Y.id,qty:Y.quantity}))),total:W,description:`Store Order: ${I.length} items`,delivery_address:JSON.stringify(P),status:"paid"};r("store_orders",V);for(const Y of I){const ee=t.store_items.find(re=>re.id===Y.id);if(ee){const re=Math.max(0,(ee.stock||0)-Y.quantity);await n("store_items",Y.id,{stock:re}),re<5&&l(" Low Stock Alert",`${Y.name} is running low (${re} left). Please restock.`)}}w([]),x(!1),R("cart"),navigator.vibrate&&navigator.vibrate([100,50,100]),alert("Payment Successful! Your mystical artifacts will be shipped to "+P.city)},"Vedic Store Order",W)},ue=I=>I.description&&I.description.trim()!==""?I.description:`Authentic ${I.name} enhances intuition and spiritual connection.`,_=I=>I.image_url||"https://images.unsplash.com/photo-1600609842388-3e4b489d71c6?auto=format&fit=crop&w=400&q=80";return o.jsxs("div",{className:"min-h-screen pb-20 relative",children:[o.jsx("button",{onClick:()=>c("/home"),className:"fixed top-20 left-4 z-30 bg-black/60 backdrop-blur border border-amber-500/30 text-amber-200 p-2 rounded-full shadow-lg md:hidden hover:bg-black/80 transition-colors",title:"Back to Home",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),U&&o.jsxs("div",{className:"fixed bottom-24 right-4 md:top-24 md:bottom-auto z-50 bg-green-900/90 text-white px-6 py-3 rounded-lg shadow-[0_0_20px_rgba(34,197,94,0.4)] border border-green-500/50 flex items-center gap-3 animate-fade-in-up",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{className:"font-cinzel font-bold text-sm",children:U})]}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4 pt-4 md:pt-0",children:[o.jsxs("div",{children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),i("backToHome")]}),o.jsx("h2",{className:"text-3xl font-cinzel font-bold text-amber-300",children:"Vedic Inventory"}),o.jsx("p",{className:"text-amber-200/60 font-lora text-sm",children:"Sacred tools for your journey."})]}),o.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[o.jsxs("div",{className:"relative flex-grow md:flex-grow-0",children:[o.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search Rudraksha...",value:u,onChange:I=>h(I.target.value),className:"w-full md:w-64 bg-black/40 border border-amber-500/30 rounded-full py-2 px-4 text-amber-100 focus:outline-none focus:border-amber-400"}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-amber-500/50 absolute right-3 top-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),o.jsxs("button",{onClick:q,className:"relative bg-amber-600 hover:bg-amber-500 p-2 rounded-full text-white shadow-lg transition-transform hover:scale-110",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),m.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-black",children:m.reduce((I,V)=>I+V.quantity,0)})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[L.map(I=>o.jsx("button",{onClick:()=>f(I),className:`px-4 py-1 rounded-full text-xs font-bold border transition-colors ${p===I?"bg-amber-500 border-amber-500 text-black":"bg-transparent border-amber-500/30 text-amber-200 hover:border-amber-400"}`,children:I},I)),o.jsx("div",{className:"ml-auto",children:o.jsxs("select",{value:y,onChange:I=>C(I.target.value),className:"bg-black/40 border border-amber-500/30 rounded px-2 py-1 text-xs text-amber-200 focus:outline-none",children:[o.jsx("option",{value:"default",children:"Sort by: Default"}),o.jsx("option",{value:"price_asc",children:"Price: Low to High"}),o.jsx("option",{value:"price_desc",children:"Price: High to Low"})]})})]}),T.length===0?o.jsx("div",{className:"text-center py-16 text-amber-200/40",children:o.jsx("p",{children:"The stars show no items matching your search."})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:T.map(I=>o.jsxs("div",{className:`group relative bg-gray-900 border ${I.status==="active"?"border-amber-500/20":"border-red-900/50 opacity-70"} rounded-xl overflow-hidden hover:shadow-[0_0_20px_rgba(245,158,11,0.15)] transition-all duration-300 flex flex-col`,children:[o.jsxs("div",{className:"h-48 feature-image-container relative",children:[o.jsx(Ya,{src:_(I),alt:I.name,className:"dynamic-image",containerClassName:"w-full h-full"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent pointer-events-none"}),$&&o.jsx("button",{onClick:()=>e("store_items",I.id),className:`absolute top-2 right-2 text-[10px] font-bold px-2 py-1 rounded border z-20 ${I.status==="active"?"bg-green-900/80 text-green-300 border-green-500":"bg-red-900/80 text-red-300 border-red-500"}`,children:I.status==="active"?"ACTIVE":"INACTIVE"}),(I.stock||0)<5&&I.status==="active"&&o.jsxs("span",{className:"absolute bottom-2 right-2 bg-red-600/90 text-white text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:["Low Stock: ",I.stock]})]}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-cinzel font-bold text-amber-100 truncate pr-2",title:I.name,children:I.name}),o.jsx("span",{className:"text-[10px] text-amber-500 uppercase tracking-widest",children:I.category||"Relic"})]}),o.jsx("div",{className:"font-mono font-bold text-amber-300",children:a(I.price).display})]}),o.jsx("p",{className:"text-xs text-amber-200/60 font-lora mb-4 line-clamp-2 flex-grow",children:ue(I)}),o.jsx(ft,{onClick:()=>le(I),disabled:I.status!=="active"||(I.stock||0)<=0,className:"w-full py-2 text-sm bg-gradient-to-r from-amber-700 to-amber-900 border-none shadow-md hover:from-amber-600 hover:to-amber-800 disabled:opacity-50 disabled:cursor-not-allowed",children:I.status!=="active"?"Unavailable":(I.stock||0)>0?"Add to Cart":"Out of Stock"})]})]},I.id))}),o.jsx("div",{className:"mt-12 text-center border-t border-amber-500/20 pt-8",children:o.jsx(ht,{to:"/home",children:o.jsx(ft,{className:"bg-transparent border border-amber-500/50 hover:bg-amber-900/20 text-amber-200",children:" Back to Sanctuary"})})}),o.jsx(na,{isVisible:B,onClose:()=>x(!1),children:o.jsxs("div",{className:"p-6 bg-gray-900 max-h-[85vh] flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-amber-500/30 pb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[k==="address"&&o.jsx("button",{onClick:()=>R("cart"),className:"text-gray-400 hover:text-white mr-2",children:""}),o.jsx("h3",{className:"text-2xl font-cinzel font-bold text-amber-300",children:k==="cart"?"Your Cart":"Delivery Details"})]}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white",children:""})]}),o.jsx("div",{className:"flex-grow overflow-y-auto mb-6 pr-2 custom-scrollbar",children:k==="cart"?m.length===0?o.jsx("p",{className:"text-center text-gray-500 py-8",children:"Your spiritual vessel is empty."}):o.jsx("div",{className:"space-y-4",children:m.map(I=>o.jsxs("div",{className:"flex gap-4 items-center bg-black/30 p-3 rounded border border-gray-800",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("h4",{className:"font-bold text-amber-100",children:I.name}),o.jsx("p",{className:"text-xs text-amber-500",children:a(I.price).display})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>Z(I.id,-1),className:"w-6 h-6 rounded bg-gray-700 hover:bg-gray-600 text-white flex items-center justify-center",children:"-"}),o.jsx("span",{className:"text-sm font-mono w-4 text-center",children:I.quantity}),o.jsx("button",{onClick:()=>Z(I.id,1),className:"w-6 h-6 rounded bg-gray-700 hover:bg-gray-600 text-white flex items-center justify-center",children:"+"})]}),o.jsx("button",{onClick:()=>ie(I.id),className:"text-red-400 hover:text-red-300 ml-2",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},I.id))}):o.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1",children:"Full Name *"}),o.jsx("input",{name:"fullName",value:P.fullName,onChange:z,className:"w-full bg-gray-800 border border-gray-700 rounded p-2 text-white focus:border-amber-500",placeholder:"Recipient Name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1",children:"Address *"}),o.jsx("input",{name:"address",value:P.address,onChange:z,className:"w-full bg-gray-800 border border-gray-700 rounded p-2 text-white focus:border-amber-500",placeholder:"Street, House No."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1",children:"City *"}),o.jsx("input",{name:"city",value:P.city,onChange:z,className:"w-full bg-gray-800 border border-gray-700 rounded p-2 text-white focus:border-amber-500",placeholder:"City"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1",children:"ZIP / Pin *"}),o.jsx("input",{name:"zip",value:P.zip,onChange:z,className:"w-full bg-gray-800 border border-gray-700 rounded p-2 text-white focus:border-amber-500",placeholder:"123456"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1",children:"Phone Number *"}),o.jsx("input",{name:"phone",value:P.phone,onChange:z,className:"w-full bg-gray-800 border border-gray-700 rounded p-2 text-white focus:border-amber-500",placeholder:"+91 99999 99999"})]})]})}),o.jsxs("div",{className:"border-t border-amber-500/30 pt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 text-lg font-bold text-amber-100",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:a(W).display})]}),k==="cart"?o.jsx(ft,{className:"w-full bg-gradient-to-r from-amber-700 to-amber-900 border-amber-500",disabled:m.length===0,onClick:()=>R("address"),children:m.length===0?"Cart Empty":"Proceed to Checkout"}):o.jsx(ft,{className:"w-full bg-gradient-to-r from-green-700 to-green-900 border-green-500",disabled:!J,onClick:se,children:"Proceed to Payment"})]})]})})]})},Na=({children:t})=>{const e=localStorage.getItem("glyph_admin_session");if(!e)return console.warn(" AdminGuard: No session found. Redirecting to Login."),o.jsx(Bl,{to:"/login",replace:!0});try{const r=JSON.parse(e);if(r.role!=="admin")throw new Error("Role is not admin");console.log(` AdminGuard: Access Granted via ${r.method}`)}catch{return console.error(" AdminGuard: Invalid session"),localStorage.removeItem("glyph_admin_session"),o.jsx(Bl,{to:"/login",replace:!0})}return o.jsx(o.Fragment,{children:t})},jO=()=>{const{refresh:t}=qt(),[e,r]=F.useState(localStorage.getItem("glyph_last_backup_time")),[n,s]=F.useState(!1),i=async()=>{s(!0),await t(),setTimeout(()=>s(!1),800)},a=async(A,l)=>{try{let c,u="glyph-backup";if(A==="json"){const B=await ir.getAll("users"),x=await ir.getAll("readings"),y=await ir.getAll("transactions");c={users:B,readings:x,payments:y},u+=`-${new Date().toISOString().split("T")[0]}.json`}else l&&(c=await ir.getAll(l),u=`glyph-${l}-${new Date().toISOString().split("T")[0]}.csv`);if(!c||Array.isArray(c)&&c.length===0){alert("No data found to export.");return}let h="",p="";if(A==="json")h=JSON.stringify(c,null,2),p="application/json";else{const B=Object.keys(c[0]).join(","),x=c.map(y=>Object.values(y).map(C=>typeof C=="object"?`"${JSON.stringify(C).replace(/"/g,'""')}"`:`"${C}"`).join(","));h=[B,...x].join(`
`),p="text/csv"}const f=new Blob([h],{type:p}),m=URL.createObjectURL(f),w=document.createElement("a");if(w.href=m,w.download=u,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(m),A==="json"){const B=new Date().toLocaleString();localStorage.setItem("glyph_last_backup_time",B),r(B)}}catch(c){console.error("Export failed",c),alert("Export Failed: "+c.message)}};return o.jsx("div",{className:"min-h-screen bg-gray-900 p-6 font-mono text-gray-300",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Disaster Recovery"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Export System Data (Supabase)"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:i,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded border border-gray-600 text-amber-200 flex items-center gap-2 transition-all active:scale-95",children:[o.jsx("span",{className:`text-sm ${n?"animate-spin":""}`,children:""}),o.jsx("span",{className:"text-xs font-bold uppercase",children:"Refresh"})]}),o.jsx(ht,{to:"/admin/dashboard",className:"text-blue-400 hover:text-blue-300",children:" Dashboard"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs(nt,{className:"bg-gray-800 border-gray-700 p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx("span",{children:""})," Export Data"]}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Download a snapshot of users, readings, and transactions from the cloud."}),o.jsxs("div",{className:"bg-black/30 p-4 rounded border border-gray-700 text-xs mb-6",children:[o.jsx("p",{className:"text-gray-500 mb-1 uppercase tracking-widest",children:"Last Backup"}),o.jsx("p",{className:"text-green-400 font-mono text-base",children:e||"Never"})]}),o.jsx(ft,{onClick:()=>a("json"),className:"w-full bg-blue-600 hover:bg-blue-500 border-none",children:"Download JSON Snapshot"}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-3 uppercase tracking-widest",children:"Quick CSV Exports"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>a("csv","users"),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded text-xs",children:"Users"}),o.jsx("button",{onClick:()=>a("csv","readings"),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded text-xs",children:"Readings"}),o.jsx("button",{onClick:()=>a("csv","transactions"),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded text-xs",children:"Payments"})]})]})]}),o.jsxs(nt,{className:"bg-gray-800 border-blue-900/30 p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-blue-500/10 rounded-full blur-2xl -z-10"}),o.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx("span",{children:""})," Cloud Managed"]}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Your data is securely hosted on Supabase with point-in-time recovery enabled by default on the server side."}),o.jsx("p",{className:"text-sm text-gray-400",children:"Manual restores must be performed via the Supabase Dashboard SQL Editor or CLI tools to ensure data integrity and Row Level Security compliance."}),o.jsxs("div",{className:"mt-8 p-4 bg-blue-900/20 border border-blue-500/30 rounded text-xs text-blue-300",children:[o.jsx("strong",{children:"Note:"})," Client-side JSON import is disabled for security in the cloud environment."]})]})]})]})})},LO=()=>{const{history:t,toggleFavorite:e,isLoading:r}=Xt(),{t:n}=$t(),[s,i]=F.useState("all"),[a,A]=F.useState(null),l=s==="all"?t:t.filter(h=>h.is_favorite),c=h=>new Date(h).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=h=>{switch(h){case"tarot":return"";case"palmistry":return"";case"astrology":return"";case"numerology":return"";case"face-reading":return"";case"remedy":return"";case"matchmaking":return"";case"dream-analysis":return"";default:return""}};return o.jsxs("div",{className:"max-w-6xl mx-auto p-4 min-h-screen",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-2 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 transform group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),n("backToHome")]}),o.jsx("h2",{className:"text-3xl font-cinzel font-bold text-amber-300 drop-shadow-lg",children:"My Journey"}),o.jsx("p",{className:"text-amber-200/60 text-sm font-lora",children:"Your spiritual timeline and saved insights."})]}),o.jsxs("div",{className:"flex bg-gray-900/80 rounded-lg p-1 mt-4 md:mt-0 border border-amber-500/20 backdrop-blur-sm",children:[o.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${s==="all"?"bg-amber-600 text-white shadow-lg":"text-amber-200 hover:text-white hover:bg-gray-800"}`,children:"All Readings"}),o.jsx("button",{onClick:()=>i("favorites"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${s==="favorites"?"bg-amber-600 text-white shadow-lg":"text-amber-200 hover:text-white hover:bg-gray-800"}`,children:"Favorites"})]})]}),r?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-amber-500 mx-auto mb-4"}),o.jsx("p",{className:"text-amber-200 animate-pulse font-cinzel",children:"Summoning your history..."})]}):l.length===0?o.jsxs(nt,{className:"p-16 text-center bg-black/40 border-dashed border-amber-500/30",children:[o.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),o.jsx("p",{className:"text-amber-200/80 text-xl font-cinzel mb-2",children:"The Scroll is Empty"}),o.jsxs("p",{className:"text-amber-200/50 mb-6",children:["You haven't saved any ",s==="favorites"?"favorites":"readings"," yet."]}),o.jsx(ht,{to:"/home",children:o.jsx("button",{className:"px-8 py-3 bg-amber-700 hover:bg-amber-600 text-white rounded-lg font-bold transition-colors shadow-lg",children:"Begin a New Reading"})})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(h=>o.jsxs("div",{className:"relative group perspective-1000 h-full",children:[o.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-br from-amber-600 to-purple-900 rounded-xl blur opacity-0 group-hover:opacity-40 transition duration-500"}),o.jsx(nt,{className:"relative h-full bg-gray-900/90 border-amber-500/10 group-hover:border-amber-500/30 transition-all duration-300 flex flex-col cursor-pointer group-hover:-translate-y-1",children:o.jsxs("div",{className:"p-6 flex flex-col h-full",onClick:()=>A(h),children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-black/50 border border-amber-500/30 flex items-center justify-center text-xl shadow-inner",children:u(h.type)}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-cinzel font-bold text-amber-100 leading-tight",children:h.title}),o.jsx("p",{className:"text-[10px] text-amber-500 uppercase tracking-widest mt-0.5",children:h.subtitle||h.type})]})]}),o.jsx("button",{onClick:p=>{p.stopPropagation(),e(h.id)},className:`transform transition-all duration-300 hover:scale-110 p-1 rounded-full hover:bg-white/5 ${h.is_favorite?"text-amber-400":"text-gray-600 hover:text-amber-200"}`,title:"Toggle Favorite",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:h.is_favorite?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]}),o.jsxs("div",{className:"text-amber-100/70 font-lora italic border-l-2 border-amber-500/20 pl-4 mb-4 line-clamp-4 text-sm flex-grow",children:['"',h.content,'"']}),o.jsxs("div",{className:"flex justify-between items-center text-[10px] text-amber-200/40 border-t border-amber-500/10 pt-4 mt-auto",children:[o.jsx("span",{children:c(h.timestamp)}),o.jsxs("span",{className:"flex items-center gap-1 text-green-400/80 bg-green-900/20 px-2 py-0.5 rounded-full border border-green-500/20",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Saved"]})]})]})})]},h.id))}),a&&o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black/90 backdrop-blur-sm",children:o.jsxs("div",{className:"min-h-screen px-4 text-center",children:[o.jsx("div",{className:"fixed inset-0",onClick:()=>A(null)}),o.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:""}),o.jsxs("div",{className:"inline-block w-full max-w-4xl my-8 text-left align-middle transition-all transform relative",children:[o.jsx("button",{onClick:()=>A(null),className:"fixed top-4 right-4 md:absolute md:-top-2 md:-right-10 text-white hover:text-amber-400 z-50 bg-black/50 rounded-full p-2",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx(oi,{reading:a.content,title:a.title,subtitle:a.subtitle,imageUrl:a.image_url,chartData:a.meta_data})]})]})})]})},QO=()=>{var I;const{db:t}=qt(),{t:e,language:r}=$t(),{openPayment:n}=ni(),{saveReading:s,user:i}=Xt(),[a,A]=F.useState("oracle"),[l,c]=F.useState(null),[u,h]=F.useState(null),p=F.useRef(null),f=F.useRef(null),m=F.useRef(null),[w,B]=F.useState({name:"",dob:"",intent:""}),[x,y]=F.useState(!1),[C,k]=F.useState(0),[R,P]=F.useState(null),[M,U]=F.useState(!1),[H,$]=F.useState(""),[L,T]=F.useState(!1),[W,J]=F.useState(!1),le=F.useRef(null),ie=F.useRef(null),Z=i&&["master@glyphcircle.com","admin@glyphcircle.com"].includes(i.email),q=(I=t.services)==null?void 0:I.find(V=>V.id==="gemstones"),z=(q==null?void 0:q.price)||49;F.useEffect(()=>{const V=localStorage.getItem("glyph_user_details");if(V)try{const Y=JSON.parse(V);B(ee=>({...ee,name:Y.name||"",dob:Y.dob||""}))}catch{}},[]),F.useEffect(()=>()=>{le.current&&le.current.stop(),ie.current&&ie.current.close()},[]);const se=async()=>{var V;if(!(!((V=R==null?void 0:R.mantra)!=null&&V.sanskrit)||L||W)){J(!0),$("");try{ie.current||(ie.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}));const Y=ie.current;Y.state==="suspended"&&await Y.resume();const ee=await c6(R.mantra.sanskrit),re=Y.createBufferSource();re.buffer=ee,re.connect(Y.destination),re.onended=()=>{T(!1),le.current=null},re.start(),le.current=re,T(!0)}catch(Y){console.error("Audio playback error:",Y),$("The Oracle's voice is distant. Please check your connection.")}finally{J(!1)}}},ue=()=>{le.current&&(le.current.stop(),le.current=null,T(!1))},_=async()=>{if(!w.name||!w.dob||!w.intent){$("Please complete all fields.");return}localStorage.setItem("glyph_user_details",JSON.stringify({name:w.name,dob:w.dob})),y(!0),k(0),P(null),$(""),U(!1);const V=setInterval(()=>k(Y=>Y>=90?Y:Y+5),250);try{const Y=await d6(w.name,w.dob,w.intent,r==="hi"?"Hindi":"English");clearInterval(V),k(100),P(Y),s({type:"astrology",title:`Gemstone for ${w.intent}`,content:Y.fullReading,subtitle:Y.primaryGem.name,image_url:"https://images.unsplash.com/photo-1615485290382-441e4d049cb5?q=80&w=400"}),setTimeout(()=>{var ee;return(ee=f.current)==null?void 0:ee.scrollIntoView({behavior:"smooth",block:"start"})},500)}catch(Y){clearInterval(V),$(Y.message||"The oracle is silent.")}finally{y(!1)}};return o.jsx("div",{className:"min-h-screen py-8 px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-6 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e("backToHome")]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-cinzel font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-200 mb-2",children:"Crystal Oracle & Mantra Guide"}),o.jsx("p",{className:"text-amber-100/60 font-lora",children:"Discover your power stone and sacred sound vibration."})]}),o.jsx("div",{className:"flex justify-center mb-10",children:o.jsxs("div",{className:"bg-gray-900/80 p-1 rounded-full border border-amber-500/30 flex",children:[o.jsx("button",{onClick:()=>{A("oracle"),c(null)},className:`px-6 py-2 rounded-full text-sm font-bold transition-all ${a==="oracle"?"bg-amber-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:" Personal Reading"}),o.jsx("button",{onClick:()=>{A("library"),c(null)},className:`px-6 py-2 rounded-full text-sm font-bold transition-all ${a==="library"?"bg-amber-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:" Stone Library"})]})}),a==="oracle"&&o.jsxs("div",{className:"flex flex-col gap-12 items-center",children:[!R&&o.jsx("div",{className:"w-full max-w-xl",children:o.jsxs(nt,{className:"p-8 border-l-4 border-emerald-500 shadow-[0_0_30px_rgba(16,185,129,0.1)] bg-gray-900/80 backdrop-blur-xl",children:[o.jsx("h3",{className:"text-xl font-bold text-emerald-300 mb-6 font-cinzel text-center border-b border-gray-700 pb-4",children:"Consult the Oracle"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1 font-bold tracking-wider",children:"Your Name"}),o.jsx("input",{ref:p,value:w.name,onChange:V=>B({...w,name:V.target.value}),className:"w-full bg-black/50 border border-gray-600 rounded p-3 text-white focus:border-emerald-500 transition-all placeholder-gray-600",placeholder:"Enter full name"})]}),o.jsx("div",{children:o.jsx(Xo,{value:w.dob,onChange:V=>B({...w,dob:V})})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1 font-bold tracking-wider",children:"What do you seek?"}),o.jsx("textarea",{value:w.intent,onChange:V=>B({...w,intent:V.target.value}),className:"w-full bg-black/50 border border-gray-600 rounded p-3 text-white focus:border-emerald-500 h-24 resize-none transition-all placeholder-gray-600",placeholder:"e.g. Wealth, Health, Harmony..."})]}),o.jsx(ft,{onClick:_,disabled:x,className:"w-full bg-gradient-to-r from-emerald-700 to-teal-800 hover:from-emerald-600 hover:to-teal-700 shadow-lg py-4 text-lg font-cinzel",children:x?"Channeling Energies...":"Reveal My Gemstone"}),H&&o.jsx("p",{className:"text-red-400 text-sm text-center bg-red-900/20 p-2 rounded border border-red-500/20 animate-pulse",children:H})]})]})}),o.jsxs("div",{ref:f,className:"w-full max-w-5xl min-h-[200px]",children:[x&&o.jsx("div",{className:"mt-8 max-w-md mx-auto",children:o.jsx(oa,{progress:C,message:"Analyzing Planetary Alignments..."})}),R&&!x&&o.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-emerald-500/40 rounded-2xl p-6 relative overflow-hidden shadow-2xl group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-emerald-500/10 rounded-full blur-3xl -z-10 pointer-events-none"}),o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h4",{className:"text-xs text-emerald-400 uppercase tracking-[0.2em] font-bold",children:"Recommended Gemstone"}),o.jsx("span",{className:"text-4xl",children:""})]}),o.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-teal-700 shadow-[0_0_20px_rgba(16,185,129,0.4)] border-2 border-white/20 flex-shrink-0 animate-pulse-glow"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-cinzel font-black text-white leading-tight",children:R.primaryGem.name}),o.jsx("p",{className:"text-emerald-200 text-lg italic font-serif",children:R.primaryGem.sanskritName})]})]}),o.jsxs("div",{className:"text-gray-300 text-sm bg-white/5 p-4 rounded-xl border border-white/10 space-y-3 font-lora",children:[o.jsxs("p",{children:[o.jsx("strong",{className:"text-emerald-400 block text-xs uppercase mb-1 font-sans tracking-wider",children:"Why this stone?"})," ",R.primaryGem.reason]}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-emerald-400 block text-xs uppercase mb-1 font-sans tracking-wider",children:"Wearing Method"})," ",R.primaryGem.wearingMethod]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-500/40 rounded-2xl p-6 relative overflow-hidden shadow-2xl flex flex-col justify-between",children:[o.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-purple-500/10 rounded-full blur-3xl -z-10 pointer-events-none"}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h4",{className:"text-xs text-purple-400 uppercase tracking-[0.2em] font-bold",children:"Sacred Mantra"}),o.jsx("span",{className:"text-4xl",children:""})]}),o.jsxs("div",{className:"text-center my-8",children:[o.jsx("p",{className:"text-3xl md:text-4xl font-bold text-amber-100 font-cinzel drop-shadow-md leading-relaxed py-2",children:R.mantra.sanskrit}),o.jsxs("p",{className:"text-base text-gray-400 mt-2 italic font-lora",children:['"',R.mantra.pronunciation,'"']})]})]}),o.jsx("div",{className:"flex gap-3 justify-center",children:o.jsx("button",{onClick:L?ue:se,disabled:W,className:`px-6 py-2 rounded-lg text-sm flex items-center gap-2 transition-all border ${L?"bg-red-900/40 border-red-500/50 text-red-200 shadow-[0_0_15px_rgba(239,68,68,0.3)]":"bg-purple-900/30 hover:bg-purple-800/50 border-purple-500/30 text-purple-200"}`,children:W?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-4 h-4 border-2 border-purple-200 border-t-transparent rounded-full animate-spin"})," Connecting..."]}):o.jsx("span",{children:L?" Stop":" Listen"})})}),H&&o.jsx("p",{className:"text-[10px] text-red-400 text-center mt-2 font-mono uppercase tracking-tighter",children:H})]})]}),o.jsx("div",{className:"w-full",children:M?o.jsx(oi,{reading:R.fullReading,title:"Gemstone & Mantra Report",subtitle:"Vedic Remedial Measures"}):o.jsxs(nt,{className:"bg-gradient-to-r from-gray-900 to-gray-800 border-amber-500/30 p-8 text-center relative overflow-hidden group",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("h3",{className:"text-2xl font-cinzel font-bold text-amber-200 mb-4",children:"Unlock Complete Vedic Analysis"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-left max-w-xl mx-auto mb-8 text-sm text-gray-300",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-green-400",children:""})," Detailed Planetary Positions"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-green-400",children:""})," Prana Pratishtha Rituals"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-green-400",children:""})," Lifetime Prediction"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-green-400",children:""})," Metal & Day Selection"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-green-400",children:""})," Diet Restrictions"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-green-400",children:""})," Downloadable PDF"]})]}),o.jsx(ft,{onClick:()=>n(()=>U(!0),"Gemstone Report",z),className:"px-12 py-4 text-lg bg-gradient-to-r from-amber-600 to-amber-800 hover:from-amber-500 hover:to-amber-700 shadow-xl border-amber-400/50",children:"Read More (Payment Required)"}),Z&&o.jsx("button",{onClick:()=>U(!0),className:"block mx-auto mt-4 text-xs text-amber-500 underline opacity-50 hover:opacity-100",children:"Admin Bypass"})]})]})})]})]})]}),a==="library"&&o.jsxs("div",{ref:m,children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 animate-fade-in-up",children:(t.gemstones||[]).map(V=>o.jsx("div",{onClick:()=>h(V),className:"group bg-gray-900 border border-gray-700 hover:border-amber-500/50 rounded-xl overflow-hidden cursor-pointer transition-all hover:-translate-y-1 shadow-md",children:o.jsxs("div",{className:"h-40 bg-gray-800 relative",children:[o.jsx(Ya,{src:V.image,alt:V.name,className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity",containerClassName:"w-full h-full"}),o.jsxs("div",{className:"absolute bottom-3 left-3",children:[o.jsx("span",{className:"text-white font-bold font-cinzel text-lg block leading-none",children:V.name}),o.jsx("span",{className:"text-amber-400 text-[10px] uppercase font-bold tracking-widest",children:V.planet})]})]})},V.id))}),u&&o.jsx(na,{isVisible:!!u,onClose:()=>h(null),children:o.jsxs("div",{className:"p-6 bg-gray-900 text-amber-50",children:[o.jsx("h2",{className:"text-3xl font-bold text-white font-cinzel mb-2",children:u.name}),o.jsx("p",{className:"text-amber-400 font-bold uppercase text-xs mb-4",children:u.planet}),o.jsxs("div",{className:"space-y-4 text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{className:"text-amber-500",children:"Sanskrit:"})," ",u.sanskrit]}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-amber-500",children:"Benefits:"})," ",u.benefits]}),o.jsxs("div",{className:"bg-black/40 p-4 rounded border border-purple-500/30",children:[o.jsx("p",{className:"text-purple-300 font-bold mb-1",children:"Sacred Mantra"}),o.jsx("p",{className:"text-lg font-cinzel",children:u.mantra})]})]})]})})]})]})})},TO=()=>{var R;const{t,language:e}=$t(),{openPayment:r}=ni(),{saveReading:n,user:s}=Xt(),{db:i}=qt(),[a,A]=F.useState(0),[l,c]=F.useState([]),[u,h]=F.useState(null),[p,f]=F.useState(!1),[m,w]=F.useState(!1),B=[{q:"Body Frame",options:["Thin/Lean (Vata)","Medium/Muscular (Pitta)","Heavy/Broad (Kapha)"]},{q:"Skin Texture",options:["Dry/Rough","Warm/Oily","Thick/Cool"]},{q:"Energy Level",options:["Variable/Bursts","Moderate/Focused","Steady/Slow"]},{q:"Sleep Pattern",options:["Light/Interrupted","Sound/Short","Deep/Heavy"]},{q:"Digestion",options:["Irregular/Gassy","Strong/Intense","Slow/Heavy"]}],x=P=>{c(M=>[...M,`${B[a].q}: ${P}`]),a<B.length-1?A(a+1):y([...l,`${B[a].q}: ${P}`])},y=async P=>{f(!0);try{const M=await h6(P.join(", "),e==="hi"?"Hindi":"English");h(M),n({type:"remedy",title:`Ayurvedic Profile: ${M.dosha}`,content:M.fullReading,subtitle:"Dosha Analysis",image_url:"https://images.unsplash.com/photo-1540553016722-983e48a2cd10?q=80&w=800",meta_data:M.breakdown})}catch(M){console.error(M)}finally{f(!1)}},C=(R=i.services)==null?void 0:R.find(P=>P.id==="ayurveda"),k=(C==null?void 0:C.price)||59;return o.jsxs("div",{className:"min-h-screen py-8 px-4",children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-6 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),t("backToHome")]}),o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-cinzel font-bold text-green-300 mb-2",children:"Ayurvedic Wisdom"}),o.jsx("p",{className:"text-amber-100/60 font-lora",children:"Discover your Prakriti (Nature)"})]}),!u&&!p&&o.jsxs(nt,{className:"p-8 border-l-4 border-green-500 bg-gray-900/80 max-w-lg mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-xs text-green-400 uppercase tracking-widest mb-2",children:[o.jsxs("span",{children:["Question ",a+1," of ",B.length]}),o.jsxs("span",{children:[(a/B.length*100).toFixed(0),"%"]})]}),o.jsx("div",{className:"w-full h-1 bg-gray-700 rounded-full",children:o.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${a/B.length*100}%`}})})]}),o.jsx("h3",{className:"text-xl font-bold text-white mb-6 text-center",children:B[a].q}),o.jsx("div",{className:"space-y-3",children:B[a].options.map((P,M)=>o.jsx("button",{onClick:()=>x(P),className:"w-full p-4 bg-black/40 border border-green-500/30 rounded-lg hover:bg-green-900/30 hover:border-green-400 transition-all text-left text-amber-100",children:P},M))})]}),p&&o.jsx("div",{className:"max-w-md mx-auto",children:o.jsx(oa,{progress:90,message:"Analyzing Constitution..."})}),u&&!p&&o.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(nt,{className:"bg-gradient-to-br from-green-900 to-black p-6 border border-green-500/30",children:[o.jsx("h2",{className:"text-3xl font-cinzel font-bold text-white mb-1",children:u.dosha}),o.jsx("p",{className:"text-green-300 text-xs uppercase tracking-widest mb-6",children:"Dominant Constitution"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Vata (Air)"}),o.jsxs("span",{children:[u.breakdown.vata,"%"]})]}),o.jsx("div",{className:"h-2 bg-gray-800 rounded",children:o.jsx("div",{className:"h-full bg-blue-400",style:{width:`${u.breakdown.vata}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Pitta (Fire)"}),o.jsxs("span",{children:[u.breakdown.pitta,"%"]})]}),o.jsx("div",{className:"h-2 bg-gray-800 rounded",children:o.jsx("div",{className:"h-full bg-red-400",style:{width:`${u.breakdown.pitta}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Kapha (Earth)"}),o.jsxs("span",{children:[u.breakdown.kapha,"%"]})]}),o.jsx("div",{className:"h-2 bg-gray-800 rounded",children:o.jsx("div",{className:"h-full bg-yellow-600",style:{width:`${u.breakdown.kapha}%`}})})]})]})]}),o.jsxs(nt,{className:"p-6 bg-black/60 border border-green-500/20",children:[o.jsx("h3",{className:"font-bold text-green-300 mb-4",children:"Dietary Recommendations"}),o.jsx("ul",{className:"space-y-2 text-sm text-gray-300",children:u.diet.slice(0,4).map((P,M)=>o.jsxs("li",{children:[" ",P]},M))}),!m&&o.jsx("div",{className:"mt-4 p-2 bg-green-900/20 text-center text-xs text-green-400",children:"Unlock full report for recipes & lifestyle plan."})]})]}),m?o.jsx(oi,{reading:u.fullReading,title:`Ayurvedic Analysis: ${u.dosha}`,imageUrl:$r.resolveImage("https://images.unsplash.com/photo-1540553016722-983e48a2cd10?q=80&w=800")}):o.jsx("div",{className:"text-center",children:o.jsx(ft,{onClick:()=>r(()=>w(!0),"Ayurveda Report",k),className:"bg-green-700 hover:bg-green-600 px-8 py-3",children:"Unlock Full Health Report"})})]})]})]})},PO=["New Moon","Waxing Crescent","First Quarter","Waxing Gibbous","Full Moon","Waning Gibbous","Last Quarter","Waning Crescent"],RO=()=>{const{user:t}=Xt(),{db:e,createEntry:r,refresh:n}=qt(),[s,i]=F.useState(""),[a,A]=F.useState(""),[l,c]=F.useState("");F.useEffect(()=>{const p=new Date,f=29.53,m=new Date("2023-01-21").getTime(),x=(p.getTime()-m)/(1e3*60*60*24)%f,y=Math.floor(x/(f/8));c(PO[y%8])},[]);const u=async()=>{!s||!t||(await r("mood_entries",{user_id:t.id,mood:s,moon_phase:l,notes:a,created_at:new Date().toISOString()}),alert("Journal entry saved!"),i(""),A(""),n())},h=(e.mood_entries||[]).filter(p=>p.user_id===(t==null?void 0:t.id)).reverse();return o.jsxs("div",{className:"min-h-screen py-8 px-4",children:[o.jsx(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-6",children:" Back to Sanctuary"}),o.jsxs("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-200 rounded-full shadow-[0_0_50px_rgba(255,255,255,0.2)] mb-4 flex items-center justify-center text-4xl bg-gradient-to-tr from-gray-900 via-gray-400 to-white text-black",children:""}),o.jsx("h2",{className:"text-3xl font-cinzel font-bold text-white",children:l}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Current Phase"})]}),o.jsxs(nt,{className:"p-6 bg-gray-900/80 border-gray-700",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"How do you feel?"}),o.jsx("div",{className:"flex justify-between mb-6",children:["","","","",""].map(p=>o.jsx("button",{onClick:()=>i(p),className:`text-3xl p-2 rounded-full transition-transform hover:scale-125 ${s===p?"bg-white/20 scale-125":""}`,children:p},p))}),o.jsx("textarea",{value:a,onChange:p=>A(p.target.value),placeholder:"Reflect on your emotions...",className:"w-full bg-black/40 border border-gray-600 rounded p-3 text-white h-32 mb-4 focus:border-amber-500 outline-none"}),o.jsx(ft,{onClick:u,className:"w-full bg-blue-900 hover:bg-blue-800",children:"Log Entry"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xl font-bold text-amber-200 mb-2",children:"Your Lunar Cycle"}),h.length===0?o.jsx("p",{className:"text-gray-500 italic",children:"No entries yet."}):o.jsx("div",{className:"max-h-[600px] overflow-y-auto custom-scrollbar space-y-3",children:h.map(p=>o.jsxs("div",{className:"bg-black/40 p-4 rounded-lg border border-gray-800 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-widest",children:new Date(p.created_at).toLocaleDateString()}),o.jsx("div",{className:"text-white text-sm mt-1",children:p.notes}),o.jsx("div",{className:"text-xs text-blue-400 mt-1",children:p.moon_phase})]}),o.jsx("div",{className:"text-2xl",children:p.mood})]},p.id))})]})]})]})},DO=()=>{var x;const{t,language:e}=$t(),{openPayment:r}=ni(),{db:n}=qt(),[s,i]=F.useState(""),[a,A]=F.useState(""),[l,c]=F.useState(null),[u,h]=F.useState(!1),[p,f]=F.useState(!1),m=async()=>{if(!(!s||!a)){h(!0);try{const y=await f6(s,a,e);c(y)}finally{h(!1)}}},w=(x=n.services)==null?void 0:x.find(y=>y.id==="muhurat"),B=(w==null?void 0:w.price)||29;return o.jsxs("div",{className:"min-h-screen py-8 px-4",children:[o.jsx(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-6",children:" Back"}),o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs(nt,{className:"p-8 bg-gray-900/90 border-amber-500/30",children:[o.jsx("h1",{className:"text-3xl font-cinzel font-bold text-amber-300 text-center mb-6",children:"Shubh Muhurat"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 uppercase mb-1",children:"Activity"}),o.jsx("input",{value:s,onChange:y=>i(y.target.value),className:"w-full bg-black/50 border border-gray-600 rounded p-3 text-white",placeholder:"e.g. Buying Car, Starting Business"})]}),o.jsx("div",{children:o.jsx(Xo,{value:a,onChange:A})}),o.jsx(ft,{onClick:m,disabled:u,className:"w-full bg-amber-700 hover:bg-amber-600",children:u?"Calculating...":"Find Best Time"})]})]}),l&&o.jsx("div",{className:"mt-8 animate-fade-in-up",children:o.jsxs(nt,{className:"p-6 bg-black/60 border-green-500/30 text-center",children:[o.jsxs("h3",{className:"text-xl font-bold text-green-400 mb-2",children:[l.rating," Time Found"]}),o.jsx("div",{className:"text-4xl font-bold text-white mb-4",children:l.bestTime}),o.jsxs("p",{className:"text-gray-300 italic mb-6",children:['"',l.reason,'"']}),p?o.jsx(oi,{reading:l.fullReading,title:"Muhurat Analysis"}):o.jsx(ft,{onClick:()=>r(()=>f(!0),"Muhurat Report",B),className:"w-full bg-green-800",children:"Unlock Detailed Analysis"})]})})]})]})},OO=()=>{var w;const{openPayment:t}=ni(),{db:e}=qt(),[r,n]=F.useState({name:"",dob:"",tob:"",pob:""}),[s,i]=F.useState({name:"",dob:"",tob:"",pob:""}),[a,A]=F.useState(null),[l,c]=F.useState(!1),[u,h]=F.useState(!1),p=async()=>{c(!0);try{const B=await p6(r,s);A(B)}finally{c(!1)}},f=(w=e.services)==null?void 0:w.find(B=>B.id==="cosmic-sync"),m=(f==null?void 0:f.price)||69;return o.jsxs("div",{className:"min-h-screen py-8 px-4",children:[o.jsx(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-6",children:" Back"}),o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-cinzel font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-600 mb-8",children:"Cosmic Sync"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[o.jsxs(nt,{className:"p-6 border-l-4 border-pink-500",children:[o.jsx("h3",{className:"font-bold text-pink-300 mb-4",children:"Person A"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{value:r.name,onChange:B=>n({...r,name:B.target.value}),placeholder:"Name",className:"w-full bg-black/50 border border-gray-600 p-2 rounded text-white"}),o.jsx(Xo,{value:r.dob,onChange:B=>n({...r,dob:B})}),o.jsx(Uw,{value:r.tob,date:r.dob,onChange:B=>n({...r,tob:B})}),o.jsx(Iw,{value:r.pob,onChange:B=>n({...r,pob:B})})]})]}),o.jsxs(nt,{className:"p-6 border-r-4 border-purple-500",children:[o.jsx("h3",{className:"font-bold text-purple-300 mb-4 text-right",children:"Person B"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{value:s.name,onChange:B=>i({...s,name:B.target.value}),placeholder:"Name",className:"w-full bg-black/50 border border-gray-600 p-2 rounded text-white text-right"}),o.jsx(Xo,{value:s.dob,onChange:B=>i({...s,dob:B})}),o.jsx(Uw,{value:s.tob,date:s.dob,onChange:B=>i({...s,tob:B})}),o.jsx(Iw,{value:s.pob,onChange:B=>i({...s,pob:B})})]})]})]}),o.jsx("div",{className:"text-center mb-12",children:o.jsx(ft,{onClick:p,disabled:l,className:"bg-gradient-to-r from-pink-600 to-purple-600 px-12 py-4 text-lg rounded-full",children:l?"Aligning Stars...":"Analyze Synergy"})}),a&&o.jsx("div",{className:"animate-fade-in-up",children:o.jsxs(nt,{className:"p-8 text-center bg-black/80 border-amber-500/30",children:[o.jsxs("div",{className:"text-6xl font-black text-white mb-2",children:[a.compatibilityScore,"%"]}),o.jsx("h3",{className:"text-2xl font-cinzel text-pink-300 mb-6",children:a.relationshipType}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-left mb-8",children:[o.jsxs("div",{className:"bg-green-900/20 p-4 rounded border border-green-500/20",children:[o.jsx("h4",{className:"text-green-400 font-bold mb-2",children:"Strengths"}),o.jsx("ul",{className:"text-sm text-gray-300 list-disc pl-4",children:a.strengths.map((B,x)=>o.jsx("li",{children:B},x))})]}),o.jsxs("div",{className:"bg-red-900/20 p-4 rounded border border-red-500/20",children:[o.jsx("h4",{className:"text-red-400 font-bold mb-2",children:"Challenges"}),o.jsx("ul",{className:"text-sm text-gray-300 list-disc pl-4",children:a.challenges.map((B,x)=>o.jsx("li",{children:B},x))})]})]}),u?o.jsx(oi,{reading:a.fullReading,title:"Cosmic Synergy Report"}):o.jsx(ft,{onClick:()=>t(()=>h(!0),"Synastry Report",m),className:"w-full bg-pink-700",children:"Unlock Full Karmic Report"})]})})]})]})},MO=()=>{const{t}=$t(),[e,r]=F.useState([]),[n,s]=F.useState(null),[i,a]=F.useState(!1);F.useEffect(()=>{try{const c=s4("You are the Voice Oracle. Speak concisely and mystically.","Voice");s(c)}catch(c){console.error(c)}},[]);const A=c=>{window.speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(c);u.pitch=.8,u.rate=.9,u.onstart=()=>a(!0),u.onend=()=>a(!1),window.speechSynthesis.speak(u)},l=async c=>{if(r(u=>[...u,{sender:"user",text:c}]),n){const h=(await n.sendMessage({message:c})).text||"I hear you.";r(p=>[...p,{sender:"oracle",text:h}]),A(h)}};return o.jsxs("div",{className:"min-h-screen py-8 px-4 flex flex-col items-center",children:[o.jsx(ht,{to:"/home",className:"mb-8 text-amber-200",children:" Silence"}),o.jsxs("div",{className:"w-full max-w-md relative",children:[o.jsx("div",{className:`w-48 h-48 mx-auto rounded-full bg-gradient-to-b from-purple-900 to-black border-4 border-amber-500/50 shadow-[0_0_50px_rgba(139,92,246,0.5)] flex items-center justify-center transition-all duration-500 ${i?"scale-110 shadow-[0_0_80px_rgba(139,92,246,0.8)]":""}`,children:o.jsx("span",{className:"text-6xl filter drop-shadow-lg",children:""})}),o.jsx("div",{className:"mt-12 h-64 overflow-y-auto custom-scrollbar bg-black/40 rounded-xl p-4 border border-white/10 space-y-4",children:e.map((c,u)=>o.jsx("div",{className:`p-3 rounded-lg text-sm ${c.sender==="user"?"bg-gray-800 ml-auto max-w-[80%]":"bg-purple-900/50 mr-auto max-w-[80%] text-amber-100"}`,children:c.text},u))}),o.jsx("div",{className:"mt-8 flex justify-center",children:o.jsx(jN,{onResult:l,className:"scale-150"})}),o.jsx("p",{className:"text-center text-gray-500 text-xs mt-4",children:"Tap microphone to speak to the Oracle"})]})]})},HO=()=>{const{t}=$t(),e=F.useMemo(()=>{const r=new Date,n=r.getHours(),s=r.getMinutes(),i=n*60+s,a={1:{label:"07:30 - 09:00",start:450,end:540},2:{label:"15:00 - 16:30",start:900,end:990},3:{label:"12:00 - 13:30",start:720,end:810},4:{label:"13:30 - 15:00",start:810,end:900},5:{label:"10:30 - 12:00",start:630,end:720},6:{label:"09:00 - 10:30",start:540,end:630},0:{label:"16:30 - 18:00",start:990,end:1080}};let A=r.getDay(),l=a[A],c=i>l.end,u=i>=l.start&&i<=l.end;c&&(A=(A+1)%7,l=a[A]);const h=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"],p=Math.floor((r.getTime()-new Date(r.getFullYear(),0,0).getTime())/864e5),f=Math.floor(p/2.25)%12;return{date:r.toLocaleDateString(void 0,{weekday:"long",day:"numeric",month:"short"}),rahuKaal:l.label,isNext:c,isDuring:u,moonSign:h[f]}},[]);return o.jsxs("div",{className:"bg-skin-surface border border-skin-border rounded-lg p-3 mb-6 flex flex-wrap justify-between items-center text-xs text-skin-text/80 animate-fade-in-up shadow-sm gap-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-skin-accent font-bold uppercase tracking-widest mr-2",children:"Today's Panchang"}),o.jsx("span",{className:"hidden xs:inline",children:e.date})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 sm:gap-6",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"opacity-60",children:" Moon:"}),o.jsx("strong",{className:"text-skin-accent",children:e.moonSign})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsxs("span",{className:"opacity-60",children:[" ",e.isNext?"Next":""," Rahu Kaal:"]}),o.jsx("strong",{className:`${e.isDuring?"text-red-400":"text-skin-accent"}`,children:e.rahuKaal})]}),e.isDuring&&o.jsxs("span",{className:"flex h-2 w-2 relative",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]})]})]})]})},KO=()=>{const{user:t}=Xt();if(!t||!t.gamification)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("p",{className:"text-amber-200/50 font-cinzel",children:"The records are clouded..."})});const{karma:e,streak:r,unlockedSigils:n,readingsCount:s}=t.gamification,i=Pv(e),a=DC(e),A=Math.min(100,Math.max(0,(e-i.minKarma)/(a.minKarma-i.minKarma)*100)),l=c=>{switch(c){case"awakening":return Math.min(100,s/1*100);case"consistent_soul":return Math.min(100,r/3*100);case"dedicated_devotee":return Math.min(100,r/7*100);case"tarot_master":return Math.min(100,e/500*100);case"high_priest":return Math.min(100,e/2e3*100);default:return 0}};return o.jsx("div",{className:"min-h-screen py-8 px-4 animate-fade-in-up",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("header",{className:"mb-12 text-center",children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200/60 hover:text-amber-200 transition-colors mb-6 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),o.jsx("h1",{className:"text-5xl font-cinzel font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-purple-300 to-amber-200 mb-2 drop-shadow-lg",children:"Mystic Achievements"}),o.jsx("p",{className:"text-amber-100/60 font-lora italic tracking-wider",children:"Your soul's progress through the cosmic hierarchy."})]}),o.jsxs(nt,{className:"mb-10 p-8 border-amber-500/30 bg-black/40 backdrop-blur-xl relative overflow-hidden group",children:[o.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-purple-600/10 rounded-full blur-3xl pointer-events-none group-hover:bg-purple-600/20 transition-colors duration-1000"}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 relative z-10",children:[o.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-amber-400 via-amber-600 to-purple-900 p-1 shadow-[0_0_40px_rgba(245,158,11,0.3)] flex-shrink-0 animate-pulse-glow",children:o.jsxs("div",{className:"w-full h-full rounded-full bg-gray-900 flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-gray-500 text-[10px] uppercase font-bold tracking-widest",children:"Level"}),o.jsx("span",{className:"text-5xl font-cinzel font-black text-amber-200",children:i.level})]})}),o.jsxs("div",{className:"flex-grow w-full",children:[o.jsxs("div",{className:"flex justify-between items-end mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-cinzel font-bold text-amber-100",children:i.title}),o.jsx("p",{className:"text-amber-500/60 text-xs font-mono uppercase tracking-[0.2em]",children:"Ascension Path"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-2xl font-mono font-bold text-white",children:e}),o.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"Karma"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 uppercase font-bold mb-2 tracking-widest",children:[o.jsxs("span",{children:["Progress to ",a.title]}),o.jsxs("span",{children:[A.toFixed(0),"%"]})]}),o.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden border border-gray-700 p-[1px]",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-amber-600 via-pink-600 to-purple-600 rounded-full transition-all duration-1000 shadow-[0_0_15px_rgba(219,39,119,0.5)]",style:{width:`${A}%`}})}),o.jsxs("p",{className:"text-[10px] text-gray-600 mt-2 text-right italic",children:["Gain ",a.minKarma-e," more Karma to ascend."]})]})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Df.map(c=>{const u=n.includes(c.id),h=l(c.id);return o.jsxs(nt,{className:`
                  relative p-6 flex flex-col items-center text-center transition-all duration-500 group
                  ${u?"bg-gradient-to-b from-gray-900/80 to-purple-900/20 border-amber-500/40 shadow-[0_0_30px_rgba(139,92,246,0.1)]":"bg-black/20 border-gray-800 opacity-60 grayscale"}
                `,children:[o.jsx("div",{className:`
                  text-5xl mb-4 transition-transform duration-700
                  ${u?"animate-float drop-shadow-[0_0_10px_rgba(251,191,36,0.5)]":"opacity-40"}
                `,children:c.icon}),o.jsx("h3",{className:`text-lg font-cinzel font-bold mb-1 ${u?"text-amber-200":"text-gray-500"}`,children:c.name}),o.jsx("p",{className:"text-xs text-gray-400 mb-6 font-lora leading-relaxed min-h-[3em]",children:c.description}),!u&&o.jsxs("div",{className:"w-full mt-auto",children:[o.jsx("div",{className:"h-1 w-full bg-gray-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-amber-500/40 transition-all duration-1000",style:{width:`${h}%`}})}),o.jsxs("span",{className:"text-[9px] text-gray-600 mt-1 block uppercase font-bold tracking-tighter",children:["Progress: ",h.toFixed(0),"%"]})]}),u&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsxs("span",{className:"flex h-2 w-2 relative",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-amber-500"})]})})]},c.id)})})]})})},VO=()=>{const{t}=$t(),[e,r]=F.useState("imperial");return o.jsx("div",{className:"min-h-screen py-8 px-4 bg-[#050510]",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-10 border-b border-white/10 pb-6",children:[o.jsxs("div",{children:[o.jsx(ht,{to:"/admin/config",className:"text-amber-500 hover:text-amber-400 text-xs font-mono uppercase tracking-[0.3em] transition-colors",children:" Return to Sanctum Config"}),o.jsx("h1",{className:"text-4xl font-cinzel font-black text-white mt-3 tracking-wider",children:"Celestial Blueprint"})]}),o.jsx("div",{className:"flex gap-4",children:o.jsx("button",{onClick:()=>window.print(),className:"bg-amber-600 border border-amber-400 text-white px-8 py-2.5 rounded-full font-bold text-xs uppercase tracking-widest hover:bg-amber-500 transition-all shadow-[0_0_20px_rgba(245,158,11,0.3)]",children:"Consecrate Template"})})]}),o.jsxs("div",{className:"grid lg:grid-cols-4 gap-10",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs(nt,{className:"p-6 bg-gray-900/50 border-gray-800 backdrop-blur-xl",children:[o.jsx("h3",{className:"text-amber-100 font-bold uppercase text-[10px] tracking-[0.3em] mb-6 border-b border-white/5 pb-2",children:"Sacred Architect"}),o.jsx("div",{className:"grid grid-cols-1 gap-3",children:["imperial","sovereign","ancient","minimal"].map(n=>o.jsxs("button",{onClick:()=>r(n),className:`py-3 px-4 text-xs uppercase font-black rounded-lg border transition-all text-left flex justify-between items-center ${e===n?"bg-amber-600 border-amber-400 text-white shadow-xl scale-[1.02]":"bg-black/40 border-gray-700 text-gray-500 hover:border-gray-500"}`,children:[o.jsxs("span",{children:[n," Edition"]}),e===n&&o.jsx("span",{className:"text-lg",children:""})]},n))})]}),o.jsxs("div",{className:"p-6 bg-amber-900/10 border border-amber-500/20 rounded-2xl",children:[o.jsx("h4",{className:"text-amber-400 text-[10px] font-black uppercase tracking-widest mb-3",children:"Symmetry Guide"}),o.jsx("p",{className:"text-[11px] text-amber-200/60 font-lora italic leading-relaxed",children:'"The frame of a destiny must be forged in gold and truth. Every line reflects a cosmic boundary."'})]})]}),o.jsxs("div",{className:"lg:col-span-3 flex justify-center bg-[#070712] rounded-[3rem] p-12 border border-white/5 overflow-hidden shadow-2xl relative",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,rgba(212,175,55,0.08)_0%,transparent_80%)] pointer-events-none"}),o.jsxs("div",{className:"relative report-canvas w-[210mm] h-[297mm] min-w-[210mm] overflow-hidden transform scale-[0.6] md:scale-[0.7] origin-top print:scale-100 print:m-0 print:border-none shadow-[0_60px_120px_rgba(0,0,0,0.6)] transition-all duration-700",children:[o.jsxs("div",{className:`absolute inset-0 z-10 pointer-events-none transition-all duration-500 ${e==="imperial"?"border-[32px] border-double border-[#d4af37]/40 shadow-[inset_0_0_60px_rgba(139,92,5,0.1)]":e==="sovereign"?"border-[16px] border-[#d4af37] ring-[8px] ring-inset ring-[#d4af37]/20":"border-8 border-[#d4af37]/20"}`,children:[o.jsx("div",{className:"absolute top-0 left-0 w-48 h-48 border-t-8 border-l-8 border-[#d4af37] rounded-tl-[100px] opacity-80 -translate-x-12 -translate-y-12"}),o.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 border-t-8 border-r-8 border-[#d4af37] rounded-tr-[100px] opacity-80 translate-x-12 -translate-y-12"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 border-b-8 border-l-8 border-[#d4af37] rounded-bl-[100px] opacity-80 -translate-x-12 translate-y-12"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 border-b-8 border-r-8 border-[#d4af37] rounded-br-[100px] opacity-80 translate-x-12 translate-y-12"}),o.jsx("div",{className:"absolute inset-8 border border-[#d4af37]/30 rounded-sm"})]}),o.jsxs("div",{className:"relative z-20 w-full pt-32 pb-20 flex flex-col items-center",children:[o.jsxs("div",{className:"flex items-center gap-12 mb-10 w-full justify-center",children:[o.jsx("div",{className:"h-[2px] w-48 bg-gradient-to-r from-transparent to-[#d4af37]"}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute -inset-4 bg-[#d4af37]/20 rounded-full blur-xl group-hover:bg-[#d4af37]/30 transition-all"}),o.jsxs("div",{className:"w-40 h-40 bg-[#0d0d0d] rounded-full border-[6px] border-[#d4af37] shadow-[0_0_50px_rgba(212,175,55,0.5)] flex items-center justify-center relative z-10",children:[o.jsx("span",{className:"text-8xl text-amber-500 drop-shadow-[0_4px_15px_rgba(0,0,0,1)]",children:""}),o.jsx("div",{className:"absolute inset-[-10px] border border-[#d4af37]/40 rounded-full animate-[spin_20s_linear_infinite]"})]})]}),o.jsx("div",{className:"h-[2px] w-48 bg-gradient-to-l from-transparent to-[#d4af37]"})]}),o.jsx("h2",{className:"text-7xl font-cinzel font-black gold-gradient-text tracking-[0.2em] uppercase leading-none text-center",children:"Imperial Decree"}),o.jsx("p",{className:"text-[#8b4513] text-sm uppercase tracking-[0.8em] mt-8 font-black opacity-70 italic border-t border-b border-[#d4af37]/20 py-4 px-12",children:"Universal Akashic Records"})]}),o.jsxs("div",{className:"px-40 relative z-0 flex flex-col gap-12",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute -left-12 top-0 text-8xl text-[#d4af37]/10 font-serif",children:""}),o.jsx("div",{className:"italic text-[#2a1a1a] text-2xl font-lora leading-relaxed text-justify px-4",children:"Behold the sacred alignment. As the stars scribe their path across the firmament, so do we transcribe the divine blueprint of your existence. This decree is authenticated by the Glyph Circle Enclave."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[o.jsxs("div",{className:"bg-[#8b4513]/5 border-2 border-[#d4af37]/30 rounded-[2rem] p-10 shadow-inner flex flex-col items-center",children:[o.jsx("span",{className:"text-[12px] uppercase font-black text-[#8b4513] tracking-widest mb-6",children:"Spiritual Vibrance"}),o.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center mb-6",children:[o.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[o.jsx("circle",{cx:"64",cy:"64",r:"58",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-amber-100"}),o.jsx("circle",{cx:"64",cy:"64",r:"58",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"364.4",strokeDashoffset:"36.4",className:"text-[#d4af37]"})]}),o.jsx("span",{className:"absolute text-2xl font-mono font-bold text-[#8b4513]",children:"90%"})]}),o.jsx("p",{className:"text-[10px] text-[#8b4513]/60 italic",children:"Resonant with Ether"})]}),o.jsxs("div",{className:"bg-[#8b4513]/5 border-2 border-[#d4af37]/30 rounded-[2rem] p-10 shadow-inner flex flex-col items-center",children:[o.jsx("span",{className:"text-[12px] uppercase font-black text-[#8b4513] tracking-widest mb-6",children:"Karma Quotient"}),o.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center mb-6",children:[o.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[o.jsx("circle",{cx:"64",cy:"64",r:"58",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-amber-100"}),o.jsx("circle",{cx:"64",cy:"64",r:"58",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:"364.4",strokeDashoffset:"80",className:"text-[#d4af37]"})]}),o.jsx("span",{className:"absolute text-2xl font-mono font-bold text-[#8b4513]",children:"78%"})]}),o.jsx("p",{className:"text-[10px] text-[#8b4513]/60 italic",children:"Active Dharma"})]})]}),o.jsxs("div",{className:"space-y-6 pt-10 opacity-30",children:[o.jsx("div",{className:"h-[1px] bg-[#8b4513] w-full"}),o.jsx("div",{className:"h-[1px] bg-[#8b4513] w-full"}),o.jsx("div",{className:"h-[1px] bg-[#8b4513] w-11/12 mx-auto"})]})]}),o.jsxs("div",{className:"absolute bottom-24 left-0 w-full flex flex-col items-center",children:[o.jsx("div",{className:"text-4xl text-[#d4af37] mb-4 font-cinzel tracking-[1.5em] opacity-40",children:"  "}),o.jsx("span",{className:"text-[11px] uppercase tracking-[0.6em] font-cinzel font-black text-[#2a1a1a] opacity-60",children:"Sacred Sanctum Scribe"}),o.jsx("div",{className:"mt-6 w-80 h-[1px] bg-gradient-to-r from-transparent via-[#d4af37]/50 to-transparent"}),o.jsxs("span",{className:"mt-4 text-[8px] font-mono text-[#8b4513]/40",children:["ETHEREAL_HASH: ",Math.random().toString(36).substring(2,18).toUpperCase()]})]})]})]})]})]})})},Kb={en:{weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Chaitra","Vaishakh","Jyeshtha","Ashadh","Shravan","Bhadrapad","Ashwin","Kartik","Margashirsha","Paush","Magh","Phalguna"],paksha:["Shukla","Krishna"],tithis:["Pratipada","Dwitiya","Tritiya","Chaturthi","Panchami","Shashti","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Purnima/Amavasya"],nakshatras:["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha","Magha","P.Phalguni","U.Phalguni","Hasta","Chitra","Swati","Vishakha","Anuradha","Jyeshtha","Mula","P.Ashadha","U.Ashadha","Shravana","Dhanishta","Shatabhisha","P.Bhadrapada","U.Bhadrapada","Revati"]},mr:{weekdays:["","","","","","",""],months:["","","","","","","","","","","",""],paksha:["",""],tithis:["","","","","","","","","","","","","","","/"],nakshatras:["","","","","","","","","","",".",".","","","","","","","",".",".","","","",".",".",""]},hi:{weekdays:["","","","","","",""],months:["","","","","","","","","","","",""],paksha:["",""],tithis:["","","","","","","","","","","","","","","/"],nakshatras:["","","","","","","","","","",".",".","","","","","","","",".",".","","","",".",".",""]}},GO={"2024-01-15":"Makar Sankranti","2024-01-26":"Republic Day","2024-02-14":"Vasant Panchami","2024-03-08":"Maha Shivaratri","2024-03-25":"Holi","2024-04-09":"Gudi Padwa","2024-04-17":"Ram Navami","2024-05-10":"Akshaya Tritiya","2024-07-21":"Guru Purnima","2024-08-15":"Independence Day","2024-08-19":"Raksha Bandhan","2024-09-07":"Ganesh Chaturthi","2024-10-12":"Dussehra","2024-10-31":"Diwali","2024-11-02":"Bhai Dooj","2024-12-25":"Christmas"},zO=[{code:"en",name:"English"},{code:"mr",name:"Marathi ()"},{code:"hi",name:"Hindi ()"}],Pg=t=>{const e=new Date("2024-01-11").getTime(),r=29.53059,s=(t.getTime()-e)/864e5,i=(s%r+r)%r,a=Math.floor(i/r*30),A=a<15,l=a%15,c=27.32166,u=(s%c+c)%c,h=Math.floor(u/c*27),f=(Math.floor(s/r)+3)%12;return{tithi:l,isShukla:A,nakshatra:h,month:f}},qO=()=>{const{t}=$t(),[e,r]=F.useState(new Date),[n,s]=F.useState("en"),i=Kb[n]||Kb.en,a=F.useMemo(()=>{const h=e.getFullYear(),p=e.getMonth(),f=new Date(h,p,1).getDay(),m=new Date(h,p+1,0).getDate(),w=[];for(let B=0;B<f;B++)w.push(null);for(let B=1;B<=m;B++){const x=new Date(h,p,B),y=Pg(x),C=`${h}-${String(p+1).padStart(2,"0")}-${String(B).padStart(2,"0")}`;w.push({day:B,date:x,isToday:x.toDateString()===new Date().toDateString(),panchang:y,festival:GO[C]})}return w},[e]),A=h=>{r(new Date(e.getFullYear(),e.getMonth()+h,1))},l=h=>{r(new Date(e.getFullYear()+h,e.getMonth(),1))},c=e.toLocaleString("default",{month:"long"}),u=i.months[Pg(new Date(e.getFullYear(),e.getMonth(),1)).month];return o.jsx("div",{className:"min-h-screen py-8 px-4 bg-[#0a0a12] font-lora",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-center mb-10 gap-6 border-b border-amber-500/10 pb-8",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx(ht,{to:"/home",className:"p-3 rounded-full bg-amber-500/10 text-amber-500 hover:bg-amber-500/20 transition-all group",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 transform group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-cinzel font-black text-amber-100 tracking-widest drop-shadow-[0_2px_10px_rgba(245,158,11,0.3)]",children:"KALNIRNAYE"}),o.jsx("p",{className:"text-amber-500/60 text-[10px] uppercase tracking-[0.4em] font-bold mt-1",children:"Sacred Vedic Almanac"})]})]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[o.jsx("div",{className:"bg-black/40 p-1 rounded-xl border border-amber-500/20 flex gap-1",children:zO.map(h=>o.jsx("button",{onClick:()=>s(h.code),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all ${n===h.code?"bg-amber-600 text-white shadow-lg scale-105":"text-gray-500 hover:text-gray-300"}`,children:h.name},h.code))}),o.jsx("button",{onClick:()=>r(new Date),className:"px-5 py-1.5 bg-gradient-to-r from-amber-700 to-maroon-800 text-white text-xs font-bold rounded-lg uppercase tracking-wider shadow-lg hover:brightness-110 active:scale-95 transition-all border border-amber-500/30",children:"Today"})]})]}),o.jsxs("div",{className:"flex flex-col gap-8",children:[o.jsxs(nt,{className:"bg-[#fffcf0] border-[#d4af37]/30 shadow-[0_40px_100px_rgba(0,0,0,0.4)] overflow-hidden report-canvas sacred-boundary",children:[o.jsxs("div",{className:"bg-[#d4af37] p-8 text-center border-b-2 border-amber-900/10 relative",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-5 pointer-events-none overflow-hidden",children:[o.jsx("div",{className:"text-[12rem] leading-none absolute -left-10 -top-10",children:""}),o.jsx("div",{className:"text-[12rem] leading-none absolute -right-10 -bottom-10",children:""})]}),o.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-4 order-2 md:order-1",children:[o.jsx("button",{onClick:()=>l(-1),className:"p-2 bg-black/10 hover:bg-black/20 rounded transition-colors text-amber-950",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M11 19l-7-7m0 0l7-7m-7 7h18"})})}),o.jsx("span",{className:"text-2xl font-cinzel font-black text-amber-950 min-w-[80px]",children:e.getFullYear()}),o.jsx("button",{onClick:()=>l(1),className:"p-2 bg-black/10 hover:bg-black/20 rounded transition-colors text-amber-950",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M13 5l7 7m0 0l-7 7m7-7H6"})})})]}),o.jsxs("div",{className:"order-1 md:order-2",children:[o.jsx("h2",{className:"text-5xl font-cinzel font-black text-amber-950 uppercase tracking-[0.1em] drop-shadow-sm leading-none",children:u}),o.jsxs("p",{className:"text-maroon-900 font-bold uppercase tracking-[0.4em] text-[10px] mt-3 opacity-60",children:[c,"  Masa Cycle"]})]}),o.jsxs("div",{className:"flex items-center gap-4 order-3",children:[o.jsx("button",{onClick:()=>A(-1),className:"p-2 bg-black/10 hover:bg-black/20 rounded transition-colors text-amber-950",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M15 19l-7-7 7-7"})})}),o.jsx("span",{className:"text-xl font-cinzel font-black text-amber-950 min-w-[120px] uppercase",children:c.substring(0,3)}),o.jsx("button",{onClick:()=>A(1),className:"p-2 bg-black/10 hover:bg-black/20 rounded transition-colors text-amber-950",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M9 5l7 7-7 7"})})})]})]})]}),o.jsx("div",{className:"grid grid-cols-7 bg-[#f2e6c4] border-b border-amber-900/10",children:i.weekdays.map((h,p)=>o.jsx("div",{className:`py-6 text-center text-[10px] font-black uppercase tracking-[0.25em] ${p===0?"text-red-700":"text-amber-900/60"}`,children:h},h))}),o.jsx("div",{className:"grid grid-cols-7 min-w-[600px] lg:min-w-0",children:a.map((h,p)=>{if(!h)return o.jsx("div",{className:"bg-[#fffef7]/40 h-28 md:h-36 border-r border-b border-amber-900/5"},`empty-${p}`);const f=p%7===0;return o.jsxs("div",{className:`
                        relative h-28 md:h-36 p-3 border-r border-b border-amber-900/10 transition-all duration-500 group
                        ${h.isToday?"bg-amber-100/60":"hover:bg-amber-50/70"}
                      `,children:[o.jsx("div",{className:`text-3xl md:text-4xl font-cinzel font-black mb-1 leading-none ${f?"text-red-600":"text-[#2d0a18]"}`,children:h.day}),o.jsxs("div",{className:"flex flex-col mt-2 gap-1",children:[o.jsxs("span",{className:"text-[9px] md:text-[10px] font-black text-[#5c2a0d] uppercase tracking-tighter truncate leading-tight",children:[i.paksha[h.panchang.isShukla?0:1]," ",i.tithis[h.panchang.tithi]]}),o.jsx("span",{className:"text-[8px] md:text-[9px] text-[#8b4513]/60 italic truncate font-bold",children:i.nakshatras[h.panchang.nakshatra]})]}),h.festival&&o.jsxs("div",{className:"mt-3 bg-red-700/5 border border-red-700/10 px-1.5 py-1 rounded shadow-sm flex items-center gap-1",children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-red-700 animate-pulse"}),o.jsx("span",{className:"text-[8px] md:text-[9px] font-black text-red-800 uppercase tracking-tighter leading-none truncate",children:h.festival})]}),h.isToday&&o.jsx("div",{className:"absolute bottom-3 right-3 w-2 h-2 bg-amber-600 rounded-full shadow-[0_0_10px_rgba(217,119,6,0.5)] animate-pulse"}),o.jsx("div",{className:"absolute top-1 right-1 text-[8px] opacity-0 group-hover:opacity-20 font-cinzel text-amber-900 transition-opacity",children:"BHAGYA"})]},h.day)})}),o.jsxs("div",{className:"p-6 bg-[#f2e6c4]/50 border-t border-amber-900/5 flex justify-between items-center text-[9px] font-cinzel font-black uppercase tracking-[0.3em] text-amber-900/40",children:[o.jsx("span",{children:"Glyph Circle Almanac v4.0"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-red-700/20"})," Sunday"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-600"})," Today"]})]}),o.jsxs("span",{children:["Est. ",new Date().getFullYear()]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs(nt,{className:"flex-1 p-6 bg-amber-900/5 border border-amber-500/10",children:[o.jsx("h3",{className:"text-xs font-cinzel font-bold text-amber-200 mb-3 uppercase tracking-widest",children:"Temporal Wisdom"}),o.jsx("p",{className:"text-sm text-amber-100/70 italic leading-relaxed",children:'"The Hindu calendar is more than dates; it is a celestial map of vibrational shifts. Each Tithi and Nakshatra influences the Prana of the Earth, guiding our actions toward harmony with the eternal cycle (Rta)."'})]}),o.jsxs(nt,{className:"flex-1 p-6 bg-black/40 border border-amber-500/10 flex flex-col justify-center items-center text-center",children:[o.jsx("span",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"text-xs text-amber-200/60 uppercase tracking-widest font-bold",children:"Recommended Ritual"}),o.jsxs("p",{className:"text-sm text-amber-100 font-cinzel mt-2",children:["Meditate on ",i.nakshatras[Pg(new Date).nakshatra]," energy for clarity."]})]})]})]})]})})},$O=()=>{const{sendNotification:t,permission:e,preferences:r}=s1(),{db:n}=qt();return F.useEffect(()=>{const s=()=>{var l;if(e!=="granted")return;const a=new Date,A=a.toDateString();if(r.daily){const c=localStorage.getItem("glyph_daily_sent_date");a.getHours()>=8&&c!==A&&(t(" Horoscope Ready","The stars have aligned. Tap to reveal your daily guidance."),localStorage.setItem("glyph_daily_sent_date",A))}if(r.store){const c=localStorage.getItem("glyph_store_sent_date");if(a.getHours()>=12&&c!==A){const u=((l=n.store_items)==null?void 0:l.filter(h=>h.status==="active"))||[];if(u.length>0){const h=u[Math.floor(Math.random()*u.length)];t(" New in Sanctuary",`${h.name} is now available. Discover its mystical properties.`),localStorage.setItem("glyph_store_sent_date",A)}}}if(r.reminders){const c=localStorage.getItem("glyph_ritual_sent_date");a.getHours()>=18&&c!==A&&(t(" Evening Ritual","Complete your daily reflection to maintain your spiritual streak!"),localStorage.setItem("glyph_ritual_sent_date",A))}};s();const i=setInterval(s,6e4);return()=>clearInterval(i)},[e,t,n,r]),F.useEffect(()=>{const s=localStorage.getItem("glyph_welcome_push");e==="granted"&&!s&&r.reminders&&setTimeout(()=>{t(" Welcome Seeker","Your spiritual journey has begun. You will receive cosmic insights based on your preferences."),localStorage.setItem("glyph_welcome_push","true")},5e3)},[e,t,r]),null},WO=()=>{const{history:t,user:e}=Xt(),{permission:r}=s1(),[n,s]=F.useState(0),i=_s();return F.useEffect(()=>{var u;if(!e){s(0);return}const a=new Date,A=new Date(a.getTime()-24*60*60*1e3),c=t.filter(h=>new Date(h.timestamp)>A).length;s(c),navigator.setAppBadge&&(c>0?navigator.setAppBadge(c).catch(console.error):(u=navigator.clearAppBadge)==null||u.call(navigator).catch(console.error))},[t,e]),n===0?null:o.jsx("div",{className:"fixed bottom-24 right-6 z-40 animate-bounce pointer-events-none",children:o.jsxs("div",{className:"relative group pointer-events-auto cursor-pointer",title:`${n} new readings today`,onClick:()=>i("/history"),children:[o.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-amber-500 to-neon-magenta rounded-full blur opacity-40 group-hover:opacity-75 transition duration-500 animate-pulse"}),o.jsxs("div",{className:"relative flex items-center justify-center w-12 h-12 bg-gray-900 border border-amber-500/50 rounded-full shadow-2xl hover:scale-110 transition-transform duration-300",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-amber-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-600 rounded-full flex items-center justify-center border-2 border-gray-900 shadow-sm",children:o.jsx("span",{className:"text-[10px] font-bold text-white leading-none",children:n})})]})]})})},JO=()=>o.jsxs("div",{className:"fixed bottom-4 left-4 z-50 bg-black/80 border border-gray-700 p-2 rounded text-[10px] text-gray-400 font-mono pointer-events-none opacity-50 hover:opacity-100 transition-opacity",children:[o.jsx("div",{children:"TEST: Pricing V1"}),o.jsxs("div",{children:["VARIANT: ",localStorage.getItem("glyph_exp_pricing_model_v1")||"Unassigned"]})]}),RN=F.createContext(void 0),YO=()=>{const t=F.useContext(RN);if(!t)throw new Error("useAccessibility must be used within AccessibilityProvider");return t},XO=({children:t})=>{const[e,r]=F.useState(!1),[n,s]=F.useState(!1),[i,a]=F.useState("");F.useEffect(()=>{const u=localStorage.getItem("glyph_high_contrast")==="true",h=localStorage.getItem("glyph_large_text")==="true";r(u),s(h)},[]);const A=F.useCallback(()=>{r(u=>{const h=!u;return localStorage.setItem("glyph_high_contrast",String(h)),h}),navigator.vibrate&&navigator.vibrate(20)},[]),l=F.useCallback(()=>{s(u=>{const h=!u;return localStorage.setItem("glyph_large_text",String(h)),h}),navigator.vibrate&&navigator.vibrate(20)},[]),c=F.useCallback(u=>{a(u),setTimeout(()=>a(""),1e3)},[]);return F.useEffect(()=>{const u=document.documentElement;n?u.style.fontSize="125%":u.style.fontSize="100%",e?document.body.classList.add("high-contrast-mode"):document.body.classList.remove("high-contrast-mode")},[n,e]),o.jsxs(RN.Provider,{value:{highContrast:e,largeText:n,toggleHighContrast:A,toggleLargeText:l,announce:c},children:[e&&o.jsx("style",{children:`
          .high-contrast-mode { background-color: #000 !important; color: #FFD700 !important; }
          .high-contrast-mode * { 
             background-color: #000 !important; 
             color: #FFD700 !important; 
             border-color: #FFD700 !important;
             box-shadow: none !important;
             text-shadow: none !important;
             background-image: none !important;
          }
          .high-contrast-mode img { filter: grayscale(100%) contrast(150%); }
          .high-contrast-mode button { border: 2px solid #FFD700 !important; }
        `}),t,o.jsx("div",{role:"status","aria-live":"polite",className:"sr-only",style:{position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap",border:0},children:i})]})},ZO=()=>{const{highContrast:t,largeText:e,toggleHighContrast:r,toggleLargeText:n}=YO(),{t:s}=$t(),[i,a]=F.useState(!1);return o.jsxs("div",{className:"fixed bottom-24 left-4 z-50",children:[o.jsx("button",{onClick:()=>a(!i),className:"w-12 h-12 bg-blue-600 hover:bg-blue-500 rounded-full shadow-xl flex items-center justify-center text-white border-2 border-white focus:outline-none focus:ring-4 focus:ring-blue-300 transition-transform hover:scale-110","aria-label":"Accessibility Settings","aria-expanded":i,children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 00-1 1v1a1 1 0 002 0V3a1 1 0 00-1-1zM4 4h3a3 3 0 006 0h3a2 2 0 012 2v9a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2zm2.5 7a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm2.45 4a2.5 2.5 0 10-4.9 0h4.9zM12 9a1 1 0 100 2h3a1 1 0 100-2h-3zm-1 4a1 1 0 011-1h2a1 1 0 110 2h-2a1 1 0 01-1-1z",clipRule:"evenodd"})})}),i&&o.jsxs("div",{className:"absolute bottom-16 left-0 w-64 bg-gray-900 border border-amber-500/30 rounded-lg shadow-2xl p-4 animate-fade-in-up origin-bottom-left",children:[o.jsx("h3",{className:"text-amber-100 font-bold mb-4 font-cinzel text-lg border-b border-amber-500/20 pb-2",children:"Accessibility"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:n,className:`w-full p-3 rounded flex items-center justify-between font-bold transition-colors ${e?"bg-amber-600 text-white":"bg-gray-800 text-amber-200 hover:bg-gray-700"}`,children:[o.jsx("span",{className:"text-lg",children:"Aa"}),o.jsx("span",{className:"text-sm",children:e?"Large Text: ON":"Large Text: OFF"})]}),o.jsxs("button",{onClick:r,className:`w-full p-3 rounded flex items-center justify-between font-bold transition-colors ${t?"bg-yellow-400 text-black border-2 border-white":"bg-gray-800 text-amber-200 hover:bg-gray-700"}`,children:[o.jsx("span",{className:"text-lg",children:""}),o.jsx("span",{className:"text-sm",children:t?"Contrast: HIGH":"Contrast: NORMAL"})]})]}),o.jsx("p",{className:"text-xs text-amber-200/50 mt-4 text-center",children:"Designed for readability"})]})]})},eM=({title:t,text:e,url:r=window.location.href,className:n=""})=>{const{t:s}=$t(),i=async()=>{const A={title:t,text:e,url:r};if(navigator.share)try{await navigator.share(A),navigator.vibrate&&navigator.vibrate(50);return}catch(c){console.log("Error sharing:",c)}const l=`https://wa.me/?text=${encodeURIComponent(`${e} ${r}`)}`;window.open(l,"_blank")},a=()=>{navigator.clipboard.writeText(`${e} ${r}`),navigator.vibrate&&navigator.vibrate(50),alert("Link copied to clipboard!")};return o.jsxs("div",{className:`flex gap-2 ${n}`,children:[o.jsxs("button",{onClick:i,className:"flex-1 bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg shadow-lg flex items-center justify-center gap-2 transition-transform transform hover:scale-105 active:scale-95",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp"]}),o.jsx("button",{onClick:a,className:"bg-gray-700 hover:bg-gray-600 text-amber-100 p-3 rounded-lg shadow-lg transition-transform transform hover:scale-105 active:scale-95","aria-label":"Copy Link",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})},tM=()=>{const{user:t}=Xt(),e=t!=null&&t.name?`${t.name.split(" ")[0].toUpperCase()}${t.id.substring(0,3)}`:"MYSTIC123",n=`${window.location.href.split("#")[0]}#/register?ref=${e}`,s=` Uncover your destiny with Glyph Circle! Use my code ${e} to get 10 free credits for your first reading.`;return o.jsxs("div",{className:"min-h-screen py-8 px-4 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:[o.jsx("div",{className:"absolute top-10 right-10 w-64 h-64 bg-amber-500/10 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-10 left-10 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),o.jsxs("div",{className:"max-w-2xl mx-auto relative z-10",children:[o.jsxs(ht,{to:"/home",className:"inline-flex items-center text-amber-200 hover:text-amber-400 transition-colors mb-6 group",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Sanctuary"]}),o.jsxs(nt,{className:"bg-gradient-to-b from-gray-900 to-black border-amber-500/30 overflow-hidden",children:[o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-amber-500/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-amber-500/50 shadow-[0_0_30px_rgba(245,158,11,0.3)]",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h2",{className:"text-3xl font-cinzel font-bold text-amber-100 mb-2",children:"Invite Friends, Get Rewards"}),o.jsxs("p",{className:"text-amber-200/70 font-lora mb-8",children:["Share the mystic path. When a friend joins, you ",o.jsx("strong",{className:"text-amber-400",children:"both get 10"})," in credits for readings."]}),o.jsxs("div",{className:"bg-gray-800/50 border border-amber-500/30 rounded-xl p-6 mb-8 relative group",children:[o.jsx("p",{className:"text-xs text-amber-200/50 uppercase tracking-widest mb-2",children:"Your Unique Code"}),o.jsx("div",{className:"text-3xl font-mono font-bold text-amber-400 tracking-wider select-all cursor-pointer",onClick:()=>{navigator.clipboard.writeText(e),alert("Code copied!")},children:e}),o.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity text-xs text-amber-500 pointer-events-none",children:"Click to Copy"})]}),o.jsx(eM,{title:"Join Glyph Circle",text:s,url:n,className:"w-full"})]}),o.jsxs("div",{className:"bg-gray-900/80 p-6 border-t border-amber-500/20",children:[o.jsx("h3",{className:"text-amber-200 font-bold mb-4 text-sm uppercase tracking-widest",children:"How it works"}),o.jsxs("div",{className:"space-y-4 text-left",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-900/50 flex items-center justify-center text-xs font-bold text-amber-400 border border-amber-500/30",children:"1"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Share your unique code with friends via WhatsApp or Social Media."})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-900/50 flex items-center justify-center text-xs font-bold text-amber-400 border border-amber-500/30",children:"2"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Friends sign up using your code."})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-900/50 flex items-center justify-center text-xs font-bold text-amber-400 border border-amber-500/30",children:"3"}),o.jsx("p",{className:"text-sm text-gray-400",children:"You both receive credits instantly upon their first login."})]})]})]})]})]})]})},rM=()=>{const t=[{id:1,name:"Aarav M.",points:1250,readings:12,avatar:""},{id:2,name:"Priya S.",points:980,readings:9,avatar:""},{id:3,name:"Rahul K.",points:850,readings:8,avatar:""},{id:4,name:"MysticUser_99",points:600,readings:5,avatar:""},{id:5,name:"Sarah J.",points:450,readings:4,avatar:""}],e=n=>{switch(n){case 1:return"bg-yellow-500/20 border-yellow-500/50 text-yellow-200";case 2:return"bg-gray-400/20 border-gray-400/50 text-gray-200";case 3:return"bg-orange-700/20 border-orange-700/50 text-orange-200";default:return"bg-gray-800/30 border-gray-700 text-gray-400"}},r=n=>{switch(n){case 1:return"";case 2:return"";case 3:return"";default:return`#${n}`}};return o.jsx("div",{className:"min-h-screen py-8 px-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx(ht,{to:"/home",className:"text-amber-200 hover:text-white transition-colors",children:" Back"}),o.jsxs("div",{className:"text-right",children:[o.jsx("h2",{className:"text-3xl font-cinzel font-bold text-amber-300",children:"Top Seekers"}),o.jsx("p",{className:"text-xs text-amber-200/50",children:"Weekly Leaderboard"})]})]}),o.jsxs(nt,{className:"overflow-hidden bg-black/60 backdrop-blur-md border-amber-500/20",children:[o.jsxs("div",{className:"bg-gradient-to-r from-amber-900/40 to-purple-900/40 p-4 border-b border-amber-500/20 flex justify-between items-center",children:[o.jsx("span",{className:"text-amber-100 font-bold",children:"This Week's Champions"}),o.jsx("span",{className:"text-xs bg-amber-500/20 text-amber-300 px-2 py-1 rounded",children:"Resets in 2d 4h"})]}),o.jsx("div",{className:"p-4 space-y-3",children:t.map((n,s)=>o.jsxs("div",{className:`flex items-center p-4 rounded-lg border transition-all hover:scale-[1.02] ${e(s+1)}`,children:[o.jsx("div",{className:"w-8 text-xl font-bold text-center mr-4",children:r(s+1)}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-black/30 flex items-center justify-center text-2xl border border-white/10 mr-4",children:n.avatar}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("div",{className:"font-bold text-lg",children:n.name}),o.jsxs("div",{className:"text-xs opacity-70",children:[n.readings," readings this week"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-mono font-bold text-lg",children:n.points}),o.jsx("div",{className:"text-[10px] uppercase tracking-wider opacity-60",children:"Karma Pts"})]})]},n.id))}),o.jsxs("div",{className:"p-4 bg-black/40 text-center border-t border-amber-500/10",children:[o.jsx("p",{className:"text-amber-200/60 text-sm mb-3",children:"Want to climb the ranks?"}),o.jsx(ht,{to:"/referrals",children:o.jsx("button",{className:"text-xs bg-amber-600 hover:bg-amber-500 text-white px-4 py-2 rounded-full font-bold transition-colors",children:"Invite Friends (+100 Pts)"})})]})]})]})})},nM=()=>{const{user:t,newSigilUnlocked:e,clearSigilNotification:r}=Xt(),[n,s]=F.useState(!1),[i,a]=F.useState(!1),A=_s();if(F.useEffect(()=>{if(e){a(!0);const w=setTimeout(()=>{a(!1),r()},4e3);return()=>clearTimeout(w)}},[e,r]),!t||!t.gamification)return null;const{karma:l,streak:c,unlockedSigils:u}=t.gamification,h=Pv(l),p=DC(l),f=Math.min(100,Math.max(0,(l-h.minKarma)/(p.minKarma-h.minKarma)*100)),m=()=>{s(!1),A("/achievements")};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"fixed top-20 left-4 z-40 md:top-24 flex flex-col gap-2 pointer-events-auto",children:[o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-black/60 backdrop-blur-md border border-amber-500/30 rounded-full px-3 py-1.5 shadow-[0_0_15px_rgba(245,158,11,0.2)] hover:border-amber-400 transition-all group",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-600 to-purple-800 flex items-center justify-center text-xs font-bold border border-amber-300",children:h.level}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"text-[10px] text-amber-100 font-cinzel uppercase tracking-wider group-hover:text-amber-300",children:h.title}),o.jsx("div",{className:"w-20 h-1 bg-gray-700 rounded-full overflow-hidden mt-0.5",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-amber-400 to-purple-500",style:{width:`${f}%`}})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-black/60 backdrop-blur-md border border-red-500/30 rounded-full px-3 py-1.5 shadow-lg w-max",title:"Daily Login Streak",children:[o.jsx("span",{className:"text-lg animate-pulse",children:""}),o.jsxs("span",{className:"text-xs font-bold text-red-200 font-mono",children:[c," Day",c!==1?"s":""]})]})]}),i&&o.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[100] animate-fade-in-up",children:o.jsxs("div",{className:"bg-gradient-to-b from-purple-900 to-black p-6 rounded-xl border-2 border-amber-400 shadow-[0_0_50px_rgba(217,70,239,0.6)] text-center",children:[o.jsx("div",{className:"text-4xl mb-2 animate-bounce",children:""}),o.jsx("h3",{className:"text-2xl font-cinzel font-bold text-amber-200 mb-1",children:"Sigil Unlocked!"}),o.jsx("p",{className:"text-purple-300 font-bold text-lg",children:e})]})}),o.jsx(na,{isVisible:n,onClose:()=>s(!1),children:o.jsxs("div",{className:"p-6 bg-[#0F0F23] text-amber-50 max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-cinzel font-bold text-amber-300",children:"Grimoire of Ascension"}),o.jsx("p",{className:"text-amber-200/50 text-xs uppercase tracking-[0.3em]",children:"Your Spiritual Journey"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[o.jsxs("div",{className:"bg-black/30 p-3 rounded border border-amber-500/20 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-400",children:l}),o.jsx("div",{className:"text-[9px] uppercase text-gray-500",children:"Total Karma"})]}),o.jsxs("div",{className:"bg-black/30 p-3 rounded border border-amber-500/20 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-400",children:c}),o.jsx("div",{className:"text-[9px] uppercase text-gray-500",children:"Day Streak"})]}),o.jsxs("div",{className:"bg-black/30 p-3 rounded border border-amber-500/20 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-400",children:t.gamification.readingsCount}),o.jsx("div",{className:"text-[9px] uppercase text-gray-500",children:"Readings"})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between text-xs text-amber-200 mb-2",children:[o.jsxs("span",{children:["Current: ",h.title]}),o.jsxs("span",{children:["Next: ",p.title]})]}),o.jsxs("div",{className:"w-full h-4 bg-gray-900 rounded-full overflow-hidden border border-gray-700 relative",children:[o.jsx("div",{className:"h-full bg-gradient-to-r from-purple-600 via-pink-600 to-amber-500 transition-all duration-1000",style:{width:`${f}%`}}),o.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[9px] font-bold text-white shadow-black drop-shadow-md",children:[l," / ",p.minKarma," Karma"]})]})]}),o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-amber-500/20 pb-2",children:[o.jsxs("h3",{className:"text-sm font-bold text-amber-400 uppercase tracking-widest",children:["Mystic Sigils (",u.length,"/",Df.length,")"]}),o.jsx("button",{onClick:m,className:"text-[10px] text-blue-400 hover:text-white uppercase font-bold tracking-widest underline",children:"Full Gallery"})]}),o.jsx("div",{className:"grid grid-cols-3 gap-4",children:Df.slice(0,6).map(w=>{const B=u.includes(w.id);return o.jsxs("div",{className:`flex flex-col items-center p-3 rounded-lg border transition-all ${B?"bg-amber-900/20 border-amber-500/40 shadow-[0_0_10px_rgba(245,158,11,0.1)]":"bg-gray-900/50 border-gray-800 opacity-50 grayscale"}`,children:[o.jsx("div",{className:`text-3xl mb-2 ${B?"animate-float":""}`,children:w.icon}),o.jsx("div",{className:"text-[10px] font-bold text-center text-amber-100 mb-1",children:w.name})]},w.id)})}),o.jsx("button",{onClick:()=>s(!1),className:"w-full mt-8 py-3 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded border border-gray-600 text-xs uppercase font-bold tracking-wider",children:"Close Grimoire"})]})})]})},Vb={"/store":["store_items","store_categories","store_orders","store_discounts"],"/home":["featured_content","services","image_assets"],"/tarot":["readings","image_assets","content","report_formats"],"/palmistry":["readings","image_assets","report_formats"],"/face-reading":["readings","image_assets","report_formats"],"/numerology":["readings","users","image_assets","services","report_formats"],"/astrology":["readings","users","image_assets","services","report_formats"],"/matchmaking":["readings","image_assets","report_formats"],"/remedy":["remedy_requests","readings","image_assets","report_formats"],"/dream-analysis":["readings","image_assets","report_formats"],"/referrals":["users","transactions"],"/leaderboard":["users"],"/admin/revenue":["transactions","store_orders"],"/admin/config":["config","advertisement_config","payment_config","report_formats"],"/admin/payments":["payment_providers","payment_config","payment_methods"],"/profile":["users","user_subscriptions","transactions"]},sM=["users","transactions","feedback","logs"],iM=()=>{const t=ri(),{user:e}=Xt(),{db:r,createEntry:n,updateEntry:s,toggleStatus:i}=qt(),[a,A]=F.useState(!1),[l,c]=F.useState(null),[u,h]=F.useState("list"),[p,f]=F.useState(""),[m,w]=F.useState(null);if(!((e==null?void 0:e.role)==="admin"))return null;const x=F.useMemo(()=>{const H=t.pathname,$=Object.keys(Vb).find(T=>H.startsWith(T));return($?Vb[$]:sM).filter(T=>r[T]!==void 0)},[t.pathname,r]),y=H=>{c(H),h("table"),f("")},C=()=>{u==="edit"?(h("table"),w(null)):u==="table"&&(h("list"),c(null))},k=()=>{if(!l)return;const H=r[l]||[];if(H.length===0)return alert("No data to export");const $=Object.keys(H[0]).join(","),L=H.map(ie=>Object.values(ie).map(Z=>typeof Z=="object"?`"${JSON.stringify(Z).replace(/"/g,'""')}"`:`"${Z}"`).join(",")),T=[$,...L].join(`
`),W=new Blob([T],{type:"text/csv"}),J=URL.createObjectURL(W),le=document.createElement("a");le.href=J,le.download=`${l}_context_export.csv`,document.body.appendChild(le),le.click(),document.body.removeChild(le)},R=()=>{!l||!m||(m.id&&r[l].find(H=>H.id===m.id)?s(l,m.id,m):n(l,m),h("table"),w(null))},P=()=>o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.map(H=>{var $;return o.jsxs("button",{onClick:()=>y(H),className:"flex justify-between items-center p-4 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded-lg transition-all group",children:[o.jsx("span",{className:"text-amber-100 font-bold text-sm capitalize",children:H.replace(/_/g," ")}),o.jsx("span",{className:"text-xs bg-amber-900/50 text-amber-400 px-2 py-1 rounded font-mono group-hover:bg-amber-500 group-hover:text-black transition-colors",children:(($=r[H])==null?void 0:$.length)||0})]},H)}),x.length===0&&o.jsx("div",{className:"col-span-2 text-center text-gray-500 text-sm py-4",children:"No configured tables for this route context."})]}),M=()=>{if(!l)return null;const H=r[l]||[],$=H.filter(T=>JSON.stringify(T).toLowerCase().includes(p.toLowerCase())),L=H.length>0?Object.keys(H[0]):["id","status"];return o.jsxs("div",{className:"flex flex-col h-[60vh]",children:[o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("input",{className:"flex-grow bg-gray-900 border border-gray-600 rounded px-3 py-2 text-sm text-white focus:border-amber-500 outline-none",placeholder:"Search records...",value:p,onChange:T=>f(T.target.value)}),o.jsx("button",{onClick:()=>{w({}),h("edit")},className:"bg-green-700 text-white px-3 py-2 rounded text-sm hover:bg-green-600",children:"+"}),o.jsx("button",{onClick:k,className:"bg-blue-700 text-white px-3 py-2 rounded text-sm hover:bg-blue-600",children:""})]}),o.jsx("div",{className:"overflow-auto custom-scrollbar flex-grow border border-gray-700 rounded bg-gray-900",children:o.jsxs("table",{className:"w-full text-left text-xs",children:[o.jsx("thead",{className:"bg-gray-800 text-amber-500 sticky top-0",children:o.jsxs("tr",{children:[L.map(T=>o.jsx("th",{className:"p-2 border-b border-gray-700 whitespace-nowrap",children:T},T)),o.jsx("th",{className:"p-2 border-b border-gray-700 text-right",children:"Act"})]})}),o.jsx("tbody",{className:"text-gray-300",children:$.map((T,W)=>o.jsxs("tr",{className:"hover:bg-gray-800 border-b border-gray-800",children:[L.map(J=>{const le=T[J],ie=String(le||""),Z=typeof le=="string"&&ie.startsWith("http"),q=Z&&(J.toLowerCase().includes("image")||J.toLowerCase().includes("photo")||J.toLowerCase().includes("logo")||J.toLowerCase()==="path"||J.toLowerCase()==="url"||ie.match(/\.(jpeg|jpg|gif|png|webp|svg)($|\?)/i)||ie.includes("images.unsplash.com")||ie.includes("drive.google.com"));return o.jsx("td",{className:"p-2 truncate max-w-[150px]",title:ie,children:Z&&q?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:$r.resolveImage(ie),alt:"prev",className:"w-5 h-5 rounded border border-gray-600 object-cover flex-shrink-0",onError:z=>z.currentTarget.style.display="none"}),o.jsx("span",{className:"truncate",children:ie})]}):typeof le=="object"?"{...}":ie},J)}),o.jsxs("td",{className:"p-2 text-right flex justify-end gap-1",children:[o.jsx("button",{onClick:()=>{w(T),h("edit")},className:"text-blue-400 hover:text-white",children:""}),o.jsx("button",{onClick:()=>i(l,T.id),className:`${T.status==="active"?"text-green-400":"text-red-400"} hover:text-white`,children:T.status==="active"?"":""})]})]},W))})]})})]})},U=()=>{var $;if(!m)return null;const H=Object.keys(m).length>0?Object.keys(m):($=r[l])!=null&&$[0]?Object.keys(r[l][0]):["id","name"];return o.jsxs("div",{className:"h-[60vh] overflow-y-auto custom-scrollbar pr-2",children:[o.jsx("h4",{className:"text-amber-400 mb-4 font-bold border-b border-gray-700 pb-2",children:m.id?`Edit #${m.id}`:"New Record"}),o.jsx("div",{className:"space-y-3",children:H.map(L=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 uppercase mb-1",children:L}),L==="status"?o.jsxs("select",{value:m[L]||"active",onChange:T=>w({...m,[L]:T.target.value}),className:"w-full bg-gray-900 border border-gray-600 rounded p-2 text-sm text-white",children:[o.jsx("option",{value:"active",children:"active"}),o.jsx("option",{value:"inactive",children:"inactive"})]}):o.jsx("input",{disabled:L==="id"&&!!m.id,className:`w-full bg-gray-900 border border-gray-600 rounded p-2 text-sm text-white ${L==="id"?"opacity-50":""}`,value:typeof m[L]=="object"?JSON.stringify(m[L]):m[L]||"",onChange:T=>w({...m,[L]:T.target.value})})]},L))}),o.jsx("div",{className:"mt-6 flex gap-2",children:o.jsx(ft,{onClick:R,className:"flex-1 bg-green-700 hover:bg-green-600 text-sm",children:"Save"})})]})};return o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>A(!0),className:"fixed top-36 right-0 z-50 bg-amber-600 text-white pl-3 pr-2 py-2 rounded-l-lg shadow-lg border-l border-t border-b border-amber-400 hover:bg-amber-500 transition-all transform hover:scale-105 flex items-center gap-2 font-bold text-xs",title:`Manage DB: ${t.pathname}`,children:[o.jsx("span",{children:" DB"}),l&&o.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),o.jsx(na,{isVisible:a,onClose:()=>A(!1),children:o.jsxs("div",{className:"bg-[#0F0F23] text-amber-50 rounded-xl max-w-4xl w-full mx-4 flex flex-col max-h-[85vh] border border-amber-500/30 shadow-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700 bg-gray-900/50 rounded-t-xl",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[u!=="list"&&o.jsx("button",{onClick:C,className:"text-gray-400 hover:text-white mr-2 text-xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-cinzel font-bold text-amber-400",children:u==="list"?"Context Database":l==null?void 0:l.replace(/_/g," ").toUpperCase()}),o.jsxs("p",{className:"text-[10px] text-gray-500 font-mono uppercase tracking-widest",children:["Context: ",t.pathname]})]})]}),o.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),o.jsxs("div",{className:"p-4 flex-grow bg-gray-900/80",children:[u==="list"&&P(),u==="table"&&M(),u==="edit"&&U()]}),u==="list"&&o.jsxs("div",{className:"p-3 bg-gray-900 border-t border-gray-700 text-center text-[10px] text-gray-500",children:["Auto-detected ",x.length," tables for this route."]})]})})]})},aM=()=>{const t=ri(),e=n=>t.pathname===n,r=[{path:"/home",icon:"",label:"Home"},{path:"/history",icon:"",label:"History"},{path:"/store",icon:"",label:"Store"},{path:"/remedy",icon:"",label:"Guide"}];return o.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-[#0F0F23]/95 backdrop-blur-xl border-t border-amber-500/20 z-50 pb-safe",children:o.jsx("div",{className:"flex justify-around items-center h-16",children:r.map(n=>o.jsxs(ht,{to:n.path,className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${e(n.path)?"text-amber-400":"text-gray-500 hover:text-amber-200"}`,children:[o.jsx("span",{className:`text-xl transition-transform ${e(n.path)?"-translate-y-1":""}`,children:n.icon}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:n.label}),e(n.path)&&o.jsx("span",{className:"absolute bottom-1 w-1 h-1 bg-amber-400 rounded-full"})]},n.path))})})},oM=()=>{var A,l;const[t,e]=F.useState(window.innerWidth),r=typeof window<"u"&&((A=window.Capacitor)==null?void 0:A.isNative),n=typeof window<"u"&&((l=window.Capacitor)!=null&&l.getPlatform)?window.Capacitor.getPlatform():"web";F.useEffect(()=>{const c=()=>e(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const s=t<768,i=t>=768&&t<1024,a=t>=1024;return{isMobile:s,isTablet:i,isDesktop:a,isNative:r,platform:n,width:t}},AM=()=>{const[t,e]=F.useState(!1),[r,n]=F.useState({x:0,y:0}),s=F.useRef(null);return F.useEffect(()=>{const i=A=>{e(!1),n({x:A.clientX,y:A.clientY}),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>e(!0),3e3)},a=()=>e(!1);return window.addEventListener("mousemove",i),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a)}},[]),t?o.jsxs("div",{className:"fixed pointer-events-none z-[9999] select-none animate-pulse-glow",style:{left:r.x,top:r.y,transform:"translate(-50%, -50%)",cursor:"none"},children:[o.jsx("span",{className:"text-5xl text-amber-400 font-bold drop-shadow-[0_0_20px_rgba(245,158,11,0.9)] select-none",children:""}),o.jsx("style",{children:`
        body, button, a, input { cursor: none !important; }
      `})]}):null},xr=({children:t})=>{const{isAuthenticated:e,isLoading:r}=Xt();return r?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("div",{className:"w-12 h-12 border-4 border-skin-accent border-t-transparent rounded-full animate-spin"})}):e?o.jsx(o.Fragment,{children:t}):o.jsx(Bl,{to:"/login",replace:!0})};function lM(){const{isAuthenticated:t,logout:e,user:r}=Xt(),n=ri(),{isMobile:s}=oM(),i=["/login","/register","/master-login"].includes(n.pathname),a=n.pathname.startsWith("/admin")||n.pathname==="/master-login",A=t&&!i&&!a,l=F.useMemo(()=>r?r.role==="admin"&&gC.includes(r.email||""):!1,[r]);return o.jsx(XO,{children:o.jsx(ZD,{children:o.jsx(UO,{children:o.jsxs("div",{className:"bg-skin-base min-h-screen text-skin-text flex flex-col font-lora overflow-x-hidden transition-colors duration-500",children:[o.jsx(AM,{}),A&&o.jsx(wD,{onLogout:e,isMobile:s}),t&&o.jsxs(o.Fragment,{children:[o.jsx($O,{}),!s&&o.jsx(WO,{}),o.jsx(ZO,{}),l&&o.jsx(iM,{}),l&&o.jsx(JO,{}),!a&&o.jsx(nM,{}),!a&&!s&&o.jsx(ht,{to:"/referrals",className:"fixed bottom-6 left-6 z-40 animate-pulse-glow group",children:o.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-700 rounded-full shadow-[0_0_20px_rgba(34,197,94,0.4)] flex items-center justify-center border-2 border-white/20 transform group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"text-2xl",children:""})})})]}),o.jsxs("main",{className:`flex-grow ${A?`container mx-auto px-4 ${s?"pb-24 pt-4":"py-8"}`:""}`,children:[n.pathname==="/home"&&t&&o.jsx(HO,{}),o.jsxs(V_,{children:[o.jsx(xt,{path:"/",element:t?o.jsx(By,{}):o.jsx(jb,{})}),o.jsx(xt,{path:"/login",element:t?o.jsx(Bl,{to:"/home"}):o.jsx(jb,{})}),o.jsx(xt,{path:"/register",element:t?o.jsx(Bl,{to:"/home"}):o.jsx(uD,{})}),o.jsx(xt,{path:"/master-login",element:o.jsx(JD,{})}),o.jsx(xt,{path:"/admin/dashboard",element:o.jsx(Na,{children:o.jsx(HD,{})})}),o.jsx(xt,{path:"/admin/config",element:o.jsx(Na,{children:o.jsx(VD,{})})}),o.jsx(xt,{path:"/admin/cloud",element:o.jsx(Na,{children:o.jsx(zD,{})})}),o.jsx(xt,{path:"/admin/payments",element:o.jsx(Na,{children:o.jsx($D,{})})}),o.jsx(xt,{path:"/admin/revenue",element:o.jsx(Na,{children:o.jsx(eO,{})})}),o.jsx(xt,{path:"/admin/db/:table",element:o.jsx(Na,{children:o.jsx(WD,{})})}),o.jsx(xt,{path:"/admin/backup",element:o.jsx(Na,{children:o.jsx(jO,{})})}),o.jsx(xt,{path:"/admin/report-designer",element:o.jsx(Na,{children:o.jsx(VO,{})})}),o.jsx(xt,{path:"/home",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(By,{})})})}),o.jsx(xt,{path:"/history",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(LO,{})})})}),o.jsx(xt,{path:"/palmistry",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(AD,{})})})}),o.jsx(xt,{path:"/numerology",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(Mb,{mode:"numerology"})})})}),o.jsx(xt,{path:"/astrology",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(Mb,{mode:"astrology"})})})}),o.jsx(xt,{path:"/tarot",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(kO,{})})})}),o.jsx(xt,{path:"/face-reading",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(ID,{})})})}),o.jsx(xt,{path:"/dream-analysis",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(jD,{})})})}),o.jsx(xt,{path:"/matchmaking",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(OD,{})})})}),o.jsx(xt,{path:"/remedy",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(xD,{})})})}),o.jsx(xt,{path:"/store",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(IO,{})})})}),o.jsx(xt,{path:"/gemstones",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(QO,{})})})}),o.jsx(xt,{path:"/referrals",element:o.jsx(xr,{children:o.jsx(tM,{})})}),o.jsx(xt,{path:"/leaderboard",element:o.jsx(xr,{children:o.jsx(rM,{})})}),o.jsx(xt,{path:"/achievements",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(KO,{})})})}),o.jsx(xt,{path:"/ayurveda",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(TO,{})})})}),o.jsx(xt,{path:"/moon-journal",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(RO,{})})})}),o.jsx(xt,{path:"/muhurat",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(DO,{})})})}),o.jsx(xt,{path:"/cosmic-sync",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(OO,{})})})}),o.jsx(xt,{path:"/voice-oracle",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(MO,{})})})}),o.jsx(xt,{path:"/calendar",element:o.jsx(xr,{children:o.jsx(Ur,{children:o.jsx(qO,{})})})}),o.jsx(xt,{path:"*",element:o.jsx(Bl,{to:"/login"})})]})]}),A&&s&&o.jsx(aM,{}),A&&!s&&o.jsx(vD,{})]})})})})}(function(){const e=["Location.assign","script denied","NS_ERROR_DOM_BAD_URI","not allowed by","security"],r=n=>{const s=n&&typeof n=="string"?n:String(n||"");return!s||s==="undefined"||s.includes("access_token")||s.includes("type=signup")||s.includes("refresh_token")||s.includes("error_description")||s.includes("otp_expired")?!1:e.some(a=>s.toLowerCase().includes(a.toLowerCase()))};window.addEventListener("unhandledrejection",n=>{var i;const s=((i=n.reason)==null?void 0:i.message)||String(n.reason||"");r(s)&&(n.preventDefault(),n.stopPropagation(),console.warn(" Blocked Security Exception:",s))}),window.addEventListener("error",n=>{r(n.message)&&(n.preventDefault(),n.stopPropagation())},!0)})();const DN=document.getElementById("root");if(!DN)throw new Error("Root element not found");const cM=window.location.protocol==="blob:"||window.location.origin==="null"||window.location.hostname.includes("usercontent.goog"),uM=cM?K_:X_,dM=Rg.createRoot(DN);dM.render(o.jsx(t5.StrictMode,{children:o.jsx(uM,{children:o.jsx(eI,{children:o.jsx(zU,{children:o.jsx(fD,{children:o.jsx(tI,{children:o.jsx(Q6,{children:o.jsx(lM,{})})})})})})})}));export{Lt as _,hM as c,C3 as g};
